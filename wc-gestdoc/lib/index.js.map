{"version":3,"sources":["webpack://wc-gestdoc/webpack/universalModuleDefinition","webpack://wc-gestdoc/webpack/bootstrap","webpack://wc-gestdoc/./node_modules/css-loader/lib/css-base.js","webpack://wc-gestdoc/./node_modules/css-loader/lib/url/escape.js","webpack://wc-gestdoc/./node_modules/escape-string-regexp/index.js","webpack://wc-gestdoc/./node_modules/filename-reserved-regex/index.js","webpack://wc-gestdoc/./node_modules/filenamify/index.js","webpack://wc-gestdoc/./node_modules/path-browserify/index.js","webpack://wc-gestdoc/./node_modules/process/browser.js","webpack://wc-gestdoc/./node_modules/strip-outer/index.js","webpack://wc-gestdoc/./node_modules/trim-repeated/index.js","webpack://wc-gestdoc/./node_modules/ui-commons-wc/dist/commons.js","webpack://wc-gestdoc/./node_modules/ui-date-wc/dist/date.js","webpack://wc-gestdoc/./src/components/Aside.html","webpack://wc-gestdoc/./src/components/Aside.js","webpack://wc-gestdoc/./src/components/Aside.scss","webpack://wc-gestdoc/./src/components/GestDoc.html","webpack://wc-gestdoc/./src/components/GestDoc.js","webpack://wc-gestdoc/./src/components/GestDoc.scss","webpack://wc-gestdoc/./src/components/GestDocTree.html","webpack://wc-gestdoc/./src/components/GestDocTree.js","webpack://wc-gestdoc/./src/components/GestDocTree.scss","webpack://wc-gestdoc/./src/components/Modal.html","webpack://wc-gestdoc/./src/components/Modal.js","webpack://wc-gestdoc/./src/components/Modal.scss","webpack://wc-gestdoc/./src/components/Progress.html","webpack://wc-gestdoc/./src/components/Progress.js","webpack://wc-gestdoc/./src/components/Progress.scss","webpack://wc-gestdoc/./src/components/Subprocess.js","webpack://wc-gestdoc/./src/components/fragments/adjuntarFirma.html","webpack://wc-gestdoc/./src/components/fragments/adjuntarFirma.scss","webpack://wc-gestdoc/./src/components/fragments/error.html","webpack://wc-gestdoc/./src/components/fragments/error.scss","webpack://wc-gestdoc/./src/components/fragments/info.scss","webpack://wc-gestdoc/./src/components/fragments/li.html","webpack://wc-gestdoc/./src/components/fragments/liInput.html","webpack://wc-gestdoc/./src/components/fragments/menu.scss","webpack://wc-gestdoc/./src/components/fragments/modalExceptuar.html","webpack://wc-gestdoc/./src/components/fragments/modalExceptuar.scss","webpack://wc-gestdoc/./src/components/fragments/msg.html","webpack://wc-gestdoc/./src/components/fragments/msg.scss","webpack://wc-gestdoc/./src/components/fragments/nodoArbol.html","webpack://wc-gestdoc/./src/components/fragments/nodoDoc.html","webpack://wc-gestdoc/./src/components/img/agree.svg","webpack://wc-gestdoc/./src/components/img/busy.svg","webpack://wc-gestdoc/./src/components/img/contextual-menu.svg","webpack://wc-gestdoc/./src/components/img/cross.svg","webpack://wc-gestdoc/./src/components/img/documentos.png","webpack://wc-gestdoc/./src/components/img/error.svg","webpack://wc-gestdoc/./src/components/img/excepted.svg","webpack://wc-gestdoc/./src/components/img/following-results.svg","webpack://wc-gestdoc/./src/components/img/help.svg","webpack://wc-gestdoc/./src/components/img/in-progress.svg","webpack://wc-gestdoc/./src/components/img/in-progressW.svg","webpack://wc-gestdoc/./src/components/img/info.svg","webpack://wc-gestdoc/./src/components/img/minus.svg","webpack://wc-gestdoc/./src/components/img/pending.svg","webpack://wc-gestdoc/./src/components/img/plus.svg","webpack://wc-gestdoc/./src/components/img/required-signature.svg","webpack://wc-gestdoc/./src/components/img/template.svg","webpack://wc-gestdoc/./src/components/img/warning.svg","webpack://wc-gestdoc/./src/components/servicios.js","webpack://wc-gestdoc/./src/components/stacking.js","webpack://wc-gestdoc/./src/components/utilGestDoc.js","webpack://wc-gestdoc/./src/index.js"],"names":["Aside","HTMLElement","constructor","shadowRoot","attachShadow","mode","innerHTML","styles","template","_client","querySelector","_markup","undefined","_click","e","stopPropagation","connectedCallback","addEventListener","disconnectedCallback","removeEventListener","dispatchEvent","CustomEvent","bubbles","inject","markup","_css","removeChild","document","createElement","type","appendChild","createTextNode","scrollsEntre","p","h","ret","t","l","tmp","parentNode","host","scrollTop","scrollLeft","getTop","nodo","padre","documentElement","tmpnodo","offsetTop","offsetParent","getLeft","offsetLeft","getBoundingDocumentRect","n","left","top","width","offsetWidth","height","offsetHeight","adjust","el","pp","mascara","target","x","pageX","y","pageY","br","mask","client","parentElement","derecha","abajo","cloneNode","style","position","w","wt","clientWidth","ht","clientHeight","classList","add","right","String","Math","ceil","borderBottomWidth","bottom","borderTopWidth","actual","targetActual","click_body","esExcepcionCerrar","body","window","targetscroll","composedPath","contains","aside","z","font","getComputedStyle","zIndex","getZEfectivoEnBody","templateNode","CONTENT_NODE","GestDoc","_root","_handle","bind","_handlescroll","_error","_cfg","_subprocesoInyeccion","Subprocess","URLS","GESTIONARDOCUMENTOSGESTORIAS","error","_documentos","_reconect","_documentosMulti","_expandedMulti","_multisInyectar","_dispatchEvent","msg","EVENT","NOTIFY_PENDING","detail","documentosPendientes","is","value","files","id","closest","getAttribute","doc","find","d","file","accion","_accion","node","reg","toggle","_inyectarMultiArchivo","mostrarInfoDoc","indicadorConsulta","mostrarMenuAcciones","ancla","dispatch","Promise","resolve","SHOW_LOADING_EXPEDIENTE","reject","obtenerMultiArchivo","then","r","HIDE_LOADING_EXPEDIENTE","ref","forEach","obj","push","_paint","catch","console","log","_inyectarMultiArchivos","mod","arc","pop","remove","includes","_consultarDocumento","_generarPlantilla","_adjuntarDocumento","_eliminarDocumento","_verDetalleExceptuado","_exceptuarDocumento","acciones","generarPlantilla","url","descargaFichero","filenamify","propuesta","identificadorExpediente","mostrarError","exceptuarDocumento","_render","obtenerMotivoExceptuacion","eliminarDocumento","consultarDocumento","nombreSubtipoDocumento","subirFichero","data","adjuntarDocumento","operationMessage","adjuntarFirma","abierto","that","setTimeout","cfg","content","setAttribute","indicadorMultiArchivo","innerText","title","indicadorDescripcion","indicadorObligatoriedad","indicadorRequiereFirma","mapEstado","codigoEstado","clase","length","mapAccion","codigoAccion","_backupEstado","querySelectorAll","noShowLoading","resetSec","_load","docs","_getPage","codigoTarea","tarea","notG","model","fase","identificadorExpedienteDocumental","identificadorPropuesta","idGarantia","datoDocumentoExpediente","codigoIdentificadorGarantia","inicia","when","filterAndAdjust","documentos","_loadmock","require","idCounter","esGarantia","identificadorExpedienteGarantia","trim","codigoExpedienteInterviniente","esInterviniente","esDocumento","identificadorSubtipoDocumento","defineExpediente","indicadorDocumentoDefinidoExpediente","esAgrupacion","indicadorAgrupacion","composeNameGarantia","name","splitted","split","processTree","garantias","expedientes","intervinientes","libres","addChildren","nombreInterviniente","nombreGarantia","modelo","Object","values","it","agrupaciones","children","unshift","nivel","nombreAgrupacion","parent","GestDocTree","_mas","_handleMas","_modelo","_expanded","_indicadorMasDocumentos","_clavePaginacion","_loadPage","nextElementSibling","_paintDoc","Array","isArray","vert","c","i","indicadorArchivo","incorporadoPor","consulta","_loadMultiple","num","claveHasta","clave","indicadorMasDocumentos","clavePaginacionOut","_loadinit2","selector","Modal","_popup","close","_endtransition","_closing","transform","opacity","removeProperty","popup","popupi","dialogMsg","cerrar","clean","aspa","aceptar","html","message","textoOk","Progress","boolC","sinProgres","_text","progress","contenedor","Dsl","prom","g_callbacks","g_allways","g_errors","oldTransiciones","_oldTransiciones","_callbacks","keys","k","key","map","_always","_errors","_transiciones","_prom","errorData","codigoError","_process","_process_error","resolucion","stateData","availableTransitions","viewId","cb","trancisionesPermitidas","vw","always","_url","_dsl","http","sendEvent","event","silenciarErrores","Error","finaliza","Danaopen","method","DanaMethodOpen","open","DanaSetRequestHeader","v","DanaMethodSetRequestHeader","setRequestHeader","fetch2","options","headers","Headers","req","XMLHttpRequest","entries","onload","response","getResponseHeader","status","onerror","send","config","appCode","appDomine","tabit","setAppNEO","toQueryString","o","str","encodeURIComponent","encodeURI","toString","join","cacheTabit","getTabit","tab","params","peticion","indexOf","query","URL_UPLOAD","get","append","credentials","resp","JSON","parse","warn","post","stringify","nombre","ext","posPunto","lastIndexOf","fin","substring","getBlob","blob","frame","display","a","clickevent","createEvent","initEvent","URL","revokeObjectURL","xhr","responseType","Blob","createObjectURL","statusText","size","formData","FormData","doesStyleCreateStackingCtx","nodeType","transformStyle","perspective","flowFrom","tagName","getStackingContext","sC","sec","uniq","secMulti","uniqMulti","resetSecMulti","accionesPermitidas","filter","st","instanciasSubtipoDocumentos","instanciasSubtipoDocuments","esAccionGestoria","documentosTotales","documentosEnExpediente","codigo","OBTENERMOTIVOEXCEPTUACION","INFO","MODIFICARDOCUMENTO","EXCEPTUARDOCUMENTO","templateli","templateliInput","NA","NG","BL","GN","GS","NE","NP","EE","EO","EA","VE","EF","ED","IC","IR","PD","PF","DC","EC","NV","EX","ER","DD","EP","IS","AN","AD","VI","IM","EM","DE","DP","IP","VP","AF","VD","MSGS","IMPORTEINSUFICIENTE","MODOADVERTENCIAANULAR","txtinformacionDocumento","listaInstancias","identificadorInstanciaSubtipoDocumento","tipoFase","codigoFase","codFase","idDocGestorDoc","identificadorDocumentoGestorDocumental","codSubproceso","codigoSubproceso","indicadorFichero","listaInstanciasSbtipoDoc","tipoFichero","tipoFirma","cursor","informacionDocumento","onclick","li","hasAttribute","ul","shift","reduce","trace","handle","json","manejador","sb","inst","datosExpedienteConsultar","ficheroInyectado","ficheros","localizadorFichero","datosExpedientePlantilla","idInstanciaDocumento","idInstanciaProceso","codIdioma","opcionImpresion","numCopias","opcionGeneracion","indFirmaDigital","datosImpresion","loc","datosExpedienteAdjuntar","atributosnombreDocumento","orden","valor","instanciasSubtipoDocument","identificadorContratoExpedienteActivo","codigoFamiliaProducto","codigoGrupoProducto","codigoLineaNegocio","codigoLineaDeNegocio","cancelar","date","handleChange","fechaFirma","toISOString","replace","removeAttribute","validity","valid","datosExpedienteEliminar","documentoExceptuacion","indConsulta","idDocGestor","datos","atenderErroresyAvisos","tf","codMotivoExceptuacion","openModalExceptuar","avisos","nuevo","handle_change","select","modificar","observaciones","textarea","option","op","DESLARGA","CODIGO","insertBefore","firstChild","nombreTipoDocumento","out","mensaje","subprocesoInyeccion","nombrefichero","multidocs","estadoFichero","idDocGestorDocOut","parentId","indicadorOriginalCopia","customElements","define"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kDAA0C,gCAAgC;AAC1E;AACA;;AAEA;AACA;AACA;AACA,gEAAwD,kBAAkB;AAC1E;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAyC,iCAAiC;AAC1E,wHAAgH,mBAAmB,EAAE;AACrI;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;;AAGA;AACA;;;;;;;;;;;;AClFA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,mCAAmC,gBAAgB;AACnD,IAAI;AACJ;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA,YAAY,oBAAoB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,oDAAoD,cAAc;;AAElE;AACA;;;;;;;;;;;;AC3EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;;ACfa;;AAEb,8BAA8B;;AAE9B;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;;ACVa;AACb;AACA;AACA;AACA;;;;;;;;;;;;;ACJa;AACb,aAAa,mBAAO,CAAC,qDAAM;AAC3B,qBAAqB,mBAAO,CAAC,4DAAe;AAC5C,8BAA8B,mBAAO,CAAC,gFAAyB;AAC/D,mBAAmB,mBAAO,CAAC,wDAAa;;AAExC;AACA;;AAEA,uDAAuD;AACvD;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AC7CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,QAAQ;AACxC;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAU,MAAM;AAChB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,6BAA6B,IAAI;AACjC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,oCAAoC,8BAA8B;AAClE;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAU,oBAAoB;AAC9B;AACA;;AAEA;AACA,UAAU,UAAU;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,iBAAiB,YAAY;AAC7B;AACA;AACA;AACA;AACA;;AAEA;AACA,+BAA+B,sBAAsB;AACrD;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA,mBAAmB,eAAe;AAClC;AACA;AACA;AACA;;AAEA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC/NA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qCAAqC;;AAErC;AACA;AACA;;AAEA,2BAA2B;AAC3B;AACA;AACA;AACA,4BAA4B,UAAU;;;;;;;;;;;;;ACvLzB;AACb,yBAAyB,mBAAO,CAAC,0EAAsB;;AAEvD;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;;;;;ACVa;AACb,yBAAyB,mBAAO,CAAC,0EAAsB;;AAEvD;AACA;AACA;AACA;;AAEA,uEAAuE,GAAG;AAC1E;;;;;;;;;;;;ACTA;AACA;AACA,IAAI,IAAyD;AAC7D;AACA,MAAM,aAKJ;AACF,CAAC;AACD,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD,gCAAgC;AAClF;AACA;AACA;AACA;AACA;AACA;AACA,gEAAgE,kBAAkB;AAClF;AACA,yDAAyD,cAAc;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,iCAAiC;AAClF,wHAAwH,mBAAmB,EAAE;AAC7I;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,0BAA0B,EAAE;AAC/D,yCAAyC,eAAe;AACxD;AACA;AACA;AACA;AACA;AACA,8DAA8D,+DAA+D;AAC7H;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,uGAAuG,wEAAwE,EAAE;;AAEjL;AACA,+FAA+F,gEAAgE,EAAE;;AAEjK;AACA,sGAAsG,qEAAqE,EAAE;;AAE7K,2FAA2F,0DAA0D,EAAE;;;;;;;;;AASvJ,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iGAAiG,uBAAuB,EAAE;AAC1H;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAgB,oBAAoB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iGAAiG,eAAe,EAAE;AAClH;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,uGAAuG,sBAAsB,EAAE;AAC/H,4FAA4F,WAAW,EAAE;AACzG;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;;;AAKA,OAAO;;AAEP,UAAU;AACV,CAAC,E;;;;;;;;;;;ACtZD;AACA;AACA,IAAI,IAAyD;AAC7D,2BAA2B,mBAAO,CAAC,mEAAe;AAClD,MAAM,aAKJ;AACF,CAAC;AACD,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD,gCAAgC;AAClF;AACA;AACA;AACA;AACA;AACA;AACA,gEAAgE,kBAAkB;AAClF;AACA,yDAAyD,cAAc;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,iCAAiC;AAClF,wHAAwH,mBAAmB,EAAE;AAC7I;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,0BAA0B,EAAE;AAC/D,yCAAyC,eAAe;AACxD;AACA;AACA;AACA;AACA;AACA,8DAA8D,+DAA+D;AAC7H;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iGAAiG,sBAAsB,EAAE;AACzH;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AAMA;AACA;AACA;AACA;;AAEA,4BAA4B,iGAAiG;AAC7H,0BAA0B,+DAA+D;AACzF,2BAA2B,6CAA6C;AACxE,2BAA2B,oBAAoB;AAC/C,yBAAyB,qBAAqB;;AAE9C;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,wCAAwC,aAAa;AACrD;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,eAAe;AAC/C;AACA;AACA;AACA,gCAAgC,kBAAkB;AAClD;AACA;AACA;AACA;AACA,8BAA8B,eAAe;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,4BAA4B,mBAAmB;AAC/C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;;AAEA,wCAAwC,2BAA2B,8BAA8B,uBAAuB,qBAAqB,6EAA6E,6BAA6B,EAAE,gCAAgC,4BAA4B,iBAAiB,uFAAuF,EAAE,oCAAoC,uBAAuB,gCAAgC,4BAA4B,EAAE,qCAAqC,4BAA4B,EAAE,6CAA6C,yFAAyF,EAAE,8EAA8E,8BAA8B,kCAAkC,EAAE,sFAAsF,2FAA2F,EAAE,8DAA8D,8BAA8B,+BAA+B,EAAE,sEAAsE,2FAA2F,EAAE,mCAAmC,6BAA6B,4BAA4B,qBAAqB,sBAAsB,EAAE,WAAW,iBAAiB,gFAAgF,EAAE,mBAAmB,4CAA4C,oBAAoB,mBAAmB,0BAA0B,0BAA0B,EAAE,2BAA2B,qBAAqB,cAAc,wBAAwB,yBAAyB,gBAAgB,yBAAyB,uBAAuB,mBAAmB,oBAAoB,EAAE,kDAAkD,oBAAoB,EAAE,kDAAkD,iCAAiC,gCAAgC,qCAAqC,sCAAsC,oCAAoC,oBAAoB,+BAA+B,oBAAoB,yBAAyB,EAAE,oEAAoE,yCAAyC,4BAA4B,mCAAmC,EAAE,0BAA0B,yBAAyB,uBAAuB,mBAAmB,EAAE;;AAE1kF,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iGAAiG,8BAA8B,EAAE;AACjI;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AAOA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,wCAAwC,aAAa;AACrD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,4EAA4E;AAC5E;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;;AAEA,yBAAyB,iBAAiB,kGAAkG,oBAAoB,mBAAmB,EAAE,kBAAkB,uBAAuB,8BAA8B,gBAAgB,EAAE,2BAA2B,uBAAuB,kBAAkB,mCAAmC,8BAA8B,8BAA8B,kBAAkB,sCAAsC,EAAE,2CAA2C,yCAAyC,EAAE,6BAA6B,sBAAsB,qBAAqB,EAAE,mCAAmC,qBAAqB,4BAA4B,EAAE,mCAAmC,qBAAqB,EAAE,WAAW,o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","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"wc-gestdoc\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"wc-gestdoc\"] = factory();\n\telse\n\t\troot[\"wc-gestdoc\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn \"@media \" + item[2] + \"{\" + content + \"}\";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || '';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === 'function') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n\t}\n\n\treturn [content].join('\\n');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n\n\treturn '/*# ' + data + ' */';\n}\n","module.exports = function escape(url) {\n    if (typeof url !== 'string') {\n        return url\n    }\n    // If url is already wrapped in quotes, remove them\n    if (/^['\"].*['\"]$/.test(url)) {\n        url = url.slice(1, -1);\n    }\n    // Should url be wrapped?\n    // See https://drafts.csswg.org/css-values-3/#urls\n    if (/[\"'() \\t\\n]/.test(url)) {\n        return '\"' + url.replace(/\"/g, '\\\\\"').replace(/\\n/g, '\\\\n') + '\"'\n    }\n\n    return url\n}\n","'use strict';\n\nvar matchOperatorsRe = /[|\\\\{}()[\\]^$+*?.]/g;\n\nmodule.exports = function (str) {\n\tif (typeof str !== 'string') {\n\t\tthrow new TypeError('Expected a string');\n\t}\n\n\treturn str.replace(matchOperatorsRe, '\\\\$&');\n};\n","'use strict';\n/* eslint-disable no-control-regex */\n// TODO: remove parens when Node.js 6 is targeted. Node.js 4 barfs at it.\nmodule.exports = () => (/[<>:\"\\/\\\\|?*\\x00-\\x1F]/g);\nmodule.exports.windowsNames = () => (/^(con|prn|aux|nul|com[0-9]|lpt[0-9])$/i);\n","'use strict';\nconst path = require('path');\nconst trimRepeated = require('trim-repeated');\nconst filenameReservedRegex = require('filename-reserved-regex');\nconst stripOuter = require('strip-outer');\n\n// Doesn't make sense to have longer filenames\nconst MAX_FILENAME_LENGTH = 100;\n\nconst reControlChars = /[\\u0000-\\u001f\\u0080-\\u009f]/g; // eslint-disable-line no-control-regex\nconst reRelativePath = /^\\.+/;\n\nconst fn = (string, options) => {\n\tif (typeof string !== 'string') {\n\t\tthrow new TypeError('Expected a string');\n\t}\n\n\toptions = options || {};\n\n\tconst replacement = options.replacement === undefined ? '!' : options.replacement;\n\n\tif (filenameReservedRegex().test(replacement) && reControlChars.test(replacement)) {\n\t\tthrow new Error('Replacement string cannot contain reserved filename characters');\n\t}\n\n\tstring = string.replace(filenameReservedRegex(), replacement);\n\tstring = string.replace(reControlChars, replacement);\n\tstring = string.replace(reRelativePath, replacement);\n\n\tif (replacement.length > 0) {\n\t\tstring = trimRepeated(string, replacement);\n\t\tstring = string.length > 1 ? stripOuter(string, replacement) : string;\n\t}\n\n\tstring = filenameReservedRegex.windowsNames().test(string) ? string + replacement : string;\n\tstring = string.slice(0, MAX_FILENAME_LENGTH);\n\n\treturn string;\n};\n\nfn.path = (pth, options) => {\n\tpth = path.resolve(pth);\n\treturn path.join(path.dirname(pth), fn(path.basename(pth), options));\n};\n\nmodule.exports = fn;\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// resolves . and .. elements in a path array with directory names there\n// must be no slashes, empty elements, or device names (c:\\) in the array\n// (so also no leading and trailing slashes - it does not distinguish\n// relative and absolute paths)\nfunction normalizeArray(parts, allowAboveRoot) {\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = parts.length - 1; i >= 0; i--) {\n    var last = parts[i];\n    if (last === '.') {\n      parts.splice(i, 1);\n    } else if (last === '..') {\n      parts.splice(i, 1);\n      up++;\n    } else if (up) {\n      parts.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (allowAboveRoot) {\n    for (; up--; up) {\n      parts.unshift('..');\n    }\n  }\n\n  return parts;\n}\n\n// Split a filename into [root, dir, basename, ext], unix version\n// 'root' is just a slash, or nothing.\nvar splitPathRe =\n    /^(\\/?|)([\\s\\S]*?)((?:\\.{1,2}|[^\\/]+?|)(\\.[^.\\/]*|))(?:[\\/]*)$/;\nvar splitPath = function(filename) {\n  return splitPathRe.exec(filename).slice(1);\n};\n\n// path.resolve([from ...], to)\n// posix version\nexports.resolve = function() {\n  var resolvedPath = '',\n      resolvedAbsolute = false;\n\n  for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n    var path = (i >= 0) ? arguments[i] : process.cwd();\n\n    // Skip empty and invalid entries\n    if (typeof path !== 'string') {\n      throw new TypeError('Arguments to path.resolve must be strings');\n    } else if (!path) {\n      continue;\n    }\n\n    resolvedPath = path + '/' + resolvedPath;\n    resolvedAbsolute = path.charAt(0) === '/';\n  }\n\n  // At this point the path should be resolved to a full absolute path, but\n  // handle relative paths to be safe (might happen when process.cwd() fails)\n\n  // Normalize the path\n  resolvedPath = normalizeArray(filter(resolvedPath.split('/'), function(p) {\n    return !!p;\n  }), !resolvedAbsolute).join('/');\n\n  return ((resolvedAbsolute ? '/' : '') + resolvedPath) || '.';\n};\n\n// path.normalize(path)\n// posix version\nexports.normalize = function(path) {\n  var isAbsolute = exports.isAbsolute(path),\n      trailingSlash = substr(path, -1) === '/';\n\n  // Normalize the path\n  path = normalizeArray(filter(path.split('/'), function(p) {\n    return !!p;\n  }), !isAbsolute).join('/');\n\n  if (!path && !isAbsolute) {\n    path = '.';\n  }\n  if (path && trailingSlash) {\n    path += '/';\n  }\n\n  return (isAbsolute ? '/' : '') + path;\n};\n\n// posix version\nexports.isAbsolute = function(path) {\n  return path.charAt(0) === '/';\n};\n\n// posix version\nexports.join = function() {\n  var paths = Array.prototype.slice.call(arguments, 0);\n  return exports.normalize(filter(paths, function(p, index) {\n    if (typeof p !== 'string') {\n      throw new TypeError('Arguments to path.join must be strings');\n    }\n    return p;\n  }).join('/'));\n};\n\n\n// path.relative(from, to)\n// posix version\nexports.relative = function(from, to) {\n  from = exports.resolve(from).substr(1);\n  to = exports.resolve(to).substr(1);\n\n  function trim(arr) {\n    var start = 0;\n    for (; start < arr.length; start++) {\n      if (arr[start] !== '') break;\n    }\n\n    var end = arr.length - 1;\n    for (; end >= 0; end--) {\n      if (arr[end] !== '') break;\n    }\n\n    if (start > end) return [];\n    return arr.slice(start, end - start + 1);\n  }\n\n  var fromParts = trim(from.split('/'));\n  var toParts = trim(to.split('/'));\n\n  var length = Math.min(fromParts.length, toParts.length);\n  var samePartsLength = length;\n  for (var i = 0; i < length; i++) {\n    if (fromParts[i] !== toParts[i]) {\n      samePartsLength = i;\n      break;\n    }\n  }\n\n  var outputParts = [];\n  for (var i = samePartsLength; i < fromParts.length; i++) {\n    outputParts.push('..');\n  }\n\n  outputParts = outputParts.concat(toParts.slice(samePartsLength));\n\n  return outputParts.join('/');\n};\n\nexports.sep = '/';\nexports.delimiter = ':';\n\nexports.dirname = function(path) {\n  var result = splitPath(path),\n      root = result[0],\n      dir = result[1];\n\n  if (!root && !dir) {\n    // No dirname whatsoever\n    return '.';\n  }\n\n  if (dir) {\n    // It has a dirname, strip trailing slash\n    dir = dir.substr(0, dir.length - 1);\n  }\n\n  return root + dir;\n};\n\n\nexports.basename = function(path, ext) {\n  var f = splitPath(path)[2];\n  // TODO: make this comparison case-insensitive on windows?\n  if (ext && f.substr(-1 * ext.length) === ext) {\n    f = f.substr(0, f.length - ext.length);\n  }\n  return f;\n};\n\n\nexports.extname = function(path) {\n  return splitPath(path)[3];\n};\n\nfunction filter (xs, f) {\n    if (xs.filter) return xs.filter(f);\n    var res = [];\n    for (var i = 0; i < xs.length; i++) {\n        if (f(xs[i], i, xs)) res.push(xs[i]);\n    }\n    return res;\n}\n\n// String.prototype.substr - negative index don't work in IE8\nvar substr = 'ab'.substr(-1) === 'b'\n    ? function (str, start, len) { return str.substr(start, len) }\n    : function (str, start, len) {\n        if (start < 0) start = str.length + start;\n        return str.substr(start, len);\n    }\n;\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","'use strict';\nvar escapeStringRegexp = require('escape-string-regexp');\n\nmodule.exports = function (str, sub) {\n\tif (typeof str !== 'string' || typeof sub !== 'string') {\n\t\tthrow new TypeError();\n\t}\n\n\tsub = escapeStringRegexp(sub);\n\treturn str.replace(new RegExp('^' + sub + '|' + sub + '$', 'g'), '');\n};\n","'use strict';\nvar escapeStringRegexp = require('escape-string-regexp');\n\nmodule.exports = function (str, target) {\n\tif (typeof str !== 'string' || typeof target !== 'string') {\n\t\tthrow new TypeError('Expected a string');\n\t}\n\n\treturn str.replace(new RegExp('(?:' + escapeStringRegexp(target) + '){2,}', 'g'), target);\n};\n","/*! ui-commons-wc 1.4.0 */\r\n(function webpackUniversalModuleDefinition(root, factory) {\r\n\tif(typeof exports === 'object' && typeof module === 'object')\r\n\t\tmodule.exports = factory();\r\n\telse if(typeof define === 'function' && define.amd)\r\n\t\tdefine([], factory);\r\n\telse {\r\n\t\tvar a = factory();\r\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\r\n\t}\r\n})(window, function() {\r\nreturn /******/ (function(modules) { // webpackBootstrap\r\n/******/ \t// The module cache\r\n/******/ \tvar installedModules = {};\r\n/******/\r\n/******/ \t// The require function\r\n/******/ \tfunction __webpack_require__(moduleId) {\r\n/******/\r\n/******/ \t\t// Check if module is in cache\r\n/******/ \t\tif(installedModules[moduleId]) {\r\n/******/ \t\t\treturn installedModules[moduleId].exports;\r\n/******/ \t\t}\r\n/******/ \t\t// Create a new module (and put it into the cache)\r\n/******/ \t\tvar module = installedModules[moduleId] = {\r\n/******/ \t\t\ti: moduleId,\r\n/******/ \t\t\tl: false,\r\n/******/ \t\t\texports: {}\r\n/******/ \t\t};\r\n/******/\r\n/******/ \t\t// Execute the module function\r\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\r\n/******/\r\n/******/ \t\t// Flag the module as loaded\r\n/******/ \t\tmodule.l = true;\r\n/******/\r\n/******/ \t\t// Return the exports of the module\r\n/******/ \t\treturn module.exports;\r\n/******/ \t}\r\n/******/\r\n/******/\r\n/******/ \t// expose the modules object (__webpack_modules__)\r\n/******/ \t__webpack_require__.m = modules;\r\n/******/\r\n/******/ \t// expose the module cache\r\n/******/ \t__webpack_require__.c = installedModules;\r\n/******/\r\n/******/ \t// define getter function for harmony exports\r\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\r\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\r\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\r\n/******/ \t\t}\r\n/******/ \t};\r\n/******/\r\n/******/ \t// define __esModule on exports\r\n/******/ \t__webpack_require__.r = function(exports) {\r\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\r\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\r\n/******/ \t\t}\r\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\r\n/******/ \t};\r\n/******/\r\n/******/ \t// create a fake namespace object\r\n/******/ \t// mode & 1: value is a module id, require it\r\n/******/ \t// mode & 2: merge all properties of value into the ns\r\n/******/ \t// mode & 4: return value when already ns object\r\n/******/ \t// mode & 8|1: behave like require\r\n/******/ \t__webpack_require__.t = function(value, mode) {\r\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\r\n/******/ \t\tif(mode & 8) return value;\r\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\r\n/******/ \t\tvar ns = Object.create(null);\r\n/******/ \t\t__webpack_require__.r(ns);\r\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\r\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\r\n/******/ \t\treturn ns;\r\n/******/ \t};\r\n/******/\r\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\r\n/******/ \t__webpack_require__.n = function(module) {\r\n/******/ \t\tvar getter = module && module.__esModule ?\r\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\r\n/******/ \t\t\tfunction getModuleExports() { return module; };\r\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\r\n/******/ \t\treturn getter;\r\n/******/ \t};\r\n/******/\r\n/******/ \t// Object.prototype.hasOwnProperty.call\r\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\r\n/******/\r\n/******/ \t// __webpack_public_path__\r\n/******/ \t__webpack_require__.p = \"\";\r\n/******/\r\n/******/\r\n/******/ \t// Load entry module and return exports\r\n/******/ \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\r\n/******/ })\r\n/************************************************************************/\r\n/******/ ({\r\n\r\n/***/ \"./src/index.js\":\r\n/*!**********************!*\\\r\n  !*** ./src/index.js ***!\r\n  \\**********************/\r\n/*! exports provided: ComponentState, shallowObject, Config, px */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony import */ var _scripts_ComponentState__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./scripts/ComponentState */ \"./src/scripts/ComponentState.js\");\r\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ComponentState\", function() { return _scripts_ComponentState__WEBPACK_IMPORTED_MODULE_0__[\"default\"]; });\r\n\r\n/* harmony import */ var _scripts_Config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./scripts/Config */ \"./src/scripts/Config.js\");\r\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Config\", function() { return _scripts_Config__WEBPACK_IMPORTED_MODULE_1__[\"default\"]; });\r\n\r\n/* harmony import */ var _scripts_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./scripts/utils */ \"./src/scripts/utils.js\");\r\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"shallowObject\", function() { return _scripts_utils__WEBPACK_IMPORTED_MODULE_2__[\"shallowObject\"]; });\r\n\r\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"px\", function() { return _scripts_utils__WEBPACK_IMPORTED_MODULE_2__[\"px\"]; });\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/scripts/ComponentState.js\":\r\n/*!***************************************!*\\\r\n  !*** ./src/scripts/ComponentState.js ***!\r\n  \\***************************************/\r\n/*! exports provided: default */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ComponentState; });\r\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils */ \"./src/scripts/utils.js\");\r\n\r\n\r\n/**\r\n * Sólo válido si el state es un objeto.\r\n */\r\nclass ComponentState {\r\n  constructor(component, styledComponent, equalsFn) {\r\n    this.component = component;\r\n    this.styledComponent = styledComponent;\r\n    this.equalsFn = equalsFn;\r\n    this.validity = {\r\n      valid: true\r\n    };\r\n    this.value = null;\r\n  }\r\n\r\n  fireChangeEvent(userInput) {\r\n    this.component.dispatchEvent(new CustomEvent('bkChange', {\r\n      detail: {\r\n        value: this.value,\r\n        userInput: userInput\r\n      },\r\n      bubbles: true\r\n    }));\r\n  }\r\n\r\n  fireInputEvent() {\r\n    this.component.dispatchEvent(new CustomEvent('bkInput', {\r\n      bubbles: true\r\n    }));\r\n  }\r\n\r\n  fireInvalidEvent(reasons) {\r\n    this.component.dispatchEvent(new CustomEvent('bkInvalid', {\r\n      detail: {\r\n        reasons: reasons\r\n      },\r\n      bubbles: true\r\n    }));\r\n  }\r\n\r\n  valid(value, userInput) {\r\n    let changeEvent = false;\r\n    if(!this.equalsFn(this.value,value)) {\r\n      //El valor ha cambiado, lanzo evento\r\n      this.value = value;\r\n      changeEvent = true;\r\n    }\r\n\r\n    if(!this.validity.valid) {\r\n      //El valor era inválido, ahora es válido. También lanzo el evento\r\n      this.validity = {\r\n        valid: true\r\n      }\r\n      changeEvent = true;\r\n    }\r\n\r\n    this.syncStyles();\r\n    if(changeEvent) {\r\n      this.fireChangeEvent(userInput);\r\n    }\r\n    //Input event\r\n    if(userInput) {\r\n      this.fireInputEvent();\r\n    }\r\n  }\r\n\r\n  invalid(reasons, invalidValue, userInput) {\r\n    let changeEvent = false, invalidEvent = false;\r\n    reasons.valid = false;\r\n\r\n    if(!this.equalsFn(this.value,invalidValue)) {\r\n      //Lanzamos evento change si el valor inválido es diferente al actual.\r\n      changeEvent = true;\r\n    }\r\n\r\n    this.value = invalidValue;\r\n\r\n    if(this.validity.valid) {\r\n      //Si pasamos de válido a inválido, lanzamos el evento invalid.\r\n      invalidEvent = true;\r\n    }\r\n    else {\r\n      //Si permanecemos en inválido, lanzamos elevento sólo si cambian\r\n      //las razones del error\r\n      if(!Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"shallowObject\"])(this.validity,reasons)) {\r\n        invalidEvent = true;\r\n      }\r\n    }\r\n    this.validity = reasons;\r\n\r\n    this.syncStyles();\r\n\r\n    if(changeEvent) {\r\n      this.fireChangeEvent(userInput);\r\n    }\r\n    if(invalidEvent) {\r\n      this.fireInvalidEvent(reasons);\r\n    }\r\n    //Input event\r\n    if(userInput) {\r\n      this.fireInputEvent();\r\n    }\r\n  }\r\n\r\n  getInvalidClassNames() {\r\n    let classNames = this.styledComponent.classList;\r\n    let result = [];\r\n    for(let i=0;i<classNames.length;i++) {\r\n      const className = classNames.item(i);\r\n      if(className.startsWith('bk-invalid')) {\r\n        result.push(className);\r\n      }\r\n    }\r\n    return result;\r\n  }\r\n\r\n  removeInvalidClassNames() {\r\n    for(const className of this.getInvalidClassNames()) {\r\n      this.styledComponent.classList.remove(className);\r\n    }\r\n  }\r\n\r\n  reasonFromClassName(className) {\r\n    if(className.startsWith('bk-invalid-')) {\r\n      return className.substring('bk-invalid-'.length);\r\n    }\r\n    return null;\r\n  }\r\n\r\n  syncStyles() {\r\n    let classNames = this.styledComponent.classList;\r\n    let reason;\r\n    if(this.validity.valid) {\r\n      this.removeInvalidClassNames();\r\n      classNames.add('bk-valid');\r\n    }\r\n    else {\r\n      const currentInvalid = this.getInvalidClassNames();\r\n      classNames.remove('bk-valid');\r\n      classNames.add('bk-invalid');\r\n      for(const className of currentInvalid) {\r\n        reason = this.reasonFromClassName(className);\r\n        if(reason && !this.validity[reason]) {\r\n          classNames.remove(className);\r\n        }\r\n      }\r\n      for (reason in this.validity) {\r\n        if (this.validity.hasOwnProperty(reason)) {\r\n          if(reason!=='valid') {\r\n            classNames.add('bk-invalid-'+reason);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  getValue() {\r\n    return this.value;\r\n  }\r\n\r\n  getValidity() {\r\n    return this.validity;\r\n  }\r\n}\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/scripts/Config.js\":\r\n/*!*******************************!*\\\r\n  !*** ./src/scripts/Config.js ***!\r\n  \\*******************************/\r\n/*! exports provided: default */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Config; });\r\nclass ConfigValue {\r\n  constructor(value) {\r\n    if(value === undefined) {\r\n      let self = this;\r\n      this.promise = new Promise(function(resolve, reject) {\r\n        self.configAvailable = resolve;\r\n      });\r\n    }\r\n    else {\r\n      this.value = value;\r\n    }\r\n  }\r\n}\r\n\r\nclass Config {\r\n  constructor() {\r\n    this.config = {};\r\n  }\r\n\r\n  getConfig(confKey) {\r\n    let res = this.config[confKey];\r\n    if(!res) {\r\n      res = new ConfigValue();\r\n      this.config[confKey] = res;\r\n    }\r\n    return res;\r\n  }\r\n\r\n  putConfig(confKey, value) {\r\n    if(value !== undefined) {\r\n      let conf = this.config[confKey];\r\n      if(conf) {\r\n        if(conf.value === undefined) {\r\n          conf.value = value;\r\n          conf.configAvailable(value);\r\n        }\r\n      }\r\n      else {\r\n        this.config[confKey] = new ConfigValue(value);\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/scripts/utils.js\":\r\n/*!******************************!*\\\r\n  !*** ./src/scripts/utils.js ***!\r\n  \\******************************/\r\n/*! exports provided: shallowObject, px */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"shallowObject\", function() { return shallowObject; });\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"px\", function() { return px; });\r\nfunction shallowObject(a, b) {\r\n  var ka = 0\r\n  var kb = 0\r\n\r\n  for (var key in a) {\r\n    if (\r\n      a.hasOwnProperty(key) &&\r\n      a[key] !== b[key]\r\n    ) return false\r\n\r\n    ka++\r\n  }\r\n\r\n  for (var key in b) {\r\n    if (b.hasOwnProperty(key)) kb++\r\n  }\r\n\r\n  return ka === kb\r\n}\r\n\r\nfunction px(value) {\r\n  return value + 'px';\r\n}\r\n\r\n\r\n\r\n\r\n/***/ })\r\n\r\n/******/ });\r\n});","/*! ui-date-wc 1.0.8 */\r\n(function webpackUniversalModuleDefinition(root, factory) {\r\n\tif(typeof exports === 'object' && typeof module === 'object')\r\n\t\tmodule.exports = factory(require(\"ui-commons-wc\"));\r\n\telse if(typeof define === 'function' && define.amd)\r\n\t\tdefine([\"ui-commons-wc\"], factory);\r\n\telse {\r\n\t\tvar a = typeof exports === 'object' ? factory(require(\"ui-commons-wc\")) : factory(root[\"ui-commons-wc\"]);\r\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\r\n\t}\r\n})(window, function(__WEBPACK_EXTERNAL_MODULE_ui_commons_wc__) {\r\nreturn /******/ (function(modules) { // webpackBootstrap\r\n/******/ \t// The module cache\r\n/******/ \tvar installedModules = {};\r\n/******/\r\n/******/ \t// The require function\r\n/******/ \tfunction __webpack_require__(moduleId) {\r\n/******/\r\n/******/ \t\t// Check if module is in cache\r\n/******/ \t\tif(installedModules[moduleId]) {\r\n/******/ \t\t\treturn installedModules[moduleId].exports;\r\n/******/ \t\t}\r\n/******/ \t\t// Create a new module (and put it into the cache)\r\n/******/ \t\tvar module = installedModules[moduleId] = {\r\n/******/ \t\t\ti: moduleId,\r\n/******/ \t\t\tl: false,\r\n/******/ \t\t\texports: {}\r\n/******/ \t\t};\r\n/******/\r\n/******/ \t\t// Execute the module function\r\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\r\n/******/\r\n/******/ \t\t// Flag the module as loaded\r\n/******/ \t\tmodule.l = true;\r\n/******/\r\n/******/ \t\t// Return the exports of the module\r\n/******/ \t\treturn module.exports;\r\n/******/ \t}\r\n/******/\r\n/******/\r\n/******/ \t// expose the modules object (__webpack_modules__)\r\n/******/ \t__webpack_require__.m = modules;\r\n/******/\r\n/******/ \t// expose the module cache\r\n/******/ \t__webpack_require__.c = installedModules;\r\n/******/\r\n/******/ \t// define getter function for harmony exports\r\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\r\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\r\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\r\n/******/ \t\t}\r\n/******/ \t};\r\n/******/\r\n/******/ \t// define __esModule on exports\r\n/******/ \t__webpack_require__.r = function(exports) {\r\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\r\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\r\n/******/ \t\t}\r\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\r\n/******/ \t};\r\n/******/\r\n/******/ \t// create a fake namespace object\r\n/******/ \t// mode & 1: value is a module id, require it\r\n/******/ \t// mode & 2: merge all properties of value into the ns\r\n/******/ \t// mode & 4: return value when already ns object\r\n/******/ \t// mode & 8|1: behave like require\r\n/******/ \t__webpack_require__.t = function(value, mode) {\r\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\r\n/******/ \t\tif(mode & 8) return value;\r\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\r\n/******/ \t\tvar ns = Object.create(null);\r\n/******/ \t\t__webpack_require__.r(ns);\r\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\r\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\r\n/******/ \t\treturn ns;\r\n/******/ \t};\r\n/******/\r\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\r\n/******/ \t__webpack_require__.n = function(module) {\r\n/******/ \t\tvar getter = module && module.__esModule ?\r\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\r\n/******/ \t\t\tfunction getModuleExports() { return module; };\r\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\r\n/******/ \t\treturn getter;\r\n/******/ \t};\r\n/******/\r\n/******/ \t// Object.prototype.hasOwnProperty.call\r\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\r\n/******/\r\n/******/ \t// __webpack_public_path__\r\n/******/ \t__webpack_require__.p = \"\";\r\n/******/\r\n/******/\r\n/******/ \t// Load entry module and return exports\r\n/******/ \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\r\n/******/ })\r\n/************************************************************************/\r\n/******/ ({\r\n\r\n/***/ \"./src/components/DateComponent.html\":\r\n/*!*******************************************!*\\\r\n  !*** ./src/components/DateComponent.html ***!\r\n  \\*******************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<div class='date-content'>\\r\\n  <input id=\\\"date-calendar-input\\\" type=\\\"text\\\" size=\\\"10\\\"/>\\r\\n  <button id=\\\"date-calendar-button\\\" type=\\\"button\\\">\\r\\n    <svg version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 512 512\\\">\\r\\n      <path transform=\\\"translate(0,512) scale(1,-1)\\\" d=\\\"M102 67l69 0 0 69-69 0z m103 0l69 0 0 69-69 0z m153 307c10 0 18 7 18 18l0 102c0 10-6 18-18 18-9 0-17-6-17-18l0-102c1-11 8-18 17-18z m-238 0c10 0 18 7 18 18l0 102c0 10-7 18-18 18-10 0-18-6-18-18l0-102c0-11 8-18 18-18z m-18-204l69 0 0 68-69 0z m103 0l69 0 0 68-69 0z m240 273l-34 0 0-69c0-20-14-33-33-33l-36 0c-20 0-33 14-33 33l0 69-136 0 0-69c0-20-15-33-34-33l-37 0c-20 0-33 14-33 33l0 69-34 0c-21 0-33-14-33-33l0-376c0-21 14-34 33-34l410 0c21 0 33 14 33 34l0 376c0 16-12 33-33 33z m0-376c0-21-15-33-34-33l-341 0c-20 0-33 14-33 33l0 205c0 21 14 34 33 34l341 0c21 0 34-15 34-34z m-138 0l69 0 0 69-69 0z m0 103l69 0 0 68-69 0z\\\"/>\\r\\n    </svg>\\r\\n  </button>\\r\\n</div>\\r\\n\";\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/components/DateComponent.js\":\r\n/*!*****************************************!*\\\r\n  !*** ./src/components/DateComponent.js ***!\r\n  \\*****************************************/\r\n/*! exports provided: default */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return DateComponent; });\r\n/* harmony import */ var _DateComponent_html__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./DateComponent.html */ \"./src/components/DateComponent.html\");\r\n/* harmony import */ var _DateComponent_html__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_DateComponent_html__WEBPACK_IMPORTED_MODULE_0__);\r\n/* harmony import */ var _DateComponent_scss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./DateComponent.scss */ \"./src/components/DateComponent.scss\");\r\n/* harmony import */ var _DateComponent_scss__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_DateComponent_scss__WEBPACK_IMPORTED_MODULE_1__);\r\n/* harmony import */ var _scripts_dateutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../scripts/dateutils */ \"./src/scripts/dateutils.js\");\r\n/* harmony import */ var ui_commons_wc__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ui-commons-wc */ \"ui-commons-wc\");\r\n/* harmony import */ var ui_commons_wc__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(ui_commons_wc__WEBPACK_IMPORTED_MODULE_3__);\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * Formateo del input de la fecha.\r\n */\r\nconst DIGITS = '0123456789';\r\n\r\nfunction isSpecialKey(key) { return (isArrowKey(key) || (key === 9) || (key >= 16 && key <= 18) || (key >= 35 && key <= 36)); }\r\nfunction isArrowKey(key) { return (key === 37 || key === 38 || key === 39 || key === 40); }\r\nfunction isRemoveKey(key) { return (isDeleteKey(key) || isSuprKey(key)); }\r\nfunction isDeleteKey(key) { return (key === 8); }\r\nfunction isSuprKey(key) { return (key === 46); }\r\n\r\nconst mask = 'dd/mm/aaaa';\r\n\r\nfunction formatInputData(input, e) {\r\n  let currentValue = input.value;\r\n  const selStart = input.selectionStart,\r\n        selEnd = input.selectionEnd;\r\n  let cursorPos;\r\n  if(!currentValue) {\r\n    currentValue = mask;\r\n  }\r\n  input.value = mask;\r\n  if(selStart>=0\r\n    && selStart<=selEnd\r\n    && selEnd<=mask.length) {\r\n      if(selStart<selEnd) {\r\n        //Hay texto seleccionado, lo borramos\r\n        currentValue = insertText(currentValue, selStart, mask.substring(selStart,selEnd),true);\r\n        if(isRemoveKey(e.keyCode)) {\r\n          cursorPos = selStart;\r\n        }\r\n        else {\r\n          currentValue = insertText(currentValue,selStart,e.key);\r\n          cursorPos = selStart + (isSep(selStart+1)?2:1);\r\n        }\r\n      }\r\n      else {\r\n        if(isDeleteKey(e.keyCode)) {\r\n          if(selStart>0) {\r\n            currentValue = insertText(currentValue,selStart-1,mask.charAt(selStart-1));\r\n            cursorPos = selStart - 1;\r\n          }\r\n          else {\r\n            cursorPos = 0;\r\n          }\r\n        }\r\n        else if(isSuprKey(e.keyCode)) {\r\n          if(!isSep(selStart)) {\r\n            const sepPos = nextSep(selStart);\r\n            const deleted = currentValue.substring(selStart+1,sepPos);\r\n            currentValue = insertText(currentValue, selStart, mask.substring(selStart,sepPos));\r\n            currentValue = insertText(currentValue, selStart, deleted);\r\n          }\r\n          cursorPos = selStart;\r\n        }\r\n        else {\r\n          if(selStart<mask.length) {\r\n            currentValue = insertText(currentValue,selStart,e.key);\r\n            cursorPos = selStart + (isSep(selStart+1)?2:1);\r\n          }\r\n          else {\r\n            cursorPos = mask.length;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  input.value = currentValue;\r\n  input.setSelectionRange(cursorPos,cursorPos);\r\n}\r\n\r\nfunction nextSep(pos) {\r\n  let res = mask.indexOf('/',pos);\r\n  return res===-1?mask.length:res;\r\n}\r\n\r\nfunction isSep(pos) {\r\n  return mask.charAt(pos)==='/';\r\n}\r\n\r\nfunction insertText(str, pos, txt, disableSep) {\r\n  if(!disableSep&&isSep(pos)) {\r\n    return str;\r\n  }\r\n  return str.substring(0,pos)\r\n    + txt\r\n    + str.substring(pos+txt.length);\r\n}\r\n\r\nfunction dateCompare(a,b) {\r\n  return a===b || (a && b && a.getTime()===b.getTime());\r\n}\r\n\r\nfunction formatDate(date, month, year) {\r\n  return String(date).padStart(2,'0')\r\n  +'/'+\r\n  String(month+1).padStart(2,'0')\r\n  +'/'+\r\n  year;\r\n}\r\n\r\n/**\r\n */\r\nclass DateComponent extends HTMLElement {\r\n  constructor() {\r\n    super();\r\n\r\n    let shadowRoot = this.attachShadow({mode: 'open'});\r\n    shadowRoot.innerHTML = '<style>'+_DateComponent_scss__WEBPACK_IMPORTED_MODULE_1___default.a+'</style>'+_DateComponent_html__WEBPACK_IMPORTED_MODULE_0___default.a;\r\n\r\n    this.calendarButton = shadowRoot.querySelector('#date-calendar-button');\r\n    this.calendarInput = shadowRoot.querySelector('#date-calendar-input');\r\n\r\n    this.handleClickCalendarButton = this.handleClickCalendarButton.bind(this);\r\n    this.handleDateSelected = this.handleDateSelected.bind(this);\r\n    this.formatInput = this.formatInput.bind(this);\r\n    this.blurInput = this.blurInput.bind(this);\r\n\r\n    //Atributos\r\n    this.$$required$$ = false;\r\n\r\n    //Valor del componente\r\n    this.state = new ui_commons_wc__WEBPACK_IMPORTED_MODULE_3__[\"ComponentState\"](this, this.calendarInput, dateCompare);\r\n    this.state.valid(null);\r\n    //Valores por defecto.\r\n    this.calendarInput.setAttribute('placeholder',mask);\r\n  }\r\n\r\n  connectedCallback() {\r\n    this.calendarButton.addEventListener('click',this.handleClickCalendarButton);\r\n    this.calendarInput.addEventListener('keydown',this.formatInput);\r\n    this.calendarInput.addEventListener('blur',this.blurInput);\r\n  }\r\n\r\n  disconnectedCallback() {\r\n    this.calendarButton.removeEventListener('click',this.handleClickCalendarButton);\r\n    this.calendarInput.removeEventListener('keydown',this.formatInput);\r\n    this.calendarInput.removeEventListener('blur',this.blurInput);\r\n  }\r\n\r\n  handleClickCalendarButton(e) {\r\n    if(!this.calendarWindow) {\r\n      const body = window.document.querySelector(\"body\");\r\n\r\n      this.calendarWindow = window.document.createElement('bk-wc-ui-date-calendar');\r\n      body.appendChild(this.calendarWindow);\r\n    }\r\n    this.calendarWindow.addEventListener('bkSelect',this.handleDateSelected);\r\n    this.calendarWindow.show(this.state.value?this.state.value:new Date(), this.state.value, this.calendarButton);\r\n    this.calendarButton.classList.add('calendar-button-active');\r\n  }\r\n\r\n  handleDateSelected(e) {\r\n    //Quitamos la ventana\r\n    if(this.calendarWindow) {\r\n      const body = window.document.querySelector(\"body\");\r\n      this.calendarWindow.removeEventListener('bkSelect',this.handleDateSelected);\r\n      body.removeChild(this.calendarWindow);\r\n      this.calendarWindow = null;\r\n      if(e.detail) {\r\n        this.calendarInput.value = formatDate(e.detail.date, e.detail.month, e.detail.year);\r\n        this.viewToComponentState(true);\r\n      }\r\n      this.calendarButton.classList.remove('calendar-button-active');\r\n      this.calendarButton.focus();\r\n    }\r\n  }\r\n\r\n  formatInput(e) {\r\n    if('+' === e.key) {\r\n      const today = new Date();\r\n      e.preventDefault();\r\n      //Si pulsa + se pone la fecha de hoy\r\n      this.calendarInput.value = formatDate(today.getDate(), today.getMonth(), today.getFullYear());\r\n      this.viewToComponentState(true);\r\n    }\r\n    else if(DIGITS.indexOf(e.key)!==-1\r\n      ||isDeleteKey(e.keyCode)\r\n      ||isRemoveKey(e.keyCode)) {\r\n      formatInputData(this.calendarInput, e);\r\n      e.preventDefault();\r\n      this.viewToComponentState(true);\r\n    }\r\n    else {\r\n      if(!isSpecialKey(e.keyCode)) {\r\n        e.preventDefault();\r\n      }\r\n    }\r\n  }\r\n\r\n  blurInput(e) {\r\n    //Sólo si el valor no está confirmado\r\n    if(this.state.validity.unCommitted) {\r\n      this.viewToComponentState(true);\r\n    }\r\n    if(this.calendarInput.value===mask) {\r\n      //No ha introducido nada. Volvemos a dejarlo con placeholder:\r\n      this.calendarInput.value = '';\r\n    }\r\n  }\r\n\r\n  viewToComponentState(userInput) {\r\n    let checkInputDate;\r\n    //Verificamos la entrada del usuario y la \"traducimos\" al estado del componente.\r\n    //Ha introducido algo?\r\n    if(this.calendarInput.value && this.calendarInput.value!==mask) {\r\n      checkInputDate = _scripts_dateutils__WEBPACK_IMPORTED_MODULE_2__[\"checkDate\"](this.calendarInput.value, userInput);\r\n      if(!checkInputDate.value) {\r\n        if(this.shadowRoot.activeElement===this.calendarInput) {\r\n          //Tiene el foco?\r\n          //Todavía lo está escribiendo.\r\n          if(checkInputDate.complete) {\r\n            //Si ha introducido una fecha completa, está mal escrita:\r\n            this.state.invalid({badInput: true},null,userInput);\r\n          }\r\n          else {\r\n            //Si está a medio escribir...\r\n            this.state.invalid({unCommitted: true},null,userInput);\r\n          }\r\n        }\r\n        else {\r\n          //Mal formada\r\n          this.state.invalid({badInput: true},null,userInput);\r\n        }\r\n      }\r\n      else {\r\n        this.checkValue(checkInputDate.value, userInput);\r\n      }\r\n    }\r\n    else {\r\n      //Está todo borrado.\r\n      this.checkValue(null, userInput);\r\n    }\r\n  }\r\n\r\n  checkValue(val, userInput) {\r\n    if(this.$$required$$) {\r\n      if(val===null) {\r\n        //inválido\r\n        this.state.invalid({valueMissing: true}, null, userInput);\r\n        return;\r\n      }\r\n    }\r\n    this.state.valid(val, userInput);\r\n  }\r\n\r\n  showValue(val) {\r\n    if(val===null) {\r\n      this.calendarInput.value = '';\r\n    }\r\n    else {\r\n      this.calendarInput.value = formatDate(val.getDate(), val.getMonth(), val.getFullYear());\r\n    }\r\n  }\r\n\r\n  attributeChangedCallback(attrName, oldVal, newVal) {\r\n    if(attrName==='required') {\r\n      this.$$required$$ = newVal!==null;\r\n      this.viewToComponentState();\r\n    }\r\n    else if(attrName==='readonly') {\r\n      if(newVal!==null) {\r\n        this.calendarInput.setAttribute('readonly','');\r\n        this.calendarInput.removeAttribute('placeholder');\r\n      }\r\n      else {\r\n        this.calendarInput.removeAttribute('readonly');\r\n        this.calendarInput.setAttribute('placeholder',mask);\r\n      }\r\n    }\r\n    else if(attrName==='hiddencalendar') {\r\n      if(newVal!==null) {\r\n        this.calendarButton.classList.add('calendar-button-hidden');\r\n      }\r\n      else {\r\n        this.calendarButton.classList.remove('calendar-button-hidden');\r\n      }\r\n    }\r\n  }\r\n\r\n  static get observedAttributes() {\r\n    return ['required', 'readonly', 'hiddencalendar'];\r\n  }\r\n\r\n  /// PUBLIC\r\n\r\n  /**\r\n   * Si pasa una razón, pone el componente en estado inválido (con la razón indicada).\r\n   * Si no pone la razón, el componente retorna a su estado correspondiente (puede ser\r\n   * válido o inválido dependiendo de los valores que tenga introducidos)\r\n   * @param {String} customReason\r\n   */\r\n  setBkCustomValidity(customReason) {\r\n    if(customReason) {\r\n      let val = {};\r\n      val[customReason] = true;\r\n      this.state.invalid(val, this.state.value);\r\n    }\r\n    else {\r\n      this.viewToComponentState();\r\n    }\r\n  }\r\n\r\n  set value(val) {\r\n    //Sólo puede asignar Date. Mostramos el Date introducido\r\n    //y le aplicamos los chequeos.\r\n    this.showValue(val);\r\n    this.checkValue(val);\r\n  }\r\n\r\n  get value() {\r\n    return this.state.value;\r\n  }\r\n\r\n  get validity() {\r\n    return this.state.validity;\r\n  }\r\n\r\n  set required(v) {\r\n    if(v) {\r\n      this.setAttribute('required','');\r\n    }\r\n    else {\r\n      this.removeAttribute('required');\r\n    }\r\n  }\r\n\r\n  get required() {\r\n    return this.hasAttribute('required');\r\n  }\r\n\r\n  set readOnly(v) {\r\n    if(v) {\r\n      this.setAttribute('readonly','');\r\n    }\r\n    else {\r\n      this.removeAttribute('readonly');\r\n    }\r\n  }\r\n\r\n  get readOnly() {\r\n    return this.hasAttribute('readonly');\r\n  }\r\n\r\n  set hiddenCalendar(v) {\r\n    if(v) {\r\n      this.setAttribute('hiddencalendar','');\r\n    }\r\n    else {\r\n      this.removeAttribute('hiddencalendar');\r\n    }\r\n  }\r\n\r\n  get hiddenCalendar() {\r\n    return this.hasAttribute('hiddencalendar');\r\n  }\r\n\r\n  set name(v) {\r\n    this.setAttribute('name',v);\r\n  }\r\n\r\n  get name() {\r\n    return this.getAttribute('name');\r\n  }\r\n}\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/components/DateComponent.scss\":\r\n/*!*******************************************!*\\\r\n  !*** ./src/components/DateComponent.scss ***!\r\n  \\*******************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"#date-calendar-input {\\n  background-color: #fff;\\n  border: 1px solid #dadada;\\n  border-radius: 2px;\\n  box-shadow: none;\\n  transition: border-color ease-in-out 0.15s, box-shadow ease-in-out 0.15s;\\n  padding: 4px 0px 4px 7px; }\\n  #date-calendar-input:focus {\\n    border-color: #94a103;\\n    outline: 0;\\n    box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 8px rgba(148, 161, 3, 0.6); }\\n  #date-calendar-input[readonly] {\\n    box-shadow: none;\\n    background-color: #E0E0E0;\\n    border-color: #E0E0E0; }\\n  .bk-invalid#date-calendar-input {\\n    border-color: #a51a1a; }\\n    .bk-invalid#date-calendar-input:focus {\\n      box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 8px rgba(165, 26, 26, 0.6); }\\n    .bk-invalid.bk-invalid-valueMissing#date-calendar-input:not(:disabled) {\\n      border-color: #dadada;\\n      background-color: #fff9c0; }\\n      .bk-invalid.bk-invalid-valueMissing#date-calendar-input:not(:disabled):focus {\\n        box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 8px rgba(148, 161, 3, 0.6); }\\n    .bk-invalid.bk-invalid-unCommitted#date-calendar-input {\\n      border-color: #dadada;\\n      background-color: #fff; }\\n      .bk-invalid.bk-invalid-unCommitted#date-calendar-input:focus {\\n        box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 8px rgba(148, 161, 3, 0.6); }\\n  #date-calendar-input:disabled {\\n    background-color: #eee;\\n    border-color: #e3e1de;\\n    color: #939393;\\n    cursor: initial; }\\n\\n:host {\\n  all: initial;\\n  /* 1st rule so subsequent properties are reset. */\\n  display: inline-block; }\\n\\n.date-content {\\n  font-family: Verdana, Arial, sans-serif;\\n  font-size: 12px;\\n  color: #35261a;\\n  display: inline-block;\\n  letter-spacing: -10px; }\\n\\n#date-calendar-button {\\n  background: none;\\n  border: 0;\\n  vertical-align: top;\\n  padding: 5px 6px 6px;\\n  width: 27px;\\n  font-family: inherit;\\n  font-size: inherit;\\n  color: inherit;\\n  cursor: pointer; }\\n  #date-calendar-button.calendar-button-hidden {\\n    display: none; }\\n  #date-calendar-button.calendar-button-active {\\n    border-radius: 2px 2px 0 0;\\n    background-color: #f7f7f7;\\n    border-left: 1px solid #d2d2d2;\\n    border-right: 1px solid #d2d2d2;\\n    border-top: 1px solid #d2d2d2;\\n    fill: #c4d600;\\n    padding: 4px 5px 6px 5px;\\n    outline: none;\\n    position: relative; }\\n    #date-calendar-button.calendar-button-active.calendar-to-top {\\n      border-bottom: 1px solid #d2d2d2;\\n      border-top: initial;\\n      border-radius: 0 0 2px 2px; }\\n\\n#date-calendar-input {\\n  font-family: inherit;\\n  font-size: inherit;\\n  color: inherit; }\\n\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/components/DateComponentCalendar.html\":\r\n/*!***************************************************!*\\\r\n  !*** ./src/components/DateComponentCalendar.html ***!\r\n  \\***************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<div id=\\\"date-calendar-window\\\">\\r\\n  <div class=\\\"hide-border\\\"></div>\\r\\n  <button id=\\\"date-calendar-close\\\" type=\\\"button\\\" class=\\\"calendar-close\\\">\\r\\n    <svg version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 512 512\\\">\\r\\n      <path transform=\\\"translate(0,512) scale(1,-1)\\\" d=\\\"M398 176l-81 88 72 72c16 16 16 42 0 62-16 16-42 16-56 0l-72-72-72 77c-16 16-42 16-56 0-16-16-16-41 0-62l72-77-88-88c-16-16-16-42 0-62 16-16 41-16 56 0l88 88 81-88c16-16 42-16 56 0 15 20 15 46 0 62z\\\"/>\\r\\n    </svg>\\r\\n  </button>\\r\\n  <div class=\\\"calendar-header\\\">\\r\\n    <a id=\\\"date-calendar-prevMonth\\\" class=\\\"calendar-prev-month\\\" title=\\\"Anterior\\\" href=\\\"#\\\">\\r\\n        <svg version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 512 512\\\">\\r\\n          <path transform=\\\"translate(0,512) scale(1,-1)\\\" d=\\\"M235 256l154 162c21 22 21 57 0 78-21 22-55 22-75 0l-192-200c-16-16-20-40-12-61 4-6 7-13 12-19l192-200c20-22 54-22 75 0 21 22 21 58 0 78z\\\"/>\\r\\n        </svg>\\r\\n    </a>\\r\\n    <div class=\\\"calendar-title\\\">\\r\\n      <span id=\\\"date-calendar-month\\\" class=\\\"calendar-month\\\"></span>\\r\\n      <span id=\\\"date-calendar-year\\\" class=\\\"calendar-year\\\"></span>\\r\\n    </div>\\r\\n    <a id=\\\"date-calendar-nextMonth\\\" class=\\\"calendar-next-month\\\" title=\\\"Siguiente\\\" href=\\\"#\\\">\\r\\n      <svg version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 512 512\\\">\\r\\n        <path transform=\\\"translate(0,512) scale(1,-1)\\\" d=\\\"M402 235c8 21 3 43-12 61l-193 200c-21 22-55 22-75 0-21-22-21-58 0-78l155-162-154-162c-21-22-21-57 0-78 21-21 55-22 75 0l192 200c5 6 8 13 12 19z\\\"/>\\r\\n      </svg>\\r\\n    </a>\\r\\n  </div>\\r\\n  <table class=\\\"calendar-table\\\">\\r\\n    <thead>\\r\\n      <tr>\\r\\n        <th>\\r\\n          <span title=\\\"Lunes\\\">L</span>\\r\\n        </th>\\r\\n        <th>\\r\\n          <span title=\\\"Martes\\\">M</span>\\r\\n        </th>\\r\\n        <th>\\r\\n          <span title=\\\"Miércoles\\\">M</span>\\r\\n        </th>\\r\\n        <th>\\r\\n          <span title=\\\"Jueves\\\">J</span>\\r\\n        </th>\\r\\n        <th>\\r\\n          <span title=\\\"Viernes\\\">V</span>\\r\\n        </th>\\r\\n        <th class=\\\"calendar-week-end\\\">\\r\\n          <span title=\\\"Sábado\\\">S</span>\\r\\n        </th>\\r\\n        <th class=\\\"calendar-week-end\\\">\\r\\n          <span title=\\\"Domingo\\\">D</span>\\r\\n        </th>\\r\\n      </tr>\\r\\n    </thead>\\r\\n    <tbody>\\r\\n    </tbody>\\r\\n  </table>\\r\\n  <div class=\\\"calendar-footer\\\">\\r\\n    <a href=\\\"#\\\" id=\\\"date-calendar-prevYear\\\" class=\\\"calendar-prev-year\\\">\\r\\n    </a>\\r\\n    <a href=\\\"#\\\" id=\\\"date-calendar-nextYear\\\" class=\\\"calendar-next-year\\\">\\r\\n    </a>\\r\\n  </div>\\r\\n</div>\\r\\n\";\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/components/DateComponentCalendar.js\":\r\n/*!*************************************************!*\\\r\n  !*** ./src/components/DateComponentCalendar.js ***!\r\n  \\*************************************************/\r\n/*! exports provided: default */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return DateComponentCalendar; });\r\n/* harmony import */ var _DateComponentCalendar_html__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./DateComponentCalendar.html */ \"./src/components/DateComponentCalendar.html\");\r\n/* harmony import */ var _DateComponentCalendar_html__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_DateComponentCalendar_html__WEBPACK_IMPORTED_MODULE_0__);\r\n/* harmony import */ var _DateComponentCalendar_scss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./DateComponentCalendar.scss */ \"./src/components/DateComponentCalendar.scss\");\r\n/* harmony import */ var _DateComponentCalendar_scss__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_DateComponentCalendar_scss__WEBPACK_IMPORTED_MODULE_1__);\r\n/* harmony import */ var _scripts_dateutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../scripts/dateutils */ \"./src/scripts/dateutils.js\");\r\n/* harmony import */ var ui_commons_wc__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ui-commons-wc */ \"ui-commons-wc\");\r\n/* harmony import */ var ui_commons_wc__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(ui_commons_wc__WEBPACK_IMPORTED_MODULE_3__);\r\n\r\n\r\n\r\n\r\n\r\n\r\nfunction renderHeader(root, date) {\r\n  const domMonth = root.querySelector('#date-calendar-month');\r\n  const domYear = root.querySelector('#date-calendar-year');\r\n  domYear.innerText = date.getFullYear();\r\n  domMonth.innerText = _scripts_dateutils__WEBPACK_IMPORTED_MODULE_2__[\"getMonthDesc\"](date.getMonth());\r\n}\r\n\r\nfunction renderTable(root, date, selectedDate) {\r\n  const days = _scripts_dateutils__WEBPACK_IMPORTED_MODULE_2__[\"calculateMonthDaysOf\"](date.getMonth(),date.getFullYear());\r\n  const tbody = root.querySelector('tbody');\r\n  const today = new Date();\r\n  let rows = '';\r\n  tbody.innerHTML = '';\r\n\r\n  for(const row of days) {\r\n    rows += '<tr>';\r\n    for(const day of row) {\r\n      rows += '<td class=\"'+generateClass(day, selectedDate, today)+'\">';\r\n      rows += '<a href=\"#\" bk-cal-date='+day.date+\r\n                ' bk-cal-month='+day.month+\r\n                ' bk-cal-year='+day.year+'>'+day.date+'</a>'\r\n      rows += '</td>';\r\n    }\r\n    rows += '</tr>';\r\n  }\r\n\r\n  tbody.innerHTML = rows;\r\n}\r\n\r\nfunction generateClass(day, selectedDate, today) {\r\n  let res = '';\r\n  if(equalsDate(day, today)) {\r\n    res += ' calendar-day-today';\r\n  }\r\n  if(selectedDate && equalsDate(day, selectedDate)) {\r\n    res += ' calendar-day-selected';\r\n  }\r\n  if(day.weekend) {\r\n    res += ' calendar-day-weekend';\r\n  }\r\n  if(day.otherMonth) {\r\n    res += ' calendar-day-other';\r\n  }\r\n  return res;\r\n}\r\n\r\nfunction equalsDate(day, date) {\r\n  return day.date === date.getDate() && day.month === date.getMonth() && day.year === date.getFullYear();\r\n}\r\n\r\nfunction renderFooter(root, date) {\r\n  const domPrevYear = root.querySelector('#date-calendar-prevYear');\r\n  const domNextYear = root.querySelector('#date-calendar-nextYear');\r\n  domPrevYear.innerText = date.getFullYear()-1;\r\n  domNextYear.innerText = date.getFullYear()+1;\r\n}\r\n\r\nfunction position(root, button) {\r\n  const borderWidth = 1;\r\n  const calWindow = root.querySelector('#date-calendar-window');\r\n  const hideBorder = root.querySelector('.hide-border');\r\n  const buttonBounds = button.getBoundingClientRect();\r\n  //Conservamos la posición del scroll.\r\n  const oldX = window.scrollX;\r\n  const oldY = window.scrollY;\r\n  let clientPosX = buttonBounds.left;\r\n\r\n  //Lo hacemos visible.\r\n  calWindow.classList.add('visible');\r\n\r\n  //Nos aseguramos que el scroll se sitúa donde estaba antes de mostrarse el desplegable.\r\n  window.scrollTo(oldX, oldY);\r\n\r\n  hideBorder.style.width = Object(ui_commons_wc__WEBPACK_IMPORTED_MODULE_3__[\"px\"])(button.clientWidth-2*borderWidth);\r\n\r\n  if(buttonBounds.left + calWindow.offsetWidth > window.innerWidth) {\r\n    //Se sale por la derecha. Lo sitúo por la derecha\r\n    calWindow.style.left = Object(ui_commons_wc__WEBPACK_IMPORTED_MODULE_3__[\"px\"])(buttonBounds.right + window.scrollX - calWindow.offsetWidth);\r\n    hideBorder.style.top = Object(ui_commons_wc__WEBPACK_IMPORTED_MODULE_3__[\"px\"])(-borderWidth);\r\n    hideBorder.style.right = Object(ui_commons_wc__WEBPACK_IMPORTED_MODULE_3__[\"px\"])(0);\r\n  }\r\n  else {\r\n    calWindow.style.left = Object(ui_commons_wc__WEBPACK_IMPORTED_MODULE_3__[\"px\"])(buttonBounds.left + window.scrollX);\r\n    hideBorder.style.top = Object(ui_commons_wc__WEBPACK_IMPORTED_MODULE_3__[\"px\"])(-borderWidth);\r\n  }\r\n  if(buttonBounds.bottom + calWindow.offsetHeight > window.innerHeight) {\r\n    //Se sale por debajo. Lo sitúo hacia arriba.\r\n    calWindow.style.top = Object(ui_commons_wc__WEBPACK_IMPORTED_MODULE_3__[\"px\"])(buttonBounds.top + window.scrollY - calWindow.offsetHeight + borderWidth/*que se solape con el borde*/);\r\n    button.classList.add('calendar-to-top');\r\n    calWindow.classList.add('calendar-to-top');\r\n    hideBorder.style.top = null;\r\n    hideBorder.style.bottom = Object(ui_commons_wc__WEBPACK_IMPORTED_MODULE_3__[\"px\"])(-borderWidth);\r\n  }\r\n  else {\r\n    calWindow.style.top = Object(ui_commons_wc__WEBPACK_IMPORTED_MODULE_3__[\"px\"])(buttonBounds.bottom + window.scrollY - borderWidth/*que se solape con el borde*/);\r\n    button.classList.remove('calendar-to-top');\r\n    calWindow.classList.remove('calendar-to-top');\r\n  }\r\n}\r\n\r\n/**\r\n */\r\nclass DateComponentCalendar extends HTMLElement {\r\n  constructor() {\r\n    super();\r\n\r\n    let shadowRoot = this.attachShadow({mode: 'open'});\r\n    shadowRoot.innerHTML = '<style>'+_DateComponentCalendar_scss__WEBPACK_IMPORTED_MODULE_1___default.a+'</style>'+_DateComponentCalendar_html__WEBPACK_IMPORTED_MODULE_0___default.a;\r\n\r\n    this.handleDateSelection = this.handleDateSelection.bind(this);\r\n    this.handleClose = this.handleClose.bind(this);\r\n    this.handleClickAnywhere = this.handleClickAnywhere.bind(this);\r\n    this.handleNextMonth = this.handleNextMonth.bind(this);\r\n    this.handlePrevMonth = this.handlePrevMonth.bind(this);\r\n    this.handleNextYear = this.handleNextYear.bind(this);\r\n    this.handlePrevYear = this.handleDateSelection.bind(this);\r\n  }\r\n\r\n  connectedCallback() {\r\n    const tbody = this.shadowRoot.querySelector('tbody');\r\n    const closeButton = this.shadowRoot.querySelector('#date-calendar-close');\r\n    const nextM = this.shadowRoot.querySelector('#date-calendar-nextMonth');\r\n    const prevM = this.shadowRoot.querySelector('#date-calendar-prevMonth');\r\n    const nextY = this.shadowRoot.querySelector('#date-calendar-nextYear');\r\n    const prevY = this.shadowRoot.querySelector('#date-calendar-prevYear');\r\n\r\n    tbody.addEventListener('click',this.handleDateSelection);\r\n\r\n    closeButton.addEventListener('click',this.handleClose);\r\n\r\n    nextM.addEventListener('click',this.handleNextMonth);\r\n    prevM.addEventListener('click',this.handlePrevMonth);\r\n    nextY.addEventListener('click',this.handleNextYear);\r\n    prevY.addEventListener('click',this.handlePrevYear);\r\n    const that = this\r\n    setTimeout(function(){\r\n        window.document.addEventListener('click', that.handleClickAnywhere)},\r\n    0);\r\n  }\r\n\r\n  disconnectedCallback() {\r\n    const tbody = this.shadowRoot.querySelector('tbody');\r\n    const closeButton = this.shadowRoot.querySelector('#date-calendar-close');\r\n    const nextM = this.shadowRoot.querySelector('#date-calendar-nextMonth');\r\n    const prevM = this.shadowRoot.querySelector('#date-calendar-prevMonth');\r\n    const nextY = this.shadowRoot.querySelector('#date-calendar-nextYear');\r\n    const prevY = this.shadowRoot.querySelector('#date-calendar-prevYear');\r\n\r\n    tbody.removeEventListener('click',this.handleDateSelection);\r\n\r\n    closeButton.removeEventListener('click',this.handleClose);\r\n\r\n    nextM.removeEventListener('click',this.handleNextMonth);\r\n    prevM.removeEventListener('click',this.handlePrevMonth);\r\n    nextY.removeEventListener('click',this.handleNextYear);\r\n    prevY.removeEventListener('click',this.handlePrevYear);\r\n\r\n    window.document.removeEventListener('click', this.handleClickAnywhere);\r\n\r\n    this.button.classList.remove('calendar-to-top');\r\n  }\r\n\r\n  show(date, selectedDate, button) {\r\n    this.currentDate = date;\r\n    this.selectedDate = selectedDate;\r\n    this.button = button;\r\n\r\n    this.render();\r\n\r\n    //Ponemos el foco en el primer día:\r\n    this.shadowRoot.querySelector('a[bk-cal-date]').focus();\r\n  }\r\n\r\n  render() {\r\n    renderHeader(this.shadowRoot, this.currentDate);\r\n    renderTable(this.shadowRoot, this.currentDate, this.selectedDate);\r\n    renderFooter(this.shadowRoot, this.currentDate);\r\n\r\n    //Hacemos visible el desplegable y lo posicionamos.\r\n    position(this.shadowRoot, this.button);\r\n  }\r\n\r\n  handleDateSelection(e) {\r\n    const date = e.target.getAttribute('bk-cal-date');\r\n    if(date) {\r\n      //El evento llega de uno de los enlaces\r\n      e.preventDefault();\r\n      this.dispatchEvent(new CustomEvent('bkSelect', {\r\n        detail: {\r\n          date: Number(date),\r\n          month: Number(e.target.getAttribute('bk-cal-month')),\r\n          year: Number(e.target.getAttribute('bk-cal-year'))\r\n        },\r\n        bubbles: false\r\n      }));\r\n    }\r\n  }\r\n\r\n  handleClose() {\r\n    this.dispatchEvent(new CustomEvent('bkSelect', {\r\n      bubbles: false\r\n    }));\r\n  }\r\n\r\n  handleClickAnywhere(e) {\r\n    if(e.target!==this) {\r\n      this.handleClose();\r\n    }\r\n  }\r\n\r\n  handleNextMonth(e) {\r\n    e.preventDefault();\r\n    let month = this.currentDate.getMonth() + 1;\r\n    let year = this.currentDate.getFullYear();\r\n    if(month > 11) {\r\n      month = 0;\r\n      year ++;\r\n    }\r\n    this.currentDate = new Date(year, month, 1);\r\n    this.render();\r\n  }\r\n\r\n  handlePrevMonth(e) {\r\n    e.preventDefault();\r\n    let month = this.currentDate.getMonth() - 1;\r\n    let year = this.currentDate.getFullYear();\r\n    if(month < 0) {\r\n      month = 11;\r\n      year --;\r\n    }\r\n    this.currentDate = new Date(year, month, 1);\r\n    this.render();\r\n  }\r\n\r\n  handleNextYear(e) {\r\n    e.preventDefault();\r\n    let year = this.currentDate.getFullYear() + 1;\r\n    this.currentDate = new Date(year, this.currentDate.getMonth(), 1);\r\n    this.render();\r\n  }\r\n\r\n  handlePrevYear(e) {\r\n    e.preventDefault();\r\n    let year = this.currentDate.getFullYear() - 1;\r\n    this.currentDate = new Date(year, this.currentDate.getMonth(), 1);\r\n    this.render();\r\n  }\r\n\r\n}\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/components/DateComponentCalendar.scss\":\r\n/*!***************************************************!*\\\r\n  !*** ./src/components/DateComponentCalendar.scss ***!\r\n  \\***************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \":host {\\n  all: initial;\\n  /* 1st rule so subsequent properties are reset. */\\n  font-family: Verdana, Arial, sans-serif;\\n  font-size: 12px;\\n  color: #35261a; }\\n\\n.hide-border {\\n  position: absolute;\\n  background-color: inherit;\\n  height: 2px; }\\n\\n#date-calendar-window {\\n  position: absolute;\\n  display: none;\\n  border-radius: 2px 2px 2px 2px;\\n  background-color: #f7f7f7;\\n  border: 1px solid #d2d2d2;\\n  z-index: 9000;\\n  box-shadow: 3px 4px 5px 0 #c4c4c4; }\\n  #date-calendar-window.calendar-to-top {\\n    box-shadow: 3px -2px 5px 0 #c4c4c4; }\\n  #date-calendar-window a {\\n    font-size: 12px;\\n    color: #017693; }\\n  #date-calendar-window a:hover {\\n    color: #78726c;\\n    text-decoration: none; }\\n  #date-calendar-window.visible {\\n    display: block; }\\n\\ntable {\\n  font-size: 12px;\\n  background-color: transparent;\\n  margin: 0 5px;\\n  border-spacing: 0;\\n  line-height: 19px; }\\n  table th {\\n    box-sizing: border-box;\\n    color: #35261a;\\n    width: 27px;\\n    font-weight: bold; }\\n  table td {\\n    box-sizing: border-box;\\n    text-align: right;\\n    width: 27px; }\\n    table td a {\\n      box-sizing: border-box;\\n      display: inline-block;\\n      width: 100%;\\n      padding: 0 5px 0 0; }\\n    table td a:hover {\\n      background-color: #968271;\\n      color: #fff !important; }\\n  table .calendar-day-today a {\\n    background-color: #e2e2e2; }\\n  table .calendar-day-selected a {\\n    background-color: #e5e8b5; }\\n  table .calendar-day-weekend a {\\n    color: #35261a !important; }\\n  table .calendar-day-other a {\\n    color: #939393 !important; }\\n\\n.calendar-close {\\n  border: 0;\\n  width: 10px;\\n  background: transparent;\\n  position: absolute;\\n  right: 0px;\\n  padding: 0;\\n  margin: 2px;\\n  cursor: pointer; }\\n  .calendar-close:hover {\\n    background: #78726c;\\n    fill: white; }\\n\\n.calendar-header {\\n  border-bottom: 1px solid #d2d2d2;\\n  margin: 7px auto 0;\\n  padding-bottom: 6px;\\n  position: relative;\\n  text-align: center; }\\n  .calendar-header .calendar-title {\\n    display: inline-block;\\n    vertical-align: middle; }\\n  .calendar-header .calendar-prev-month {\\n    position: absolute;\\n    left: 26px;\\n    top: 1px; }\\n  .calendar-header .calendar-next-month {\\n    position: absolute;\\n    right: 28px;\\n    top: 1px; }\\n  .calendar-header a {\\n    fill: #35261a;\\n    display: inline-block;\\n    width: 12px;\\n    vertical-align: middle; }\\n    .calendar-header a:hover {\\n      fill: #78726c; }\\n\\n.calendar-footer {\\n  border-top: 1px solid #d2d2d2;\\n  margin-top: 6px; }\\n  .calendar-footer a {\\n    font-size: 13px !important; }\\n  .calendar-footer .calendar-prev-year {\\n    margin-bottom: 6px;\\n    margin-left: 9px;\\n    margin-top: 4px;\\n    float: left; }\\n  .calendar-footer .calendar-next-year {\\n    margin-bottom: 6px;\\n    margin-right: 9px;\\n    margin-top: 4px;\\n    float: right; }\\n\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/index.js\":\r\n/*!**********************!*\\\r\n  !*** ./src/index.js ***!\r\n  \\**********************/\r\n/*! exports provided: default */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony import */ var _components_DateComponent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./components/DateComponent */ \"./src/components/DateComponent.js\");\r\n/* harmony import */ var _components_DateComponentCalendar__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./components/DateComponentCalendar */ \"./src/components/DateComponentCalendar.js\");\r\n\r\n\r\n\r\nwindow.customElements.define('bk-wc-ui-date-calendar', _components_DateComponentCalendar__WEBPACK_IMPORTED_MODULE_1__[\"default\"]);\r\nwindow.customElements.define('bk-wc-ui-date', _components_DateComponent__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (_components_DateComponent__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/scripts/dateutils.js\":\r\n/*!**********************************!*\\\r\n  !*** ./src/scripts/dateutils.js ***!\r\n  \\**********************************/\r\n/*! exports provided: calculateMonthDaysOf, checkDate, getMonthDesc */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"calculateMonthDaysOf\", function() { return calculateMonthDaysOf; });\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"checkDate\", function() { return checkDate; });\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getMonthDesc\", function() { return getMonthDesc; });\r\nconst validDateRegExp = /^([0-9][0-9])\\/([0-9][0-9])\\/([0-9][0-9][0-9][0-9])$/;\r\n\r\nconst MONTHS = ['ENERO', 'FEBRERO', 'MARZO', 'ABRIL', 'MAYO', 'JUNIO', 'JULIO', 'AGOSTO', 'SEPTIEMBRE', 'OCTUBRE', 'NOVIEMBRE', 'DICIEMBRE'];\r\n\r\nfunction truncate(date) {\r\n  return new Date(date.getFullYear(), date.getMonth(), date.getDate());\r\n}\r\n\r\nfunction lastDayOf(month, year) {\r\n  let date;\r\n  //Pasamos al siguiente mes.\r\n  month++\r\n  if (month > 11) {\r\n    month = 0;\r\n    year++;\r\n  }\r\n  //Primer día del siguiente mes\r\n  date = new Date(year, month, 1);\r\n  //Le quitamos un día.\r\n  date.setTime(date.getTime() - 24 * 60 * 60 * 1000);\r\n\r\n  return date;\r\n}\r\n\r\n/**\r\n * 0: L, 1: M, ... 6: D\r\n */\r\nfunction dayOfWeek(date) {\r\n  let res = date.getDay() - 1;\r\n  if (res < 0) {\r\n    res = 6;\r\n  }\r\n  return res;\r\n}\r\n\r\nfunction isWeekend(idx) {\r\n  return idx>4;\r\n}\r\n\r\nfunction calculateMonthDaysOf(month, year) {\r\n  //Truncamos por debajo del día (información de horas, minutos, ...)\r\n  const firstDate = new Date(year, month, 1);\r\n  const lastDate = lastDayOf(month, year);\r\n  const firstDayOfWeek = dayOfWeek(firstDate);\r\n  let currentDate = 1, currentDay;\r\n  let result = [];\r\n  let row = [];\r\n  if (firstDayOfWeek > 0) {\r\n    //Tenemos que rellenar del mes anterior\r\n    const prevMonthYear = month - 1 >= 0 ? year : year - 1;\r\n    const prevMonth = month - 1 >= 0 ? month - 1 : 11;\r\n    const lastDatePrevMonth = lastDayOf(prevMonth, prevMonthYear);\r\n    for (let i = 0; i < firstDayOfWeek; i++) {\r\n      row[i] = {\r\n        year: prevMonthYear,\r\n        month: prevMonth,\r\n        date: lastDatePrevMonth.getDate() - (firstDayOfWeek - i - 1),\r\n        otherMonth: true,\r\n        weekend: isWeekend(i)\r\n      };\r\n    }\r\n  }\r\n  currentDay = firstDayOfWeek;\r\n  while (currentDate <= lastDate.getDate()) {\r\n    row[currentDay] = {\r\n      year: year,\r\n      month: month,\r\n      date: currentDate,\r\n      otherMonth: false,\r\n      weekend: isWeekend(currentDay)\r\n    };\r\n    currentDay++;\r\n    currentDate++;\r\n    if (currentDay > 6) {\r\n      currentDay = 0;\r\n      result.push(row);\r\n      row = [];\r\n    }\r\n  }\r\n  if (currentDay < 6) {\r\n    //Rellenamos del siguiente mes\r\n    currentDate = 1;\r\n    for (let i = currentDay; i < 7; i++) {\r\n      row[i] = {\r\n        year: month + 1 <= 11 ? year : year + 1,\r\n        month: month + 1 <= 11 ? month + 1 : 0,\r\n        date: currentDate,\r\n        otherMonth: true,\r\n        weekend: isWeekend(i)\r\n      };\r\n      currentDate++;\r\n    }\r\n  }\r\n  result.push(row);\r\n\r\n  return result;\r\n}\r\n\r\nfunction checkDate(str) {\r\n  const m = validDateRegExp.exec(str);\r\n  if (m) {\r\n    const year = Number(m[3]), month = Number(m[2]) - 1, date = Number(m[1]);\r\n    //Tengo una fecha introducida, ¿es una fecha correcta?\r\n    let test = new Date(Number(m[3]), Number(m[2]) - 1, Number(m[1]));\r\n    //Date adapta los valores fuera de rango. Si son correctos, permanecerán sin modificar\r\n    if (test.getFullYear() === year && test.getMonth() === month && test.getDate() === date) {\r\n      //Fecha introducida y en rango\r\n      return {\r\n        complete: true,\r\n        value: test\r\n      }\r\n    }\r\n    else {\r\n      //Fecha introducida pero con días o meses fuera de rango\r\n      return {\r\n        complete: true,\r\n        value: null\r\n      }\r\n    }\r\n  }\r\n  return {\r\n    //Todavía no hay una fecha completa.\r\n    complete: false,\r\n    value: null\r\n  };\r\n}\r\n\r\nfunction getMonthDesc(idx) {\r\n  return MONTHS[idx];\r\n}\r\n\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"ui-commons-wc\":\r\n/*!********************************!*\\\r\n  !*** external \"ui-commons-wc\" ***!\r\n  \\********************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_ui_commons_wc__;\r\n\r\n/***/ })\r\n\r\n/******/ });\r\n});","module.exports = \"<div id='client'>hola</div>\";","import template from './Aside.html'\r\nimport styles from './Aside.scss'\r\nimport getZEfectivoEnBody from './stacking'\r\nexport default class Aside extends HTMLElement {\r\n    constructor() {\r\n      super()\r\n      const shadowRoot = this.attachShadow({mode: 'open'})\r\n      shadowRoot.innerHTML = '<style>'+styles+'</style>'+template\r\n      this._client = shadowRoot.querySelector('#client')\r\n      this._markup = undefined\r\n    }\r\n    _click(e){e.stopPropagation();}\r\n    connectedCallback(){\r\n        this._client.addEventListener('click', this._click)\r\n    }\r\n    disconnectedCallback(){\r\n        this._client.removeEventListener('click', this._click)\r\n        if (this._markup){\r\n            this._markup.dispatchEvent(new CustomEvent('bk-clean',{bubbles: true}))\r\n        }\r\n    }\r\n    inject(e, markup, styles=\"\" ){\r\n        if (this._css){\r\n            this.shadowRoot.removeChild(this._css)\r\n        }\r\n        this._css = document.createElement('style')\r\n        this._css.type = 'text/css'\r\n        this._css.appendChild(document.createTextNode(styles))\r\n        this.shadowRoot.appendChild(this._css)\r\n        if (this._markup){\r\n            this._markup.dispatchEvent(new CustomEvent('bk-clean',{bubbles: true}))\r\n        }\r\n        this._markup = markup\r\n        this._client.innerHTML = \"\"\r\n        this._client.appendChild(markup)\r\n        \r\n    }\r\n}\r\nfunction scrollsEntre(p, h){\r\n    let ret = {t: 0, l: 0}\r\n    if (!p){return ret;}\r\n    let tmp = h\r\n    while (tmp && tmp != p){\r\n        tmp = tmp.parentNode || tmp.host\r\n        tmp.scrollTop && (ret.t += tmp.scrollTop)\r\n        tmp.scrollLeft && (ret.l += tmp.scrollLeft)\r\n    }\r\n    return ret\r\n}\r\nfunction getTop(nodo, padre = document.documentElement){//!!padre debe ser posicionado!!!\r\n    let tmpnodo = nodo\r\n    let ret = tmpnodo.offsetTop - scrollsEntre(tmpnodo.offsetParent, tmpnodo).t\r\n    while (tmpnodo.offsetParent && tmpnodo.offsetParent != padre){\r\n      tmpnodo = tmpnodo.offsetParent\r\n      ret +=  tmpnodo.offsetTop - scrollsEntre(tmpnodo.offsetParent, tmpnodo).t\r\n    }\r\n    return ret\r\n}\r\nfunction getLeft(nodo, padre = document.documentElement){//!!padre debe ser posicionado!!!\r\n    let tmpnodo = nodo\r\n    let ret = tmpnodo.offsetLeft - scrollsEntre(tmpnodo.offsetParent, tmpnodo).l\r\n    while (tmpnodo.offsetParent && tmpnodo.offsetParent != padre){\r\n      tmpnodo = tmpnodo.offsetParent\r\n      ret +=  tmpnodo.offsetLeft - scrollsEntre(tmpnodo.offsetParent, tmpnodo).l\r\n    }\r\n    return ret\r\n}\r\nfunction getBoundingDocumentRect(n){\r\n    return {\r\n        left: getLeft(n),\r\n        top: getTop(n),\r\n        width: n.offsetWidth,\r\n        height: n.offsetHeight\r\n    }\r\n}\r\nconst adjust = (el, e, pp, markup, mascara, target)=>{\r\n    let x = e.pageX\r\n    let y = e.pageY\r\n    let br\r\n    let mask\r\n    const client = markup.parentElement\r\n    let derecha = true\r\n    let abajo = true\r\n    if (pp){\r\n        //br = target.getBoundingClientRect()\r\n        br = getBoundingDocumentRect(target)\r\n        x = br.left\r\n        y = br.top + br.height\r\n        //console.log(br)\r\n    }\r\n    if (mascara){\r\n        mask = target.cloneNode()\r\n        mask.style.position = 'absolute'\r\n        client.style.position = 'relative'\r\n        client.appendChild(mask)\r\n    }\r\n    const w = el.offsetWidth\r\n    const h = el.offsetHeight\r\n    const wt = document.documentElement.clientWidth\r\n    const ht = document.documentElement.clientHeight\r\n    if (x + w > wt){\r\n        x = pp? x - w + br.width: x - w\r\n        derecha = false\r\n    }\r\n    if (y + h > ht){\r\n        y = pp? y - h - br.height: y - h\r\n        abajo = false\r\n    }\r\n    if (mascara){\r\n        if (derecha){\r\n            client.classList.add('derecha')\r\n            mask.style.left = '0px'\r\n        }\r\n        else{\r\n            mask.style.right = '0px'\r\n        }\r\n        if (abajo){\r\n            client.classList.add('abajo')\r\n            mask.style.top = '-' + String(mask.offsetHeight-Math.ceil(((mask.offsetHeight - mask.clientHeight)/2))-1) + 'px'\r\n            mask.style.borderBottomWidth = '0px'\r\n        }\r\n        else{\r\n            mask.style.bottom = '-' + String(mask.offsetHeight-Math.ceil(((mask.offsetHeight - mask.clientHeight)/2))-1) + 'px'\r\n            mask.style.borderTopWidth = '0px'\r\n        }\r\n    }\r\n    client.classList.add('anim')\r\n    el.style.top = String(y) + 'px'\r\n    el.style.left = String(x) + 'px'\r\n    return mask\r\n}\r\nlet actual = undefined\r\nlet targetActual = undefined\r\nlet mask = undefined\r\nconst click_body = (e)=>{\r\n    if (e && esExcepcionCerrar(e)){\r\n        return\r\n    }\r\n    document.body.removeEventListener('click', click_body)\r\n    window.removeEventListener('resize', click_body)\r\n    document.removeEventListener('scroll',click_body, true)\r\n    document.removeEventListener('bk-scroll',click_body)\r\n    mask && mask.removeEventListener('click', click_body)\r\n    document.body.removeEventListener('click', click_body)\r\n    document.body.removeChild(actual)\r\n    actual = undefined\r\n}\r\nconst esExcepcionCerrar = (e)=>{\r\n    if (e.type == 'scroll' || e.type == 'bk-scroll'){\r\n        const targetscroll = e.composedPath()[0]\r\n        if (targetscroll == document){return true;}\r\n        return !contains(targetscroll,targetActual)\r\n    }\r\n    return false\r\n}\r\nconst contains = (p,h)=>{\r\n    let tmp = h\r\n    while (tmp && tmp != p){\r\n        tmp = tmp.parentNode || tmp.host\r\n    }\r\n    return !!tmp\r\n}\r\nconst aside = (e, target, markup, styles, z, pp = false, mascara = false)=>{\r\n    //console.log(e)\r\n    if (!e){return;}\r\n    if (actual){\r\n        click_body()\r\n    }\r\n    targetActual = target\r\n    e.stopPropagation()\r\n    actual = document.createElement('bk-wc-aside')\r\n    actual.style.font = window.getComputedStyle(targetActual).font\r\n    actual.style.top = '-1500px'\r\n    if (markup){\r\n        actual.inject(e, markup, styles)\r\n    }\r\n    document.body.appendChild(actual)\r\n    mask = adjust(actual,e, pp, markup, mascara, targetActual)\r\n    actual.style.zIndex = z || getZEfectivoEnBody(targetActual)\r\n    mask && mask.addEventListener('click', click_body)\r\n    document.body.addEventListener('click', click_body)\r\n    window.addEventListener('resize', click_body)\r\n    document.addEventListener('scroll',click_body, true)\r\n    document.addEventListener('bk-scroll',click_body)\r\n    return click_body\r\n}\r\nexport {aside}","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host {\\n  all: initial;\\n  display: block;\\n  position: absolute;\\n  /*z-index: 100;*/\\n  box-sizing: border-box;\\n  font: inherit;\\n  color: inherit; }\\n\\n* {\\n  box-sizing: border-box; }\\n\\n#client.anim {\\n  animation: tr .2s ease-in-out; }\\n\\n@keyframes tr {\\n  0% {\\n    opacity: 0; }\\n  100% {\\n    opacity: 0.8; } }\\n\", \"\"]);\n\n// exports\n","module.exports = \"<div id='root'>\\r\\n    <div class='cab'>DOCUMENTACIÓN A APORTAR</div>\\r\\n    <div id='client'></div>\\r\\n</div>\\r\\n\";","import template from './GestDoc.html'\r\nimport styles from './GestDoc.scss'\r\nimport Subprocess from './Subprocess'\r\nimport filenamify from \"filenamify\"\r\nimport {descargaFichero, subirFichero} from './servicios'\r\nimport {mostrarInfoDoc, mostrarMenuAcciones, mapEstado, mapAccion, is, acciones, mostrarError,\r\n    EVENT, URLS, filterAndAdjust, documentosPendientes, esAccionGestoria, obtenerMultiArchivo, resetSec} from './utilGestDoc'\r\nconst templateNode = document.createElement('template')\r\nconst CONTENT_NODE = `<div class='reg'>\r\n                            <div class='node'>\r\n                                <div class='manejador collapsed'></div>\r\n                                <div class='text'></div>\r\n                                <div class='info'></div>\r\n                                <div class='obli'></div>\r\n                                <div class='firma'></div>\r\n                                <div class='estado'></div>\r\n                                <div class='acciones'>\r\n                                <div class='ancla'>\r\n                                    <div class='cap'></div>\r\n                                </div>\r\n                                <div class='menu'></div>\r\n                                </div>\r\n                            </div>\r\n                            <div class='children collapsed'></div>\r\n                        </div>`\r\ntemplateNode.innerHTML = CONTENT_NODE\r\nexport default class GestDoc extends HTMLElement {\r\n    constructor() {\r\n        super()\r\n        const shadowRoot = this.attachShadow({mode: 'open'})\r\n        shadowRoot.innerHTML = '<style>'+styles+'</style>'+template\r\n        this._root = shadowRoot.querySelector('#root')\r\n        this._client = shadowRoot.querySelector('#client')\r\n        this._handle = this._handle.bind(this)\r\n        this._handlescroll = this._handlescroll.bind(this)\r\n        this._error = this._error.bind(this)\r\n        //\r\n        this._cfg = null\r\n        this._subprocesoInyeccion = new Subprocess(URLS.GESTIONARDOCUMENTOSGESTORIAS)\r\n        this._subprocesoInyeccion.error(this._error)\r\n        this._documentos = []\r\n        this._reconect = false\r\n        this._documentosMulti = []\r\n        this._expandedMulti = []\r\n        this._multisInyectar = []\r\n    }\r\n    _dispatchEvent(msg){\r\n        if (msg == EVENT.NOTIFY_PENDING){\r\n            this.dispatchEvent(new CustomEvent(\"bk-event\",{detail: {msg, documentosPendientes: documentosPendientes(this._documentos)}, bubbles: true}))\r\n            return\r\n        }\r\n        this.dispatchEvent(new CustomEvent(\"bk-event\",{detail: {msg}, bubbles: true}))\r\n    }\r\n    _handle(e){\r\n        const target = e.composedPath()[0]\r\n        if (e.type==\"click\" && is(target, 'input')){\r\n            target.value=\"\"\r\n            return\r\n        }\r\n        if (e.type==\"change\" && is(target, 'input')){\r\n            if (!target.files[0]){return;}\r\n            const id = target.closest('.node').getAttribute(\"data-id\")\r\n            const doc = this._documentos.find(d=>d.id==id)\r\n            const file = target.files[0]\r\n            const accion = target.closest('.ancla').getAttribute('data-id')\r\n            this._accion(doc, accion, file)\r\n            return\r\n        }\r\n        if (e.type==\"bk-click\"){\r\n            const accion = e.detail.accion\r\n            const node = e.composedPath()[0]\r\n            if (!node || !is(node, '.node')){return;}\r\n            const doc = this._documentos.find(d=>d.id==node.getAttribute(\"data-id\"))\r\n            this._accion(doc, accion, e.detail.file)\r\n            return\r\n        }\r\n        if (is(target, '#client')){return;}\r\n        const node = target.closest('.node')\r\n        if (!node){return;}\r\n        const doc = (is(node, '.file')?this._documentosMulti: this._documentos).find(d=>d.id==node.getAttribute(\"data-id\"))\r\n        //const doc = this._documentos.find(d=>d.id==node.getAttribute(\"data-id\"))\r\n        if (!doc){return;}\r\n        if (is(node,'.multiArchivo') && is(target,'.manejador')){\r\n            const reg = node.closest('.reg')\r\n            reg.querySelector('.children').classList.toggle('collapsed')\r\n            target.classList.toggle('collapsed')\r\n            this._inyectarMultiArchivo(reg, doc, true)\r\n        }\r\n        else if (is(target, '.info.activo')){\r\n            mostrarInfoDoc(doc, e, this._cfg.indicadorConsulta)\r\n        }\r\n        else if (is(target, '.menu')){\r\n            mostrarMenuAcciones(doc, e, node)\r\n        }\r\n        else if (is(target, '.ancla') || is(target, '.cap')){\r\n            const ancla = target.closest('.ancla')\r\n            this._accion(doc, ancla.getAttribute('data-id'))\r\n        }\r\n    }\r\n    _inyectarMultiArchivo(node, doc, dispatch){\r\n        if(node.querySelector('.children').innerHTML !== \"\"){return Promise.resolve(true);}\r\n        dispatch && this._dispatchEvent(EVENT.SHOW_LOADING_EXPEDIENTE)\r\n        return new Promise((resolve, reject)=>{\r\n            obtenerMultiArchivo(node, doc, this._cfg.indicadorConsulta, this._subprocesoInyeccion)\r\n            .then(r=>{\r\n                dispatch && this._dispatchEvent(EVENT.HIDE_LOADING_EXPEDIENTE)\r\n                if (r===true){resolve(true)}\r\n                const ref = node.querySelector('.children')\r\n                r.forEach(obj=>{\r\n                    this._documentosMulti.push(obj)\r\n                    const n = this._paint(obj)\r\n                    n.querySelector('.node').classList.add('file')\r\n                    ref.appendChild(n)\r\n                })\r\n                resolve(true)\r\n            })\r\n            .catch((e)=>{console.log(e);dispatch && this._dispatchEvent(EVENT.HIDE_LOADING_EXPEDIENTE)})\r\n        })\r\n    }\r\n    _inyectarMultiArchivos(mod){\r\n        //console.log('sdfadfasdf',this._multisInyectar)\r\n        mod && this._dispatchEvent(EVENT.SHOW_LOADING_EXPEDIENTE) \r\n        const arc = this._multisInyectar.pop()\r\n        if (arc){\r\n            const [node, doc] = arc\r\n            node.querySelector('.manejador').classList.remove('collapsed')\r\n            node.querySelector('.children').classList.remove('collapsed')\r\n            this._inyectarMultiArchivo(node, doc)\r\n            .then(()=>this._inyectarMultiArchivos())\r\n        }\r\n        else{\r\n            this._dispatchEvent(EVENT.HIDE_LOADING_EXPEDIENTE) \r\n        }\r\n    }\r\n    _accion(doc, accion, file){\r\n        //console.log(doc, accion)\r\n        if (['VI', 'IM', 'EM', 'DE'].includes(accion)){this._consultarDocumento(doc);}\r\n        else if (['DP', 'EP', 'IP', 'VP'].includes(accion)){this._generarPlantilla(doc);}\r\n        else if (['AD', 'AF'].includes(accion)){this._adjuntarDocumento(doc, accion, file);}\r\n        else if (['AN'].includes(accion)){this._eliminarDocumento(doc);}\r\n        else if (['VD'].includes(accion)){this._verDetalleExceptuado(doc);}\r\n        else if (['EX'].includes(accion)){this._exceptuarDocumento(doc);}\r\n        //else{throw new Error(`Acción '${accion}' no prevista`);}\r\n    }\r\n    _generarPlantilla(doc){\r\n        this._dispatchEvent(EVENT.SHOW_LOADING_EXPEDIENTE)\r\n        acciones.generarPlantilla(doc, this._cfg, this._subprocesoInyeccion)\r\n        .then(url=>{\r\n            return descargaFichero(url, filenamify('plantilla_exp' + this._cfg.propuesta.identificadorExpediente))\r\n            .catch((e)=>{mostrarError(e); return Promise.reject(e);})\r\n        })\r\n        .then(()=>this._dispatchEvent(EVENT.HIDE_LOADING_EXPEDIENTE))\r\n        .catch((e)=>{this._dispatchEvent(EVENT.HIDE_LOADING_EXPEDIENTE)})\r\n    }\r\n    _exceptuarDocumento(doc){\r\n        acciones.exceptuarDocumento(doc)\r\n        .then((r)=> r && this._render())\r\n    }\r\n    _verDetalleExceptuado(doc){\r\n        acciones.obtenerMotivoExceptuacion(doc, this._cfg)\r\n        .then((r)=> r && this._render())\r\n    }\r\n    _eliminarDocumento(doc){\r\n        this._dispatchEvent(EVENT.SHOW_LOADING_EXPEDIENTE)\r\n        acciones.eliminarDocumento(doc, this._subprocesoInyeccion)\r\n        .then(r=>{this._dispatchEvent(EVENT.HIDE_LOADING_EXPEDIENTE);this._render();})\r\n        .catch((e)=>{this._dispatchEvent(EVENT.HIDE_LOADING_EXPEDIENTE)})\r\n    }\r\n    _consultarDocumento(doc){\r\n        this._dispatchEvent(EVENT.SHOW_LOADING_EXPEDIENTE)\r\n        acciones.consultarDocumento(doc, this._cfg, this._subprocesoInyeccion)\r\n        .then(url=>{\r\n            return descargaFichero(url, filenamify(doc.nombreSubtipoDocumento + '_exp' + this._cfg.propuesta.identificadorExpediente))\r\n            .catch((e)=>{mostrarError(e); return Promise.reject(e);})\r\n        })\r\n        .then(()=>this._dispatchEvent(EVENT.HIDE_LOADING_EXPEDIENTE))\r\n        .catch((e)=>{this._dispatchEvent(EVENT.HIDE_LOADING_EXPEDIENTE)})\r\n    }\r\n    _adjuntarDocumento(doc, accion, file){\r\n        this._dispatchEvent(EVENT.SHOW_LOADING_EXPEDIENTE)\r\n        subirFichero(file)\r\n        .then(data=>{\r\n            if (accion=='AD'){\r\n                return acciones.adjuntarDocumento(doc, this._cfg, this._subprocesoInyeccion, data.operationMessage)\r\n            }\r\n            else{\r\n                this._dispatchEvent(EVENT.HIDE_LOADING_EXPEDIENTE)\r\n                return acciones.adjuntarFirma(doc, this._cfg, this._subprocesoInyeccion, data.operationMessage)\r\n            }\r\n         })\r\n        .then(r=>{\r\n            this._dispatchEvent(EVENT.HIDE_LOADING_EXPEDIENTE)\r\n            r && this._render();\r\n        })\r\n        .catch((e)=>{this._dispatchEvent(EVENT.HIDE_LOADING_EXPEDIENTE);mostrarError(e);})\r\n    }\r\n    _error(e){\r\n        mostrarError(e)\r\n        if (this._subprocesoInyeccion.abierto && !this._reconect){\r\n            this._reconect = true\r\n            const that = this //dana\r\n            setTimeout(function(){that._render()}, 100)\r\n        }\r\n    }\r\n    set cfg(cfg){\r\n        this._cfg = cfg\r\n        this._render()\r\n    }\r\n    get EVENT(){\r\n        return EVENT\r\n    }\r\n    _handlescroll(){\r\n        this.dispatchEvent(new CustomEvent(\"bk-scroll\",{bubbles: true}))\r\n    }\r\n    connectedCallback(){\r\n        this._client.addEventListener('click', this._handle)\r\n        this._client.addEventListener('bk-click', this._handle)\r\n        this._client.addEventListener('change', this._handle)\r\n        this.shadowRoot.addEventListener('scroll',this._handlescroll, true)\r\n    }\r\n    disconnectedCallback(){\r\n        this._client.removeEventListener('click', this._handle)\r\n        this._client.removeEventListener('bk-click', this._handle)\r\n        this._client.removeEventListener('change', this._handle)\r\n        this.shadowRoot.removeEventListener('scroll',this._handlescroll, true)\r\n    }\r\n    _paint(n){\r\n        const tmp = templateNode.content.cloneNode(true)\r\n        tmp.querySelector('.node').setAttribute('data-id', n.id)\r\n        if (n.indicadorMultiArchivo){\r\n            tmp.querySelector('.node').classList.add('multiArchivo')\r\n            if (this._expandedMulti.includes(n.id)){\r\n                this._multisInyectar.push([tmp.querySelector('div'), n])\r\n            }\r\n        }\r\n        tmp.querySelector('.text').innerText = n.nombreSubtipoDocumento\r\n        tmp.querySelector('.text').title = n.nombreSubtipoDocumento\r\n        if (n.indicadorDescripcion){\r\n            tmp.querySelector('.info').classList.add('activo')\r\n        }\r\n        if (n.indicadorObligatoriedad){\r\n            tmp.querySelector('.obli').classList.add('activo')\r\n        }\r\n        if (n.indicadorRequiereFirma){\r\n            tmp.querySelector('.firma').classList.add('activo')\r\n        }\r\n        tmp.querySelector('.estado').innerText = (mapEstado[n.codigoEstado] || '')\r\n        tmp.querySelector('.estado').title = (mapEstado[n.codigoEstado] || '')\r\n        const clase = n.codigoEstado == 'EE'? 'agree':(n.codigoEstado == 'NA'? 'progress':(n.codigoEstado == 'EX'? 'excepted': ''))\r\n        if (clase){tmp.querySelector('.estado').classList.add(clase)}\r\n        if (n.acciones.length > 0 && mapAccion[n.acciones[0].codigoAccion]){\r\n            tmp.querySelector('.cap').innerText = (mapAccion[n.acciones[0].codigoAccion] || '')\r\n            tmp.querySelector('.ancla').setAttribute('data-id', n.acciones[0].codigoAccion)\r\n            if (['AD', 'AF'].includes(n.acciones[0].codigoAccion)){\r\n                const file = document.createElement('input')\r\n                file.setAttribute('type', 'file')\r\n                tmp.querySelector('.ancla').appendChild(file)\r\n            }\r\n        }\r\n        if (n.acciones.length > 1){\r\n            tmp.querySelector('.menu').classList.add('activo')\r\n        }\r\n        return tmp.querySelector('div')\r\n    }\r\n    _backupEstado(){\r\n        this._expandedMulti = []\r\n        this._client.querySelectorAll('.node.multiArchivo').forEach(nodo=>{\r\n            if (!is(nodo.querySelector('.manejador'),'.collapsed') &&  !is(nodo.closest('.reg').querySelector('.children'),':empty')){\r\n                this._expandedMulti.push(nodo.getAttribute('data-id'))\r\n            }\r\n        })\r\n        console.log(this._expandedMulti)\r\n    }\r\n    _render(noShowLoading){\r\n        resetSec()\r\n        this._backupEstado()\r\n        noShowLoading || this._dispatchEvent(EVENT.SHOW_LOADING_EXPEDIENTE)\r\n        this._documentos = []\r\n        this._load()\r\n        .then(docs=>{\r\n            noShowLoading || this._dispatchEvent(EVENT.HIDE_LOADING_EXPEDIENTE)\r\n            this._client.innerHTML = \"\"\r\n            this._multisInyectar = []\r\n            docs.forEach(n=>{\r\n                this._client.appendChild(this._paint(n))\r\n            })\r\n            this._dispatchEvent(EVENT.NOTIFY_PENDING)\r\n            this._inyectarMultiArchivos(!noShowLoading)\r\n            this._reconect = false\r\n        })\r\n        .catch(()=> noShowLoading || this._dispatchEvent(EVENT.HIDE_LOADING_EXPEDIENTE))//los mensajes de error ya los muestra sb\r\n    }\r\n    _getPage(){\r\n        const codigoTarea = [this._cfg.tarea.codigoTarea + (this._cfg.notG? \"\": \"G\")]\r\n        const model = {\r\n            'datoDocumentoExpediente': {\r\n            'codigoFase': this._cfg.fase,\r\n            'identificadorInstanciaProceso': this._cfg.tarea.identificadorExpedienteDocumental,\r\n            'codigosSubprocesos': codigoTarea,\r\n            'identificadorPropuesta': this._cfg.propuesta.identificadorPropuesta,\r\n            'indicadorConsulta': this._cfg.indicadorConsulta\r\n            },\r\n            'clavePaginacion': \"0\"\r\n        }\r\n        if (this._cfg.idGarantia){\r\n            model.datoDocumentoExpediente.codigoIdentificadorGarantia = this._cfg.idGarantia\r\n        }\r\n        return new Promise((resolve, reject)=>{\r\n            this._subprocesoInyeccion.inicia(model)\r\n            .when('MostrarDocumentosGestoriasIU',data =>{\r\n                resolve(data)\r\n            })\r\n            .error(reject)\r\n        })\r\n    }\r\n    _load() {\r\n        return new Promise((resolve, reject)=>{\r\n            this._getPage().then(data=>{\r\n                this._documentos = filterAndAdjust(data.documentos)\r\n                resolve(this._documentos)\r\n            })\r\n            .catch(reject)\r\n        })\r\n    }\r\n    _loadmock() {\r\n        return new Promise((resolve, reject)=>{\r\n            const pp = require('../mocks/k.json')\r\n            this._documentos = [...this._documentos, ...filterAndAdjust(pp.data.documentos)]\r\n            resolve(this._documentos)\r\n        })\r\n    }\r\n}\r\n//export {mapAccion, URLS, EVENT}","var escape = require(\"../../node_modules/css-loader/lib/url/escape.js\");\nexports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host {\\n  all: initial;\\n  box-sizing: border-box;\\n  font: inherit;\\n  color: inherit;\\n  display: block;\\n  height: inherit;\\n  --back-principal: #f1f1f1;\\n  --borde-suave: #ebebeb;\\n  --guia: #c0c0c0;\\n  --front: #fafafa;\\n  font-size: 13px;\\n  /*por fefecto, si el que usa el componente no lo declara*/ }\\n\\n* {\\n  box-sizing: border-box; }\\n\\n#root {\\n  display: flex;\\n  flex-direction: column;\\n  background-color: #e7e5e5;\\n  border-radius: .1em;\\n  position: relative;\\n  height: inherit; }\\n\\n.cab {\\n  flex-shrink: 0;\\n  padding: .7em .7em .7em 3em;\\n  font-size: .9em;\\n  background-image: url(\" + escape(require(\"./img/documentos.png\")) + \");\\n  background-repeat: no-repeat;\\n  background-position: .6em; }\\n\\n#client {\\n  flex-grow: 1;\\n  margin: .3em;\\n  padding: .4em;\\n  overflow-y: auto;\\n  background-color: white;\\n  border-radius: .1em; }\\n  #client > .reg:nth-child(even) {\\n    background-color: #f6f6f6; }\\n\\n.reg {\\n  position: relative; }\\n  .reg .children {\\n    padding-left: 1.8em;\\n    position: relative;\\n    border-radius: .2em;\\n    transition: opacity .3s ease; }\\n    .reg .children.collapsed {\\n      overflow: hidden;\\n      height: 0;\\n      opacity: 0; }\\n    .reg .children .reg:first-child::before {\\n      height: 2em;\\n      top: -.9em; }\\n    .reg .children .reg::after {\\n      content: '';\\n      position: absolute;\\n      display: inline-block;\\n      height: 0;\\n      width: 1.9em;\\n      border-top: 1px solid var(--guia);\\n      top: 1em;\\n      left: -1.4em; }\\n    .reg .children .reg::before {\\n      content: '';\\n      position: absolute;\\n      display: inline-block;\\n      border-left: 1px solid var(--guia);\\n      height: 2.3em;\\n      width: 0;\\n      top: -1.3em;\\n      left: -1.4em; }\\n\\n.node {\\n  display: flex; }\\n  .node.multiArchivo .manejador {\\n    background-image: url(\" + escape(require(\"./img/minus.svg\")) + \");\\n    background-size: cover;\\n    background-repeat: no-repeat;\\n    background-position: center;\\n    border: 1px solid #aaa;\\n    border-radius: 2px;\\n    transition: background-color .3s ease;\\n    cursor: pointer;\\n    margin-top: .6em; }\\n    .node.multiArchivo .manejador:hover {\\n      background-color: #aaa; }\\n    .node.multiArchivo .manejador.collapsed {\\n      background-image: url(\" + escape(require(\"./img/plus.svg\")) + \"); }\\n  .node > div {\\n    padding: .6em 0; }\\n  .node > div + div {\\n    margin-left: .7em; }\\n  .node .manejador {\\n    flex-shrink: 0;\\n    width: 0.9em;\\n    height: 0.9em;\\n    margin-right: -0.6em;\\n    padding: 0; }\\n  .node .text {\\n    padding-left: .3em;\\n    flex-grow: 1;\\n    flex-basis: 0;\\n    white-space: nowrap;\\n    overflow: hidden;\\n    text-overflow: ellipsis; }\\n  .node .obli {\\n    width: .9em; }\\n    .node .obli.activo::before {\\n      content: \\\"*\\\";\\n      background-color: #ffcc01;\\n      color: #017a99;\\n      padding: 0 .1em; }\\n  .node .firma {\\n    width: 1.3em; }\\n    .node .firma.activo {\\n      background-image: url(\" + escape(require(\"./img/required-signature.svg\")) + \");\\n      background-repeat: no-repeat;\\n      background-position: center; }\\n  .node .info {\\n    width: 1.4em; }\\n    .node .info.activo {\\n      background-image: url(\" + escape(require(\"./img/help.svg\")) + \");\\n      background-repeat: no-repeat;\\n      background-position: center;\\n      cursor: pointer;\\n      transition: opacity .2s ease-in-out; }\\n      .node .info.activo:hover {\\n        opacity: .7; }\\n  .node .estado {\\n    width: 12em;\\n    padding-left: 1.5em;\\n    white-space: nowrap;\\n    overflow: hidden;\\n    text-overflow: ellipsis;\\n    background-repeat: no-repeat;\\n    background-size: 1.1em;\\n    background-position: 0 .7em; }\\n    .node .estado.agree {\\n      background-image: url(\" + escape(require(\"./img/agree.svg\")) + \"); }\\n    .node .estado.progress {\\n      background-image: url(\" + escape(require(\"./img/in-progress.svg\")) + \"); }\\n    .node .estado.excepted {\\n      background-image: url(\" + escape(require(\"./img/excepted.svg\")) + \"); }\\n  .node .acciones {\\n    width: 10em;\\n    display: flex; }\\n    .node .acciones .ancla {\\n      flex-grow: 1;\\n      position: relative;\\n      white-space: nowrap;\\n      overflow: hidden;\\n      text-overflow: ellipsis;\\n      transition: opacity .2s ease-in-out; }\\n      .node .acciones .ancla:hover {\\n        opacity: .7; }\\n      .node .acciones .ancla .cap {\\n        cursor: pointer;\\n        color: #018ec0;\\n        text-decoration: underline; }\\n      .node .acciones .ancla input {\\n        position: absolute;\\n        top: 0;\\n        left: -160%;\\n        width: 300%;\\n        height: 110%;\\n        opacity: 0;\\n        cursor: pointer; }\\n    .node .acciones .menu.activo {\\n      flex-shrink: 0;\\n      width: 1.5em;\\n      background-image: url(\" + escape(require(\"./img/contextual-menu.svg\")) + \");\\n      background-repeat: no-repeat;\\n      background-position: center;\\n      cursor: pointer;\\n      transition: opacity .2s ease-in-out; }\\n      .node .acciones .menu.activo:hover {\\n        opacity: .7; }\\n\", \"\"]);\n\n// exports\n","module.exports = \"<div id='root'>\\r\\n    <div class='cab'>\\r\\n        <div class='documento'><div>Documento</div></div>\\r\\n        <div class='help'></div>\\r\\n        <div class='obl'><div >Obl.</div></div>\\r\\n        <div class='archivo'><div>Archivo físico</div></div>\\r\\n        <div class='incorporado'><div>Incorporado por</div></div>\\r\\n        <div class='estado'><div>Estado</div></div>\\r\\n        <div class='acciones'><div>Acciones</div></div>\\r\\n        <div class='scroll'></div>\\r\\n    </div>\\r\\n    <div id='client'></div>\\r\\n    <div id='pie'>\\r\\n        <div class='ayuda'>\\r\\n            <div class='pObli'>Obligatorio</div>\\r\\n            <div class='pInfo'>Información</div>\\r\\n            <div class='pAportado'>Aportado Resolución</div>\\r\\n            <div class='pExceptuado'>Exceptuado</div>\\r\\n            <div class='pPlantilla'>Plantilla Documento</div>\\r\\n            <div class='pEnTramite'>En trámite</div>\\r\\n            <div class='pEnTramite2'>En Trámite</div>\\r\\n            <div class='pPendiente'>Pendiente</div>\\r\\n            <div class='pFirma'>Firma obligatoria</div>\\r\\n        </div>\\r\\n        <div class='mas'></div>\\r\\n    </div>\\r\\n</div>\\r\\n\";","import template from './GestDocTree.html'\r\nimport styles from './GestDocTree.scss'\r\nimport Subprocess from './Subprocess'\r\nimport filenamify from \"filenamify\"\r\nimport {descargaFichero, subirFichero} from './servicios'\r\nimport {mostrarInfoDoc, mostrarMenuAcciones, mapEstado, mapAccion, is, acciones, mostrarError,\r\n    EVENT, URLS, filterAndAdjust, documentosPendientes, esAccionGestoria, resetSec, obtenerMultiArchivo} from './utilGestDoc'\r\nlet idCounter = 0;\r\nfunction esGarantia(doc){\r\n    return doc.identificadorExpedienteGarantia && doc.identificadorExpedienteGarantia.trim() && doc.codigoExpedienteInterviniente === ' '\r\n}\r\nfunction esInterviniente(doc){\r\n    return doc.codigoExpedienteInterviniente && doc.codigoExpedienteInterviniente.trim()&& doc.identificadorExpedienteGarantia === ' '\r\n}\r\nfunction esDocumento(doc){\r\n    return doc.identificadorSubtipoDocumento && doc.identificadorSubtipoDocumento.trim() \r\n}\r\nfunction defineExpediente(doc){\r\n    return !!doc.indicadorDocumentoDefinidoExpediente\r\n}\r\nfunction esAgrupacion(doc){\r\n    return doc.indicadorAgrupacion && doc.indicadorAgrupacion.trim()\r\n}\r\nfunction composeNameGarantia(name) {\r\n    const splitted = name.split('#', 2)\r\n    return splitted.length > 1 ? splitted[1] + ' - ' + splitted[0] : splitted[0]\r\n}\r\nfunction processTree(docs, cfg){\r\n    idCounter = 0\r\n    const garantias = {}\r\n    const expedientes = {}\r\n    const intervinientes = {}\r\n    const libres = []\r\n    docs.forEach(doc=>{\r\n        if (!esDocumento(doc)){return;}\r\n        if (defineExpediente(doc)){\r\n            addChildren(doc, expedientes, cfg.propuesta.identificadorExpediente,\r\n                'Expediente Nº ' + cfg.propuesta.identificadorExpediente)\r\n        }\r\n        else{//no define expediente\r\n            if (esInterviniente(doc)){\r\n                addChildren(doc, intervinientes, doc.codigoExpedienteInterviniente, doc.nombreInterviniente);\r\n            }\r\n            else if (esGarantia(doc)){\r\n                doc.nombreGarantia = composeNameGarantia(doc.nombreGarantia)\r\n                addChildren(doc, garantias, doc.identificadorExpedienteGarantia, doc.nombreGarantia);\r\n            }\r\n            else{\r\n                libres.push(doc)\r\n            }\r\n        }\r\n    })\r\n    const modelo = [...Object.values(intervinientes),\r\n        ...Object.values(garantias), ...Object.values(expedientes),\r\n        ...libres\r\n    ]\r\n    modelo.forEach(it=>{\r\n        if (it.agrupaciones){\r\n            it.children.unshift(...Object.values(it.agrupaciones))\r\n            //it.agrupaciones.forEach(a=>it.children.unshift(Object.values(a)))\r\n        }\r\n    })\r\n    //modelo[2].children = [ ...modelo[2].children[0].children, ...modelo[2].children]\r\n    //modelo[2].children.unshift(...[modelo[2].children[0].children])\r\n    return modelo\r\n}\r\nfunction addChildren(doc, obj, id, nombreSubtipoDocumento){\r\n    if (!obj[id]){\r\n        obj[id]={nombreSubtipoDocumento, children: [], nivel: 1, agrupaciones: [], id: String(idCounter++)}\r\n    }\r\n    if (esAgrupacion(doc) && !obj[id].agrupaciones[doc.indicadorAgrupacion]){\r\n        obj[id].agrupaciones[doc.indicadorAgrupacion] = {\r\n            nombreSubtipoDocumento: doc.nombreAgrupacion, children:[], nivel: 2, id: String(idCounter++),\r\n            parent: obj[id]\r\n        }\r\n    }\r\n    if (esAgrupacion(doc)) {\r\n        obj[id].agrupaciones[doc.indicadorAgrupacion].children.push({...doc, parent: obj[id].agrupaciones[doc.indicadorAgrupacion]});\r\n    } else {\r\n        obj[id].children.push({...doc, parent: obj[id]});\r\n    }\r\n}\r\nexport default class GestDocTree extends HTMLElement {\r\n    constructor() {\r\n        super()\r\n        const shadowRoot = this.attachShadow({mode: 'open'})\r\n        shadowRoot.innerHTML = '<style>'+styles+'</style>'+template\r\n        this._root = shadowRoot.querySelector('#root')\r\n        this._client = shadowRoot.querySelector('#client')\r\n        this._mas = shadowRoot.querySelector('.mas')\r\n        this._handle = this._handle.bind(this)\r\n        this._handlescroll = this._handlescroll.bind(this)\r\n        this._handleMas = this._handleMas.bind(this)\r\n        this._error = this._error.bind(this)\r\n        //\r\n        this._cfg = null\r\n        this._subprocesoInyeccion = new Subprocess(URLS.GESTIONARDOCUMENTOSGESTORIAS)\r\n        this._subprocesoInyeccion.error(this._error)\r\n        this._documentos = []\r\n        this._documentosMulti = []\r\n        this._modelo = undefined\r\n        this._expanded = []\r\n        this._expandedMulti = []\r\n        this._indicadorMasDocumentos = false\r\n        this._clavePaginacion = 0\r\n        this._multisInyectar = []\r\n        this._reconect = false\r\n    }\r\n    _dispatchEvent(msg){\r\n        if (msg == EVENT.NOTIFY_PENDING){\r\n            this.dispatchEvent(new CustomEvent(\"bk-event\",{detail: {msg, documentosPendientes: documentosPendientes(this._documentos)}, bubbles: true}))\r\n            return\r\n        }\r\n        this.dispatchEvent(new CustomEvent(\"bk-event\",{detail: {msg}, bubbles: true}))\r\n    }\r\n    _generarPlantilla(doc){\r\n        this._dispatchEvent(EVENT.SHOW_LOADING_EXPEDIENTE)\r\n        acciones.generarPlantilla(doc, this._cfg, this._subprocesoInyeccion)\r\n        .then(url=>{\r\n            return descargaFichero(url, filenamify('plantilla_exp' + this._cfg.propuesta.identificadorExpediente))\r\n            .catch((e)=>{mostrarError(e); return Promise.reject(e);})\r\n        })\r\n        .then(()=>this._dispatchEvent(EVENT.HIDE_LOADING_EXPEDIENTE))\r\n        .catch((e)=>{this._dispatchEvent(EVENT.HIDE_LOADING_EXPEDIENTE)})\r\n    }\r\n    _exceptuarDocumento(doc){\r\n        acciones.exceptuarDocumento(doc)\r\n        .then((r)=> r && this._render())\r\n    }\r\n    _verDetalleExceptuado(doc){\r\n        acciones.obtenerMotivoExceptuacion(doc, this._cfg)\r\n        .then((r)=> r && this._render())\r\n    }\r\n    _eliminarDocumento(doc){\r\n        this._dispatchEvent(EVENT.SHOW_LOADING_EXPEDIENTE)\r\n        acciones.eliminarDocumento(doc, this._subprocesoInyeccion)\r\n        .then(r=>{this._dispatchEvent(EVENT.HIDE_LOADING_EXPEDIENTE);this._render();})\r\n        .catch((e)=>{this._dispatchEvent(EVENT.HIDE_LOADING_EXPEDIENTE)})\r\n    }\r\n    _consultarDocumento(doc){\r\n        this._dispatchEvent(EVENT.SHOW_LOADING_EXPEDIENTE)\r\n        acciones.consultarDocumento(doc, this._cfg, this._subprocesoInyeccion)\r\n        .then(url=>{\r\n            return descargaFichero(url, filenamify(doc.nombreSubtipoDocumento + '_exp' + this._cfg.propuesta.identificadorExpediente))\r\n            .catch((e)=>{mostrarError(e); return Promise.reject(e);})\r\n        })\r\n        .then(()=>this._dispatchEvent(EVENT.HIDE_LOADING_EXPEDIENTE))\r\n        .catch((e)=>{this._dispatchEvent(EVENT.HIDE_LOADING_EXPEDIENTE)})\r\n    }\r\n    _adjuntarDocumento(doc, accion, file){\r\n        this._dispatchEvent(EVENT.SHOW_LOADING_EXPEDIENTE)\r\n        subirFichero(file)\r\n        .then(data=>{\r\n            if (accion=='AD'){\r\n                return acciones.adjuntarDocumento(doc, this._cfg, this._subprocesoInyeccion, data.operationMessage)\r\n            }\r\n            else{\r\n                this._dispatchEvent(EVENT.HIDE_LOADING_EXPEDIENTE)\r\n                return acciones.adjuntarFirma(doc, this._cfg, this._subprocesoInyeccion, data.operationMessage)\r\n            }\r\n         })\r\n         .then(r=>{\r\n            this._dispatchEvent(EVENT.HIDE_LOADING_EXPEDIENTE)\r\n            r && this._render();\r\n        })\r\n        .catch((e)=>{this._dispatchEvent(EVENT.HIDE_LOADING_EXPEDIENTE);mostrarError(e);})\r\n    }\r\n    _error(e){\r\n        mostrarError(e)\r\n        if (this._subprocesoInyeccion.abierto && !this._reconect){\r\n            this._reconect = true\r\n            const that = this //dana\r\n            setTimeout(function(){that._render()}, 100)\r\n        }\r\n    }\r\n    _accion(doc, accion, file){\r\n        //console.log(doc, accion)\r\n        if (['VI', 'IM', 'EM', 'DE'].includes(accion)){this._consultarDocumento(doc);}\r\n        else if (['DP', 'EP', 'IP', 'VP'].includes(accion)){this._generarPlantilla(doc);}\r\n        else if (['AD', 'AF'].includes(accion)){this._adjuntarDocumento(doc, accion, file);}\r\n        else if (['AN'].includes(accion)){this._eliminarDocumento(doc);}\r\n        else if (['VD'].includes(accion)){this._verDetalleExceptuado(doc);}\r\n        else if (['EX'].includes(accion)){this._exceptuarDocumento(doc);}\r\n        //else{throw new Error(`Acción '${accion}' no prevista`);}\r\n    }\r\n    _handleMas(){\r\n        if (is(this._mas, '.disabled')){return;}\r\n        this._backupEstado()\r\n        this._dispatchEvent(EVENT.SHOW_LOADING_EXPEDIENTE)\r\n        this._loadPage(this._clavePaginacion)\r\n        .then(docs=>{\r\n            this._dispatchEvent(EVENT.HIDE_LOADING_EXPEDIENTE)\r\n            this._modelo = processTree(docs, this._cfg)\r\n            this._client.innerHTML = \"\"\r\n            this._multisInyectar = []\r\n            this._paint(this._modelo, this._client)\r\n            this._inyectarMultiArchivos(true)\r\n            !this._indicadorMasDocumentos && this._mas.classList.add('disabled')\r\n            this._dispatchEvent(EVENT.NOTIFY_PENDING)\r\n        })\r\n        .catch((e)=>{\r\n            this._dispatchEvent(EVENT.HIDE_LOADING_EXPEDIENTE)\r\n            this._error(e)\r\n        })\r\n    }\r\n    _handlescroll(){\r\n        this.dispatchEvent(new CustomEvent(\"bk-scroll\",{bubbles: true}))\r\n    }\r\n    _handle(e){\r\n        const target = e.composedPath()[0]\r\n        if (e.type==\"click\" && is(target, 'input')){\r\n            target.value=\"\"\r\n            return\r\n        }\r\n        if (e.type==\"change\" && is(target, 'input')){\r\n            if (!target.files[0]){return;}\r\n            const node = target.closest('.nodoD')\r\n            const doc = (is(node, '.file')?this._documentosMulti: this._documentos).find(d=>d.id==node.getAttribute(\"data-id\"))\r\n            const file = target.files[0]\r\n            const accion = target.closest('.ancla').getAttribute('data-id')\r\n            this._accion(doc, accion, file)\r\n            return\r\n        }\r\n        if (e.type==\"bk-click\"){\r\n            const accion = e.detail.accion\r\n            const node = e.composedPath()[0]\r\n            if (!node || !is(node, '.nodoD')){return;}\r\n            const doc = (is(node, '.file')?this._documentosMulti: this._documentos).find(d=>d.id==node.getAttribute(\"data-id\"))\r\n            this._accion(doc, accion, e.detail.file)\r\n            return\r\n        }\r\n        if (is(target, '#client')){return;}\r\n        const node = target.closest('.nodoA, .nodoD')\r\n        if (!node){return;}\r\n        if (is(target,'.manejador') && is(node, '.nodoA')){//expand/collapse\r\n            node.querySelector('.children').classList.toggle('collapsed')\r\n            target.classList.toggle('collapsed')\r\n        }\r\n        if (is(target,'.manejador') && is(node, '.nodoD.multiArchivo')){//expand/collapse\r\n            node.querySelector('.children').classList.toggle('collapsed')\r\n            target.classList.toggle('collapsed')\r\n            const doc = this._documentos.find(d=>d.id==node.getAttribute(\"data-id\"))\r\n            this._inyectarMultiArchivo(node, doc, true)\r\n        }\r\n        else if (is(node, '.nodoD')){\r\n            const doc = (is(node, '.file')?this._documentosMulti: this._documentos).find(d=>d.id==node.getAttribute(\"data-id\"))\r\n            if (is(target, '.help.activo')){\r\n                mostrarInfoDoc(doc, e, this._cfg.indicadorConsulta)\r\n            }\r\n            else if (is(target, '.menu')){\r\n                mostrarMenuAcciones(doc, e, node)\r\n            }\r\n            else if (is(target, '.ancla') || is(target, '.cap')){\r\n                const ancla = target.closest('.ancla')\r\n                this._accion(doc, ancla.getAttribute('data-id'))\r\n            }\r\n        }\r\n    }\r\n    _inyectarMultiArchivos(mod){\r\n        //console.log('sdfadfasdf',this._multisInyectar)\r\n        mod && this._dispatchEvent(EVENT.SHOW_LOADING_EXPEDIENTE) \r\n        const arc = this._multisInyectar.pop()\r\n        if (arc){\r\n            const [node, doc] = arc\r\n            node.querySelector('.manejador').classList.remove('collapsed')\r\n            node.querySelector('.children').classList.remove('collapsed')\r\n            this._inyectarMultiArchivo(node, doc)\r\n            .then(()=>this._inyectarMultiArchivos())\r\n        }\r\n        else{\r\n            this._dispatchEvent(EVENT.HIDE_LOADING_EXPEDIENTE) \r\n        }\r\n    }\r\n    _inyectarMultiArchivo(node, doc, dispatch){\r\n        if(node.querySelector('.children').innerHTML !== \"\"){return Promise.resolve(true);}\r\n        dispatch && this._dispatchEvent(EVENT.SHOW_LOADING_EXPEDIENTE)\r\n        return new Promise((resolve, reject)=>{\r\n            obtenerMultiArchivo(node, doc, this._cfg.indicadorConsulta, this._subprocesoInyeccion)\r\n            .then(r=>{\r\n                dispatch && this._dispatchEvent(EVENT.HIDE_LOADING_EXPEDIENTE)\r\n                if (r===true){resolve(true)}\r\n                //console.log(r)\r\n                const ref = node.querySelector('.children')\r\n                if (node.nextElementSibling){\r\n                    ref.classList.add('vertical')\r\n                }\r\n                r.forEach(obj=>{\r\n                    this._documentosMulti.push(obj)\r\n                    const n = document.createElement('div')\r\n                    n.classList.add('nodoD', 'file')\r\n                    n.innerHTML = require('./fragments/nodoDoc.html')\r\n                    n.setAttribute('data-id', obj.id)\r\n                    this._paintDoc(obj, n.querySelector('.doc'))\r\n                    ref.appendChild(n)\r\n                })\r\n                resolve(true)\r\n            })\r\n            .catch((e)=>{console.log(e);dispatch && this._dispatchEvent(EVENT.HIDE_LOADING_EXPEDIENTE)})\r\n        })\r\n    }\r\n    _paint(obj, ref){\r\n        if (Array.isArray(obj)){\r\n            obj.forEach(it=>this._paint(it, ref))\r\n        }\r\n        else if (obj.children){\r\n            const n = document.createElement('div')\r\n            n.classList.add('nodoA')\r\n            obj.nivel == 1 && (n.classList.add('raiz'))\r\n            n.innerHTML = require('./fragments/nodoArbol.html')\r\n            n.querySelector('.txt').innerText = obj.nombreSubtipoDocumento\r\n            n.setAttribute('data-id', obj.id)\r\n            if (obj.nivel == 2){\r\n                const vert = document.createElement('span')\r\n                vert.classList.add('vert')\r\n                n.appendChild(vert)\r\n                obj.parent.children.forEach((c, i)=>{\r\n                    if (c === obj &&  i < obj.parent.children.length-1){\r\n                        n.querySelector('.children').classList.add('vertical')\r\n                    }\r\n                })\r\n            }\r\n            if(this._expanded.includes(obj.id)){\r\n                n.querySelector('.manejador').classList.remove('collapsed')\r\n                n.querySelector('.children').classList.remove('collapsed')\r\n            }\r\n            ref.appendChild(n)\r\n            this._paint(obj.children, n.querySelector('.children'))\r\n        }\r\n        else{//doc\r\n            const n = document.createElement('div')\r\n            n.classList.add('nodoD')\r\n            if (is(ref, '#client')){\r\n                n.classList.add('raiz')\r\n            }\r\n            n.innerHTML = require('./fragments/nodoDoc.html')\r\n            n.setAttribute('data-id', obj.id)\r\n            this._paintDoc(obj, n.querySelector('.doc'))\r\n            if (obj.indicadorMultiArchivo){\r\n                n.classList.add('multiArchivo')\r\n                if (this._expandedMulti.includes(obj.id)){\r\n                    this._multisInyectar.push([n, obj])\r\n                }\r\n            }\r\n            ref.appendChild(n)\r\n        }\r\n    }\r\n    _paintDoc(obj, ref){\r\n        ref.querySelector('.documento').innerText = obj.nombreSubtipoDocumento\r\n        ref.querySelector('.documento').title = obj.nombreSubtipoDocumento\r\n        if (obj.indicadorDescripcion){\r\n            ref.querySelector('.help').classList.add('activo')\r\n        }\r\n        if (obj.indicadorObligatoriedad){\r\n            ref.querySelector('.obli').classList.add('activo')\r\n        }\r\n        if (obj.indicadorRequiereFirma){\r\n            ref.querySelector('.firma').classList.add('activo')\r\n        }\r\n        ref.querySelector('.archivo').innerText = obj.indicadorArchivo? 'Sí': 'No'\r\n        ref.querySelector('.incorporado').innerText = obj.incorporadoPor && obj.incorporadoPor.trim()?\r\n            obj.incorporadoPor: '-'\r\n        ref.querySelector('.estado').innerText = (mapEstado[obj.codigoEstado] || '')\r\n        ref.querySelector('.estado').title = (mapEstado[obj.codigoEstado] || '')\r\n        let clase = ''\r\n        if (obj.codigoEstado == 'EE'){clase='agree'}\r\n        else if (obj.codigoEstado == 'EX'){clase='excepted'}\r\n        else if (['NA', 'NG', 'BL', 'GN', 'GS', 'NE', 'EF','PF', 'EP'].includes(obj.codigoEstado)){clase='progress'}\r\n        else if (obj.codigoEstado == 'ND'){clase='pending'}\r\n        if (clase){ref.querySelector('.estado').classList.add(clase)}\r\n        if (obj.acciones.length > 0 && mapAccion[obj.acciones[0].codigoAccion]){\r\n            ref.querySelector('.cap').innerText = (mapAccion[obj.acciones[0].codigoAccion] || '')\r\n            ref.querySelector('.ancla').setAttribute('data-id', obj.acciones[0].codigoAccion)\r\n            if (['AD', 'AF'].includes(obj.acciones[0].codigoAccion)){\r\n                const file = document.createElement('input')\r\n                file.setAttribute('type', 'file')\r\n                ref.querySelector('.ancla').appendChild(file)\r\n            }\r\n        }\r\n        if (obj.acciones.length > 1){\r\n            ref.querySelector('.menu').classList.add('activo')\r\n        }\r\n    }\r\n    _backupEstado(){\r\n        this._expanded = []\r\n        this._expandedMulti = []\r\n        this._client.querySelectorAll('.nodoA').forEach(nodo=>{\r\n            if (!is(nodo.querySelector('.manejador'),'.collapsed')){\r\n                this._expanded.push(nodo.getAttribute('data-id'))\r\n            }\r\n        })\r\n        this._client.querySelectorAll('.nodoD.multiArchivo').forEach(nodo=>{\r\n            if (!is(nodo.querySelector('.manejador'),'.collapsed')){\r\n                this._expandedMulti.push(nodo.getAttribute('data-id'))\r\n            }\r\n        })\r\n        console.log(this._expandedMulti)\r\n    }\r\n    _render(noShowLoading){\r\n        resetSec()\r\n        this._backupEstado()\r\n        noShowLoading || this._dispatchEvent(EVENT.SHOW_LOADING_EXPEDIENTE)\r\n        this._documentos = []\r\n        let consulta = undefined\r\n        if (this._clavePaginacion > 0){\r\n            consulta = this._loadMultiple(this._clavePaginacion)\r\n            this._clavePaginacion = 0\r\n        }\r\n        else{\r\n            consulta = this._loadPage(0)\r\n        }\r\n        consulta.then(docs=>{\r\n            noShowLoading || this._dispatchEvent(EVENT.HIDE_LOADING_EXPEDIENTE)\r\n            this._modelo = processTree(docs, this._cfg)\r\n            this._client.innerHTML = \"\"\r\n            this._multisInyectar = []\r\n            this._paint(this._modelo, this._client)\r\n            this._inyectarMultiArchivos(!noShowLoading)\r\n            !this._indicadorMasDocumentos && this._mas.classList.add('disabled')\r\n            //console.log(this._modelo)\r\n            this._dispatchEvent(EVENT.NOTIFY_PENDING)\r\n            this._reconect = false\r\n            \r\n        })\r\n        .catch((e)=>{\r\n            noShowLoading || this._dispatchEvent(EVENT.HIDE_LOADING_EXPEDIENTE)\r\n            //this._error(e)\r\n        })\r\n    }\r\n    _getPage(num){\r\n        const codigoTarea = [this._cfg.tarea.codigoTarea + (this._cfg.notG? \"\": \"G\")]\r\n        const model = {\r\n            'datoDocumentoExpediente': {\r\n            'codigoFase': this._cfg.fase,\r\n            'identificadorInstanciaProceso': this._cfg.tarea.identificadorExpedienteDocumental,\r\n            'codigosSubprocesos': codigoTarea,\r\n            'identificadorPropuesta': this._cfg.propuesta.identificadorPropuesta,\r\n            'indicadorConsulta': this._cfg.indicadorConsulta\r\n            },\r\n            'clavePaginacion': String(num)\r\n        }\r\n        if (this._cfg.idGarantia){\r\n            model.datoDocumentoExpediente.codigoIdentificadorGarantia = this._cfg.idGarantia\r\n        }\r\n        return new Promise((resolve, reject)=>{\r\n            this._subprocesoInyeccion.inicia(model)\r\n            .when('MostrarDocumentosGestoriasIU',data =>{\r\n                resolve(data)\r\n            })\r\n            .error(reject)\r\n        })\r\n    }\r\n    _loadMultiple(claveHasta){\r\n        return this._loadPage(this._clavePaginacion)\r\n        .then(()=>{\r\n            if(this._clavePaginacion < claveHasta){\r\n                return this._loadMultiple(claveHasta)\r\n            }\r\n            return this._documentos\r\n        })\r\n    }\r\n    _loadPage(clave){\r\n        return new Promise((resolve, reject)=>{\r\n            this._getPage(clave).then(data=>{\r\n                this._indicadorMasDocumentos = data.indicadorMasDocumentos\r\n                this._clavePaginacion = data.clavePaginacionOut || 0\r\n                this._documentos = [...this._documentos, ...filterAndAdjust(data.documentos)]\r\n                resolve(this._documentos)\r\n            })\r\n            .catch(reject)\r\n        })\r\n    }\r\n    _loadinit2() {\r\n        return new Promise((resolve, reject)=>{\r\n            const pp = require('../mocks/k.json')\r\n            this._indicadorMasDocumentos = pp.data.indicadorMasDocumentos\r\n            this._clavePaginacion = pp.data.clavePaginacionOut || 0\r\n            this._documentos = [...this._documentos, ...filterAndAdjust(pp.data.documentos)]\r\n            resolve(this._documentos)\r\n        })\r\n    }\r\n    set cfg(cfg){\r\n        this._cfg = cfg\r\n        this._render()\r\n    }\r\n    get EVENT(){\r\n        return EVENT\r\n    }\r\n    connectedCallback(){\r\n        this._client.addEventListener('click', this._handle)\r\n        this._client.addEventListener('bk-click', this._handle)\r\n        this._client.addEventListener('change', this._handle)\r\n        this.shadowRoot.addEventListener('scroll',this._handlescroll, true)\r\n        this._mas.addEventListener('click', this._handleMas)\r\n    }\r\n    disconnectedCallback(){\r\n        this._client.removeEventListener('click', this._handle)\r\n        this._client.removeEventListener('bk-click', this._handle)\r\n        this._client.removeEventListener('change', this._handle)\r\n        this.shadowRoot.removeEventListener('scroll',this._handlescroll, true)\r\n        this._mas.removeEventListener('click', this._handleMas)\r\n    }\r\n    \r\n}\r\n//export {mapAccion, URLS, EVENT}","var escape = require(\"../../node_modules/css-loader/lib/url/escape.js\");\nexports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host {\\n  all: initial;\\n  box-sizing: border-box;\\n  font: inherit;\\n  color: inherit;\\n  display: block;\\n  height: inherit;\\n  --back-principal: #f1f1f1;\\n  --borde-suave: #ebebeb;\\n  --guia: #c0c0c0;\\n  --front: #fafafa;\\n  font-size: 13px;\\n  /*por fefecto, si el que usa el componente no lo declara*/ }\\n\\n* {\\n  box-sizing: border-box; }\\n\\n#root {\\n  display: flex;\\n  flex-direction: column;\\n  background-color: var(--back-principal);\\n  border-radius: .1em;\\n  position: relative;\\n  padding: .3em;\\n  height: inherit;\\n  border: 1px solid var(--borde-suave); }\\n\\n.cab {\\n  display: flex;\\n  flex-shrink: 0;\\n  background-color: #e8e6e7; }\\n  .cab > div {\\n    padding: .2em .2em .2em .5em;\\n    border-right: 1px solid var(--borde-suave);\\n    display: flex;\\n    align-items: center; }\\n\\n#client {\\n  flex-grow: 1;\\n  padding: .4em 0;\\n  overflow-y: scroll;\\n  border-radius: .1em; }\\n\\n.nodoA {\\n  position: relative; }\\n  .nodoA > .vert {\\n    position: absolute;\\n    border-left: 1px solid var(--guia);\\n    display: inline-block;\\n    height: 2.4em;\\n    width: 0;\\n    top: -1.4em;\\n    left: -1.1em; }\\n  .nodoA:first-child > .vert {\\n    top: -0.85em;\\n    height: 1.85em; }\\n  .nodoA > .cuerpo {\\n    padding-left: .3em;\\n    display: flex; }\\n    .nodoA > .cuerpo .txt {\\n      padding: .6em .3em;\\n      flex-grow: 1;\\n      flex-basis: 0; }\\n    .nodoA > .cuerpo .manejador {\\n      display: inline-block;\\n      background-image: url(\" + escape(require(\"./img/minus.svg\")) + \");\\n      background-size: cover;\\n      background-repeat: no-repeat;\\n      background-position: center;\\n      width: 0.9em;\\n      height: 0.9em;\\n      padding: .1em;\\n      margin-right: 0.1em;\\n      border: 1px solid #aaa;\\n      border-radius: 2px;\\n      transition: background-color .3s ease;\\n      cursor: pointer;\\n      margin-top: .6em; }\\n      .nodoA > .cuerpo .manejador:hover {\\n        background-color: #aaa; }\\n      .nodoA > .cuerpo .manejador.collapsed {\\n        background-image: url(\" + escape(require(\"./img/plus.svg\")) + \"); }\\n  .nodoA > .children {\\n    border: 1px solid var(--borde-suave);\\n    border-right-width: 0;\\n    padding-left: 1.8em;\\n    background-color: var(--front);\\n    position: relative;\\n    border-radius: .2em;\\n    transition: opacity .3s ease; }\\n    .nodoA > .children.collapsed {\\n      /*display: none;*/\\n      overflow: hidden;\\n      height: 0;\\n      opacity: 0; }\\n    .nodoA > .children.vertical::before {\\n      content: '';\\n      position: absolute;\\n      border-left: 1px solid var(--guia);\\n      display: inline-block;\\n      height: calc(100% + 1px);\\n      width: 0;\\n      top: -1.38em;\\n      left: -1.2em; }\\n  .nodoA.raiz > .children {\\n    background-color: transparent;\\n    border-width: 0; }\\n  .nodoA:not(.raiz)::after {\\n    content: '';\\n    position: absolute;\\n    display: inline-block;\\n    height: 0;\\n    width: 1.4em;\\n    border-top: 1px solid var(--guia);\\n    top: 1em;\\n    left: -1.1em; }\\n\\n.nodoD {\\n  border-bottom: 1px solid var(--borde-suave);\\n  background-color: var(--front);\\n  position: relative;\\n  border-radius: 2px; }\\n  .nodoD:last-child {\\n    border-bottom-width: 0; }\\n  .nodoD > .children {\\n    /*border: 1px solid var(--borde-suave);*/\\n    border-right-width: 0;\\n    padding-left: 1.8em;\\n    background-color: var(--front);\\n    position: relative;\\n    border-radius: .2em;\\n    transition: opacity .3s ease; }\\n    .nodoD > .children.collapsed {\\n      overflow: hidden;\\n      height: 0;\\n      opacity: 0; }\\n    .nodoD > .children.vertical::before {\\n      content: '';\\n      position: absolute;\\n      border-left: 1px solid var(--guia);\\n      display: inline-block;\\n      height: 100%;\\n      width: 0;\\n      top: -1.3em;\\n      left: -1.1em; }\\n  .nodoD > .cuerpo {\\n    padding-left: .3em;\\n    display: flex; }\\n    .nodoD > .cuerpo .doc {\\n      flex-grow: 1; }\\n  .nodoD .manejador {\\n    display: inline-block;\\n    flex-shrink: 0;\\n    width: 0.9em;\\n    height: 0.9em;\\n    padding: .1em;\\n    margin-right: 0.1em; }\\n  .nodoD.multiArchivo > .cuerpo > .manejador {\\n    background-image: url(\" + escape(require(\"./img/minus.svg\")) + \");\\n    background-size: cover;\\n    background-repeat: no-repeat;\\n    background-position: center;\\n    border: 1px solid #aaa;\\n    border-radius: 2px;\\n    transition: background-color .3s ease;\\n    cursor: pointer;\\n    margin-top: .6em; }\\n    .nodoD.multiArchivo > .cuerpo > .manejador:hover {\\n      background-color: #aaa; }\\n    .nodoD.multiArchivo > .cuerpo > .manejador.collapsed {\\n      background-image: url(\" + escape(require(\"./img/plus.svg\")) + \"); }\\n  .nodoD:not(.raiz)::after {\\n    content: '';\\n    position: absolute;\\n    display: inline-block;\\n    height: 0;\\n    width: 1.4em;\\n    border-top: 1px solid var(--guia);\\n    top: 1em;\\n    left: -1.1em; }\\n  .nodoD:not(.raiz)::before {\\n    content: '';\\n    position: absolute;\\n    display: inline-block;\\n    border-left: 1px solid var(--guia);\\n    height: 2.4em;\\n    width: 0;\\n    top: -1.4em;\\n    left: -1.1em; }\\n  .nodoD:not(.raiz):first-child::before {\\n    height: 1.9em;\\n    top: -0.9em; }\\n\\n.nodoD .doc {\\n  display: flex;\\n  margin-left: .3em;\\n  width: 96%;\\n  /*bug de web flow??*/ }\\n  .nodoD .doc > div {\\n    padding: .6em 0;\\n    border-right: 1px solid var(--borde-suave); }\\n  .nodoD .doc .help.activo {\\n    background-image: url(\" + escape(require(\"./img/help.svg\")) + \");\\n    background-repeat: no-repeat;\\n    background-position: center;\\n    background-size: 1.4em;\\n    cursor: pointer;\\n    transition: opacity .2s ease-in-out; }\\n    .nodoD .doc .help.activo:hover {\\n      opacity: .7; }\\n  .nodoD .doc .obl .obli {\\n    display: inline-block;\\n    vertical-align: top;\\n    width: .9em; }\\n    .nodoD .doc .obl .obli.activo::before {\\n      content: \\\"*\\\";\\n      background-color: #ffcc01;\\n      color: #017a99;\\n      padding: 0 .1em; }\\n  .nodoD .doc .obl .firma {\\n    display: inline-block;\\n    width: 1.3em;\\n    height: 100%; }\\n    .nodoD .doc .obl .firma.activo {\\n      background-image: url(\" + escape(require(\"./img/required-signature.svg\")) + \");\\n      background-repeat: no-repeat;\\n      background-position: center; }\\n  .nodoD .doc .estado {\\n    padding-left: 1.8em;\\n    white-space: nowrap;\\n    overflow: hidden;\\n    text-overflow: ellipsis;\\n    background-repeat: no-repeat;\\n    background-size: 1.1em;\\n    background-position: 0.3em .5em; }\\n    .nodoD .doc .estado.agree {\\n      background-image: url(\" + escape(require(\"./img/agree.svg\")) + \"); }\\n    .nodoD .doc .estado.progress {\\n      background-image: url(\" + escape(require(\"./img/in-progress.svg\")) + \"); }\\n    .nodoD .doc .estado.excepted {\\n      background-image: url(\" + escape(require(\"./img/excepted.svg\")) + \"); }\\n    .nodoD .doc .estado.pending {\\n      background-image: url(\" + escape(require(\"./img/pending.svg\")) + \"); }\\n  .nodoD .doc .acciones {\\n    display: flex; }\\n    .nodoD .doc .acciones .ancla {\\n      flex-grow: 1;\\n      position: relative;\\n      white-space: nowrap;\\n      overflow: hidden;\\n      text-overflow: ellipsis;\\n      transition: opacity .2s ease-in-out; }\\n      .nodoD .doc .acciones .ancla:hover {\\n        opacity: .7; }\\n      .nodoD .doc .acciones .ancla .cap {\\n        margin-left: .3em;\\n        cursor: pointer;\\n        color: #018ec0;\\n        text-decoration: underline; }\\n      .nodoD .doc .acciones .ancla input {\\n        position: absolute;\\n        top: 0;\\n        left: -160%;\\n        width: 300%;\\n        height: 110%;\\n        opacity: 0;\\n        cursor: pointer; }\\n    .nodoD .doc .acciones .menu.activo {\\n      margin-right: .2em;\\n      flex-shrink: 0;\\n      width: 1.5em;\\n      background-image: url(\" + escape(require(\"./img/contextual-menu.svg\")) + \");\\n      background-repeat: no-repeat;\\n      background-position: center;\\n      cursor: pointer;\\n      transition: opacity .2s ease-in-out; }\\n      .nodoD .doc .acciones .menu.activo:hover {\\n        opacity: .7; }\\n\\n.documento {\\n  flex-grow: 1;\\n  flex-basis: 0;\\n  flex-shrink: 1;\\n  white-space: nowrap;\\n  overflow: hidden;\\n  text-overflow: ellipsis; }\\n\\n.help {\\n  width: 2em;\\n  flex-shrink: 0; }\\n\\n.obl {\\n  width: 3em;\\n  text-align: center;\\n  flex-shrink: 0; }\\n\\n.archivo {\\n  width: 5em;\\n  text-align: center;\\n  flex-shrink: 0; }\\n\\n.incorporado {\\n  width: 7em;\\n  text-align: center;\\n  flex-shrink: 0; }\\n\\n.estado {\\n  width: 11em;\\n  flex-shrink: 0; }\\n\\n.acciones {\\n  width: 13em;\\n  flex-shrink: 0; }\\n\\n.scroll {\\n  width: 17px;\\n  flex-shrink: 0; }\\n\\n#pie {\\n  display: flex;\\n  flex-shrink: 0; }\\n  #pie .ayuda {\\n    flex-grow: 1;\\n    display: flex; }\\n    #pie .ayuda > div {\\n      padding: .5em .5em .5em 1.6em;\\n      position: relative; }\\n  #pie .mas {\\n    align-self: flex-start;\\n    flex-shrink: 0;\\n    padding: .6em .5em;\\n    border: 1px solid -var(--borde-suave);\\n    border-radius: 2px;\\n    background-image: url(\" + escape(require(\"./img/following-results.svg\")) + \");\\n    background-repeat: no-repeat;\\n    background-position: center;\\n    background-size: .7em;\\n    box-shadow: 0 2px 1px #888;\\n    transition: opacity .3s ease-in;\\n    cursor: pointer; }\\n    #pie .mas:hover {\\n      opacity: .7; }\\n    #pie .mas.disabled {\\n      opacity: .5;\\n      cursor: no-drop; }\\n\\n.pObli::before {\\n  position: absolute;\\n  content: \\\"*\\\";\\n  background-color: #ffcc01;\\n  color: #017a99;\\n  padding: 0 .1em;\\n  left: .7em;\\n  top: .4em; }\\n\\n.pInfo {\\n  background-image: url(\" + escape(require(\"./img/help.svg\")) + \");\\n  background-repeat: no-repeat;\\n  background-position: 0;\\n  background-size: 1.2em; }\\n\\n.pAportado {\\n  background-image: url(\" + escape(require(\"./img/warning.svg\")) + \");\\n  background-repeat: no-repeat;\\n  background-position: 0;\\n  background-size: 1.2em; }\\n\\n.pExceptuado {\\n  background-image: url(\" + escape(require(\"./img/excepted.svg\")) + \");\\n  background-repeat: no-repeat;\\n  background-position: 0;\\n  background-size: 1.2em; }\\n\\n.pPlantilla {\\n  background-image: url(\" + escape(require(\"./img/template.svg\")) + \");\\n  background-repeat: no-repeat;\\n  background-position: 0;\\n  background-size: 1.2em; }\\n\\n.pEnTramite::before {\\n  position: absolute;\\n  border-radius: .6em;\\n  content: \\\"\\\";\\n  background-color: #e5790e;\\n  padding: .6em .8em;\\n  left: -.2em;\\n  top: .4em;\\n  background-image: url(\" + escape(require(\"./img/in-progressW.svg\")) + \");\\n  background-repeat: no-repeat;\\n  background-position: center;\\n  background-size: 1em; }\\n\\n.pEnTramite2 {\\n  background-image: url(\" + escape(require(\"./img/in-progress.svg\")) + \");\\n  background-repeat: no-repeat;\\n  background-position: 0;\\n  background-size: 1.2em; }\\n\\n.pPendiente {\\n  background-image: url(\" + escape(require(\"./img/pending.svg\")) + \");\\n  background-repeat: no-repeat;\\n  background-position: 0;\\n  background-size: 1.2em; }\\n\\n.pFirma {\\n  background-image: url(\" + escape(require(\"./img/required-signature.svg\")) + \");\\n  background-repeat: no-repeat;\\n  background-position: 0;\\n  background-size: 1.4em; }\\n\", \"\"]);\n\n// exports\n","module.exports = \"<div id='popup'>\\r\\n    <div id='client'>\\r\\n        <slot></slot>\\r\\n    </div>\\r\\n</div>\";","import template from './Modal.html'\r\nimport styles from './Modal.scss'\r\nfunction is(nodo, selector){\r\n    return nodo.closest(selector)==nodo\r\n}\r\nexport default class Modal extends HTMLElement {\r\n    constructor() {\r\n      super()\r\n      const shadowRoot = this.attachShadow({mode: 'open'})\r\n      shadowRoot.innerHTML = '<style>'+styles+'</style>'+template\r\n      this._popup = shadowRoot.querySelector('#popup')\r\n      this._client = shadowRoot.querySelector('#client')\r\n      this._click = this._click.bind(this)\r\n      this.close = this.close.bind(this)\r\n      this._endtransition = this._endtransition.bind(this)\r\n      this._closing = false\r\n    }\r\n    connectedCallback(){\r\n        this._popup.addEventListener('click', this._click)\r\n    }\r\n    disconnectedCallback(){\r\n      this._popup.removeEventListener('click', this._click)\r\n    }\r\n    _click(e){\r\n        const target = e.composedPath()[0]\r\n        if (target==this._popup){\r\n        //if (is(target, '#popup')/* || is(target, '.aspa')*/){\r\n            this.close()\r\n        }\r\n    }\r\n    _endtransition(){\r\n        try{this.parentNode && this.parentNode.removeChild(this)}\r\n        catch(e){}\r\n        this._client.removeEventListener(\"transitionend\", this._endtransition)\r\n        this._client.removeEventListener(\"transitioncancel\", this._endtransition)\r\n    }\r\n    close(){\r\n        if (this._closing){\r\n            return\r\n        }\r\n        this._closing = true\r\n        this.dispatchEvent(new CustomEvent('bk-close',{bubbles: true}))\r\n        this._client.style.transform = \"scale(0.1)\"\r\n        this._popup.style.opacity = '0.1'\r\n        this._client.addEventListener(\"transitionend\", this._endtransition)\r\n        this._client.addEventListener(\"transitioncancel\", this._endtransition)\r\n        setTimeout(this._endtransition.bind(this), 500)\r\n    }\r\n    inject(markup, styles=\"\" ){\r\n        if (this._css){\r\n            this.shadowRoot.removeChild(this._css)\r\n        }\r\n        this._css = document.createElement('style')\r\n        this._css.type = 'text/css'\r\n        this._css.appendChild(document.createTextNode(styles))\r\n        this.shadowRoot.appendChild(this._css)\r\n        if (this._markup){\r\n            this._markup.dispatchEvent(new CustomEvent('bk-clean',{bubbles: true}))\r\n        }\r\n        this._markup = markup\r\n        this._client.innerHTML = \"\"\r\n        this._client.appendChild(markup)\r\n        markup.style.removeProperty('top')\r\n    }\r\n}\r\nfunction popup(markup){\r\n    const h = ()=> {\r\n        markup.dispatchEvent(new CustomEvent('bk-clean',{bubbles: true}))\r\n        el.removeEventListener('bk-close', h) \r\n    }\r\n    const el = document.createElement('priv-modal')\r\n    el.addEventListener('bk-close', h)\r\n    el.appendChild(markup)\r\n    document.body.appendChild(el)\r\n    return el.close\r\n}\r\nfunction popupi(markup, styles){\r\n    const h = ()=> {\r\n        markup.dispatchEvent(new CustomEvent('bk-clean',{bubbles: true}))\r\n        el.removeEventListener('bk-close', h) \r\n    }\r\n    const el = document.createElement('priv-modal')\r\n    el.addEventListener('bk-close', h) \r\n    if (markup){\r\n        markup.style.top = '-1500px'\r\n        el.inject(markup, styles)\r\n    }\r\n    document.body.appendChild(el)\r\n    return el.close\r\n}\r\nfunction dialogMsg(cfg){\r\n    return new Promise((resolve, reject)=>{\r\n        const cerrar = ()=>{\r\n            close()\r\n            resolve(true)\r\n        }\r\n        const clean = ()=>{\r\n            resolve(true)\r\n            aspa.removeEventListener('click', cerrar)\r\n            aceptar.removeEventListener('click', cerrar)\r\n            markup.removeEventListener('bk-clean', clean)\r\n        }\r\n        const style = require('./fragments/msg.scss')\r\n        const html = require('./fragments/msg.html')\r\n        const markup = document.createElement('div')\r\n        markup.innerHTML = html\r\n        markup.querySelector('.message').innerText = cfg.message || 'Sin mensaje' \r\n        markup.querySelector('.detail').innerHTML = cfg.detail\r\n        markup.querySelector('#cabecera').classList.add(cfg.type)\r\n        const aspa = markup.querySelector('.aspa')\r\n        const close = popupi(markup, style)\r\n        aspa.addEventListener('click', cerrar)\r\n        const aceptar = markup.querySelector('.aceptar')\r\n        aceptar.innerText = cfg.textoOk? cfg.textoOk: \"Aceptar\"\r\n        aceptar.addEventListener('click', cerrar)\r\n        markup.addEventListener('bk-clean', clean)\r\n    \r\n    })\r\n    \r\n}\r\nexport {popup, popupi, dialogMsg}\r\n//cfg = { type: 'info', message: '', detail: msg, textoOk: 'Aceptar' }","var escape = require(\"../../node_modules/css-loader/lib/url/escape.js\");\nexports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host {\\n  all: initial;\\n  display: block;\\n  box-sizing: border-box;\\n  font: inherit;\\n  color: inherit; }\\n\\n* {\\n  box-sizing: border-box; }\\n\\n#popup {\\n  width: 100vw;\\n  height: 100vh;\\n  position: fixed;\\n  z-index: 7000;\\n  top: 0;\\n  left: 0;\\n  background-color: rgba(0, 0, 0, 0.3);\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  animation: tr .3s ease-in-out;\\n  transition: opacity .3s ease-in-out; }\\n\\n#client {\\n  background-color: white;\\n  border-radius: 0.3em;\\n  box-shadow: 0.2em 0.2em 0.3em #888;\\n  padding: .5em;\\n  /*padding-top: 2.2em;*/\\n  position: relative;\\n  animation: pop .5s;\\n  animation-timing-function: cubic-bezier(0.71, 0.55, 0.62, 1.57);\\n  transition: transform .3s ease-in-out; }\\n\\n.aspa {\\n  position: absolute;\\n  top: 0.5em;\\n  right: 0.5em;\\n  padding: 0.7em 0 0 0.7em;\\n  background-image: url(\" + escape(require(\"./img/cross.svg\")) + \");\\n  background-size: cover;\\n  background-repeat: no-repeat;\\n  background-position: center;\\n  cursor: pointer;\\n  transition: opacity 0.3s ease; }\\n  .aspa:hover {\\n    opacity: 0.6; }\\n\\n@keyframes tr {\\n  0% {\\n    opacity: 0; }\\n  100% {\\n    opacity: 0.8; } }\\n\\n@keyframes pop {\\n  0% {\\n    transform: scale(0.1); }\\n  100% {\\n    transform: scale(1); } }\\n\", \"\"]);\n\n// exports\n","module.exports = \"<div id='root'>\\r\\n    <div id='client'>\\r\\n        <div id='text'></div>\\r\\n        <div id='pro'><div class='barra'></div></div>\\r\\n    </div>\\r\\n</div>\";","import template from './Progress.html'\r\nimport styles from './Progress.scss'\r\nexport default class Progress extends HTMLElement {\r\n    constructor(msg, boolC, sinProgres) {\r\n      super()\r\n      if (!msg){return;}\r\n      const shadowRoot = this.attachShadow({mode: 'open'})\r\n      shadowRoot.innerHTML = '<style>'+styles+'</style>'+template\r\n      this._root = shadowRoot.querySelector('#root')\r\n      this._client = shadowRoot.querySelector('#client')\r\n      this._text = shadowRoot.querySelector('#text')\r\n      this._endtransition = this._endtransition.bind(this)\r\n      this._text.innerHTML = msg\r\n      boolC &&  this._root.classList.add('parcial')\r\n      sinProgres && this._client.removeChild(this._client.querySelector('#pro'))\r\n    }\r\n    _endtransition(){\r\n        try{this.parentNode && this.parentNode.removeChild(this)}\r\n        catch(e){}\r\n        this._client.removeEventListener(\"transitionend\", this._endtransition)\r\n        this._client.removeEventListener(\"transitioncancel\", this._endtransition)\r\n    }\r\n    close(){\r\n        this._client.style.transform = \"scale(0.1)\"\r\n        this._root.style.opacity = '0.1'\r\n        this._client.addEventListener(\"transitionend\", this._endtransition)\r\n        this._client.addEventListener(\"transitioncancel\", this._endtransition)\r\n        setTimeout(this._endtransition.bind(this), 500)\r\n    }\r\n}\r\n\r\nconst progress = (msg = \"Procesando, espere...\", contenedor, sinProgres = false)=>{\r\n    const p = new Progress(msg, contenedor, sinProgres)\r\n    if (contenedor){\r\n        contenedor.appendChild(p)//contenedor debe estar posicionado...\r\n    }\r\n    else{\r\n        document.body.appendChild(p)\r\n    }\r\n    return p\r\n}\r\nexport {progress}","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host {\\n  all: initial;\\n  display: block;\\n  box-sizing: border-box;\\n  font: inherit;\\n  color: inherit; }\\n\\n* {\\n  box-sizing: border-box; }\\n\\n#root {\\n  width: 100vw;\\n  height: 100vh;\\n  position: fixed;\\n  z-index: 10000;\\n  top: 0;\\n  left: 0;\\n  background-color: rgba(0, 0, 0, 0.2);\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  animation: tr .3s ease-in-out;\\n  transition: opacity .3s ease-in-out; }\\n  #root.parcial {\\n    width: 100%;\\n    height: 100%;\\n    position: absolute;\\n    z-index: auto;\\n    top: 0;\\n    left: 0; }\\n\\n#client {\\n  background-color: white;\\n  border-radius: 0.3em;\\n  box-shadow: 0.2em 0.2em 0.3em #888;\\n  padding: .5em 2em;\\n  position: relative;\\n  animation: pop .5s;\\n  animation-timing-function: cubic-bezier(0.71, 0.55, 0.62, 1.57);\\n  transition: transform .3s ease-in-out; }\\n\\n#pro {\\n  border: 1px solid #dbdbdb;\\n  height: .3em;\\n  margin-top: .1em; }\\n  #pro .barra {\\n    height: 100%;\\n    background-color: #7a7ac2;\\n    animation: pro 1.5s;\\n    animation-timing-function: linear; }\\n\\n@keyframes pro {\\n  0% {\\n    width: 0; }\\n  100% {\\n    width: 100%; } }\\n\\n@keyframes tr {\\n  0% {\\n    opacity: 0; }\\n  100% {\\n    opacity: 0.8; } }\\n\\n@keyframes pop {\\n  0% {\\n    transform: scale(0.1); }\\n  100% {\\n    transform: scale(1); } }\\n\", \"\"]);\n\n// exports\n","import {http} from './servicios'\r\nclass Dsl {\r\n    constructor(prom, g_callbacks, g_allways, g_errors, oldTransiciones=[]){\r\n        this._oldTransiciones = oldTransiciones\r\n        this._callbacks = {}\r\n        Object.keys(g_callbacks).forEach(k=>this._callbacks[k]=g_callbacks[key].map(it=>it))\r\n        this._always = [...g_allways]\r\n        this._errors = [...g_errors]\r\n        this._transiciones = {}\r\n        this._prom = prom\r\n        this._prom.then(data=>{\r\n            if (!data.errorData && !data.data.codigoError){\r\n                this._process(data)\r\n            }\r\n            else{\r\n                if (data.data && data.data.codigoError){\r\n                    this._process_error([data.data.resolucion, data.data])\r\n                    return\r\n                }\r\n                this._process_error([data.errorData.operationMessage, data.errorData])\r\n            }\r\n        })\r\n        .catch(this._process_error.bind(this))\r\n    }\r\n    _process(data){\r\n        this._transiciones = data.stateData.availableTransitions\r\n        const id = data.stateData.viewId\r\n        if (this._callbacks[id]){\r\n            this._callbacks[id].forEach(cb=>cb(data.data))\r\n        }\r\n        this._always.forEach(cb=>cb(data.data))\r\n    }\r\n    _process_error(e){\r\n        this._transiciones = this._oldTransiciones\r\n        this._errors.forEach(cb=>cb(e))\r\n        this._always.forEach(cb=>cb(e))\r\n    }\r\n    get trancisionesPermitidas(){\r\n        return {...this._transiciones}\r\n    }\r\n    when(vw, cb){\r\n        if (this._callbacks[vw]){\r\n            this._callbacks[vw].push(cb)\r\n        }\r\n        else{\r\n            this._callbacks[vw] = [cb]\r\n        }\r\n        return this\r\n    }\r\n    always(cb){\r\n        this._always.push(cb)\r\n        return this\r\n    }\r\n    error(cb){\r\n        this._errors.push(cb)\r\n        return this\r\n    }\r\n}\r\nexport default  class Subprocess {\r\n    constructor(url){\r\n        this._callbacks = {}\r\n        this._always = []\r\n        this._errors = []\r\n        this._url = url\r\n        this.abierto = false\r\n    }\r\n    when(vw, cb){\r\n        if (this._dsl){this._dsl.when(vw, cb)}\r\n        if (this._callbacks[vw]){\r\n            this._callbacks[vw].push(cb)\r\n        }\r\n        else{\r\n            this._callbacks[vw] = [cb]\r\n        }\r\n        return this\r\n    }\r\n    always(cb){\r\n        if (this._dsl){this._dsl.always(cb)}\r\n        this._always.push(cb)\r\n        return this\r\n    }\r\n    error(cb){\r\n        if (this._dsl){this._dsl.error(cb)}\r\n        this._errors.push(cb)\r\n        return this\r\n    }\r\n    inicia(modelo){\r\n        this._dsl = new Dsl(http(this._url, modelo), this._callbacks, this._always, this._errors)\r\n        return this._dsl\r\n    }\r\n    sendEvent(event, modelo, silenciarErrores){\r\n        this.abierto = true\r\n        if (!this._dsl){\r\n            this._errors.forEach(e=>e([\"Subproceso no iniciado o terminado!\", {}]))\r\n            throw new Error(\"Subproceso no iniciado o terminado!\")\r\n        }\r\n        if (this._dsl.trancisionesPermitidas[event]){\r\n            this._dsl = new Dsl(\r\n                http(this._dsl.trancisionesPermitidas[event], modelo),\r\n                this._callbacks,\r\n                this._always,\r\n                silenciarErrores? []: this._errors,\r\n                this._dsl.trancisionesPermitidas\r\n            )\r\n            if (event == 'end'){\r\n                this._dsl = undefined\r\n            }\r\n            return this._dsl\r\n        }\r\n        else{\r\n            this._errors.forEach(e=>e([\"transición no permitida!\", {}]))\r\n            throw new Error(\"transición no permitida!\")\r\n        }\r\n    }\r\n    finaliza(){\r\n        this.sendEvent('end',{})\r\n    }\r\n}","module.exports = \"<div id='root'>\\r\\n    <div id='cabecera'><div class='message'>Adjuntar</div><span class='aspa'></span></div>\\r\\n    <div class='error'></div>\\r\\n    <div id='cli'>\\r\\n        <div class='motivo'>\\r\\n            <p>Has seleccionado el documento <b>Declaración de bienes Persona Física </b>para continuar adjuntando es necesario que <b>introduzcas la fecha de la firma.</b></p>\\r\\n            <p class=\\\"desc-bottom\\\">Si quieres cambiar la fecha de la firma una vez adjuntado el documento, tendrás que anular el documento y repetir el proceso de adjuntar.</p>\\r\\n        </div>\\r\\n        <div class='observaciones'>\\r\\n            <p><b>Introduce la fecha de la firma del documento.</b></p>\\r\\n            <span>Fecha de firma:</span>\\r\\n            <bk-wc-ui-date required></bk-wc-ui-date>\\r\\n        </div>\\r\\n        <div class='botonera'>\\r\\n            <div class='aceptar' disabled=''>Aceptar</div>\\r\\n            <div class='cancelar'>Cancelar</div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\";","var escape = require(\"../../../node_modules/css-loader/lib/url/escape.js\");\nexports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"#root {\\n  max-height: 90vh;\\n  width: 35vw;\\n  background-color: #f0f0f0; }\\n\\n#cabecera {\\n  padding: .7em 2em .7em .7em;\\n  border: 1px solid #dbdbdb;\\n  margin-bottom: .7em;\\n  position: relative;\\n  border-bottom: 4px solid #888282; }\\n\\n.error {\\n  padding: .2em;\\n  color: #970302; }\\n\\n#cli {\\n  padding: .7em;\\n  border: 1px solid #dbdbdb;\\n  border-radius: .3em; }\\n\\n.aspa {\\n  position: absolute;\\n  top: 0.5em;\\n  right: 0.7em;\\n  padding: 0.7em 0 0 0.7em;\\n  background-image: url(\" + escape(require(\"../img/cross.svg\")) + \");\\n  background-size: cover;\\n  background-repeat: no-repeat;\\n  background-position: center;\\n  cursor: pointer;\\n  transition: background-color 0.3s ease;\\n  border-radius: .7em; }\\n  .aspa:hover {\\n    background-color: #999;\\n    border: 1px solid #dbdbdb; }\\n\\n.observaciones {\\n  padding: .9em; }\\n\\n.motivo {\\n  padding: .9em; }\\n\\n.botonera {\\n  display: flex;\\n  justify-content: flex-end;\\n  padding: .2em .7em; }\\n  .botonera > div {\\n    margin-left: .7em;\\n    font: inherit;\\n    color: inherit;\\n    outline: none;\\n    padding: .2em .7em .2em 1.3em;\\n    border-radius: 0.1em;\\n    background-image: linear-gradient(#f9f9f9, #f1f1f1);\\n    border: 1px solid #bdbdbd;\\n    box-shadow: #787a74 0px 2px 1px -1px, white 0px 1px 0px 0px inset;\\n    cursor: pointer;\\n    transition: opacity 0.3s ease;\\n    position: relative; }\\n    .botonera > div:not([disabled]):hover {\\n      opacity: .7; }\\n    .botonera > div::before {\\n      content: '';\\n      position: absolute;\\n      top: 0.4em;\\n      left: 0.2em;\\n      padding: .9em 0 0 .9em;\\n      background-size: cover;\\n      background-repeat: no-repeat;\\n      background-position: center; }\\n    .botonera > div.aceptar {\\n      margin-right: .7em;\\n      border-bottom: 2px solid #acb600; }\\n      .botonera > div.aceptar::before {\\n        background-image: url(\" + escape(require(\"../img/agree.svg\")) + \"); }\\n      .botonera > div.aceptar[disabled] {\\n        background-image: linear-gradient(#a9a9a9, #e9e9e9); }\\n      .botonera > div.aceptar.progress::after {\\n        content: '';\\n        position: absolute;\\n        top: 0.4em;\\n        left: 0.2em;\\n        padding: .9em 0 0 .9em;\\n        background-size: cover;\\n        background-repeat: no-repeat;\\n        background-position: center;\\n        background-image: url(\" + escape(require(\"../img/busy.svg\")) + \"); }\\n    .botonera > div.cancelar {\\n      border-bottom: 2px solid #970302; }\\n      .botonera > div.cancelar::before {\\n        background-image: url(\" + escape(require(\"../img/error.svg\")) + \"); }\\n\", \"\"]);\n\n// exports\n","module.exports = \"<div id='root'>\\r\\n    <div id='cabecera'>Se produjo el siguiente error<span class='aspa'></span></div>\\r\\n    <div id='cli'>\\r\\n        <div class='txt'></div>\\r\\n        <div class='detalle'>\\r\\n            <div class='manejador' title='mostrar detalle del error'></div>\\r\\n            <pre class='json oculto'></pre>\\r\\n        </div>\\r\\n        <div class='botonera'>\\r\\n            <div class='aceptar'>Aceptar</div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\";","var escape = require(\"../../../node_modules/css-loader/lib/url/escape.js\");\nexports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"#root {\\n  max-height: 50vh;\\n  max-width: 60vw; }\\n\\n#cabecera {\\n  padding: .7em 2em .7em .7em;\\n  border: 1px solid #dbdbdb;\\n  border-bottom: 4px solid #6b1414;\\n  margin-bottom: .7em;\\n  position: relative; }\\n\\n#cli {\\n  padding: .7em;\\n  border: 1px solid #dbdbdb;\\n  border-radius: .3em; }\\n\\n.aspa {\\n  position: absolute;\\n  top: 0.5em;\\n  right: 0.7em;\\n  padding: 0.7em 0 0 0.7em;\\n  background-image: url(\" + escape(require(\"../img/cross.svg\")) + \");\\n  background-size: cover;\\n  background-repeat: no-repeat;\\n  background-position: center;\\n  cursor: pointer;\\n  transition: background-color 0.3s ease;\\n  border-radius: .7em; }\\n  .aspa:hover {\\n    background-color: #999;\\n    border: 1px solid #dbdbdb; }\\n\\n.txt {\\n  word-break: break-word; }\\n\\n.detalle {\\n  padding-top: .9em;\\n  position: relative; }\\n\\n.manejador {\\n  position: absolute;\\n  top: 0.4em;\\n  right: 0.7em;\\n  height: 0.9em;\\n  width: 0.9em;\\n  background-image: url(\" + escape(require(\"../img/help.svg\")) + \");\\n  background-size: cover;\\n  background-repeat: no-repeat;\\n  background-position: center;\\n  cursor: pointer;\\n  transition: background-color 0.3s ease;\\n  border-radius: .9em; }\\n  .manejador:hover {\\n    background-color: #777; }\\n\\n.json {\\n  overflow: auto;\\n  padding: .3em;\\n  background-color: #f0f0f0; }\\n  .json.oculto {\\n    padding: 0;\\n    height: 0;\\n    overflow: hidden; }\\n\\n.botonera {\\n  display: flex;\\n  justify-content: flex-end;\\n  padding: .2em .7em; }\\n  .botonera .aceptar {\\n    font: inherit;\\n    color: inherit;\\n    outline: none;\\n    padding: .2em .7em;\\n    border-radius: 0.1em;\\n    background-image: linear-gradient(#f9f9f9, #f1f1f1);\\n    border: 1px solid #bdbdbd;\\n    box-shadow: #787a74 0px 2px 1px -1px, white 0px 1px 0px 0px inset;\\n    cursor: pointer;\\n    transition: opacity 0.3s ease;\\n    position: relative; }\\n    .botonera .aceptar:hover {\\n      opacity: .7; }\\n\", \"\"]);\n\n// exports\n","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"p {\\n  padding: .7em;\\n  background-color: #f4f4f4;\\n  max-width: 40vw;\\n  border: 1px solid #dbdbdb;\\n  border-radius: 3px;\\n  box-shadow: 3px 3px 3px #999; }\\n\", \"\"]);\n\n// exports\n","module.exports = \"<li>\\r\\n    <p></p>\\r\\n</li>\";","module.exports = \"<li>\\r\\n    <p></p>\\r\\n    <input type='file'/>\\r\\n</li>\";","var escape = require(\"../../../node_modules/css-loader/lib/url/escape.js\");\nexports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"ul {\\n  background-color: #f4f4f4;\\n  list-style-type: none;\\n  padding: .1em 0;\\n  margin: 0;\\n  border: 2px solid #dbdbdb;\\n  border-radius: 3px;\\n  box-shadow: 0px 3px 0px #aaa; }\\n\\nli {\\n  color: #018ec0;\\n  cursor: pointer;\\n  transition: background-color, color .3s ease-in-out;\\n  position: relative;\\n  overflow: hidden; }\\n  li p {\\n    padding: .5em 6em .5em 1.2em;\\n    text-decoration: underline;\\n    margin: 0; }\\n  li input {\\n    position: absolute;\\n    top: 0;\\n    left: -160%;\\n    width: 300%;\\n    height: 110%;\\n    opacity: 0;\\n    cursor: pointer; }\\n\\nli:hover {\\n  background-color: #e5e5e5;\\n  color: #666; }\\n\\n.menu {\\n  width: 1.5em;\\n  height: 1.5em;\\n  background-image: url(\" + escape(require(\"../img/contextual-menu.svg\")) + \");\\n  background-color: #f4f4f4;\\n  background-repeat: no-repeat;\\n  background-position: center;\\n  border: 2px solid #dbdbdb;\\n  border-radius: 2px;\\n  cursor: pointer;\\n  /*box-shadow: 2px 0px 0px #aaa;*/ }\\n\\n#client.derecha ul li {\\n  padding: .5em 1.2em .5em 1.2; }\\n\", \"\"]);\n\n// exports\n","module.exports = \"<div id='root'>\\r\\n    <div id='cabecera'><div class='message'></div><span class='aspa'></span></div>\\r\\n    <div class='error'></div>\\r\\n    <div id='cli'>\\r\\n        <div class='motivo'>\\r\\n            <div>Motivo por el que se exceptua:</div>\\r\\n            <select></select>\\r\\n        </div>\\r\\n        <div class='observaciones'>\\r\\n            <div>Observaciones:</div>\\r\\n            <textarea></textarea>\\r\\n        </div>\\r\\n        <div class='botonera'>\\r\\n            <div class='modificar'>Modificar</div>\\r\\n            <div class='cancelar'>Cancelar</div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\";","var escape = require(\"../../../node_modules/css-loader/lib/url/escape.js\");\nexports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"#root {\\n  max-height: 90vh;\\n  width: 35vw;\\n  background-color: #f0f0f0; }\\n\\n#cabecera {\\n  padding: .7em 2em .7em .7em;\\n  border: 1px solid #dbdbdb;\\n  margin-bottom: .7em;\\n  position: relative;\\n  border-bottom: 4px solid #888282; }\\n\\n#cli {\\n  padding: .7em;\\n  border: 1px solid #dbdbdb;\\n  border-radius: .3em; }\\n\\n.aspa {\\n  position: absolute;\\n  top: 0.5em;\\n  right: 0.7em;\\n  padding: 0.7em 0 0 0.7em;\\n  background-image: url(\" + escape(require(\"../img/cross.svg\")) + \");\\n  background-size: cover;\\n  background-repeat: no-repeat;\\n  background-position: center;\\n  cursor: pointer;\\n  transition: background-color 0.3s ease;\\n  border-radius: .7em; }\\n  .aspa:hover {\\n    background-color: #999;\\n    border: 1px solid #dbdbdb; }\\n\\n.error {\\n  padding: .2em;\\n  color: #970302; }\\n\\n.observaciones {\\n  padding: .9em; }\\n  .observaciones textarea {\\n    margin-top: .2em;\\n    font: inherit;\\n    color: inherit;\\n    outline: none;\\n    resize: none;\\n    width: 100%;\\n    height: 10em;\\n    overflow: auto;\\n    border-radius: 3px; }\\n\\n.motivo {\\n  padding: .9em; }\\n  .motivo select {\\n    margin-top: .2em;\\n    padding: .2em;\\n    font: inherit;\\n    color: inherit;\\n    outline: none;\\n    width: 100%;\\n    border-radius: 3px; }\\n    .motivo select.req {\\n      background-color: #fdf9c1; }\\n\\n.botonera {\\n  display: flex;\\n  justify-content: flex-end;\\n  padding: .2em .7em; }\\n  .botonera > div {\\n    margin-left: .7em;\\n    font: inherit;\\n    color: inherit;\\n    outline: none;\\n    padding: .2em .7em .2em 1.3em;\\n    border-radius: 0.1em;\\n    background-image: linear-gradient(#f9f9f9, #f1f1f1);\\n    border: 1px solid #bdbdbd;\\n    box-shadow: #787a74 0px 2px 1px -1px, white 0px 1px 0px 0px inset;\\n    cursor: pointer;\\n    transition: opacity 0.3s ease;\\n    position: relative; }\\n    .botonera > div:not([disabled]):hover {\\n      opacity: .7; }\\n    .botonera > div::before {\\n      content: '';\\n      position: absolute;\\n      top: 0.4em;\\n      left: 0.2em;\\n      padding: .9em 0 0 .9em;\\n      background-size: cover;\\n      background-repeat: no-repeat;\\n      background-position: center; }\\n    .botonera > div.modificar {\\n      margin-right: .7em;\\n      border-bottom: 2px solid #acb600; }\\n      .botonera > div.modificar::before {\\n        background-image: url(\" + escape(require(\"../img/agree.svg\")) + \"); }\\n      .botonera > div.modificar[disabled] {\\n        background-image: linear-gradient(#a9a9a9, #e9e9e9); }\\n    .botonera > div.cancelar {\\n      border-bottom: 2px solid #970302; }\\n      .botonera > div.cancelar::before {\\n        background-image: url(\" + escape(require(\"../img/error.svg\")) + \"); }\\n\", \"\"]);\n\n// exports\n","module.exports = \"<div id='root'>\\r\\n    <div id='cabecera'><div class='message'></div><span class='aspa'></span></div>\\r\\n    <div id='cli'>\\r\\n        <div class='txt'></div>\\r\\n        <div class='detail'>\\r\\n        </div>\\r\\n        <div class='botonera'>\\r\\n            <div class='aceptar'>Aceptar</div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\";","var escape = require(\"../../../node_modules/css-loader/lib/url/escape.js\");\nexports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"#root {\\n  max-height: 50vh;\\n  max-width: 30vw; }\\n\\n#cabecera {\\n  padding: .7em 2em .7em 2em;\\n  border: 1px solid #dbdbdb;\\n  margin-bottom: .7em;\\n  position: relative;\\n  background-repeat: no-repeat;\\n  background-size: 1.4em;\\n  background-position: .2em center; }\\n  #cabecera.info {\\n    border-bottom: 4px solid #5426ca;\\n    background-image: url(\" + escape(require(\"../img/info.svg\")) + \");\\n    /*background-color: #5426ca;\\r\\n        -webkit-mask-image:  url('../img/info.svg');\\r\\n        -webkit-mask-repeat: no-repeat;\\r\\n        -webkit-mask-size: 1.4em;\\r\\n        -webkit-mask-position: .2em center;\\r\\n        mask-image:  url('../img/info.svg');\\r\\n        mask-repeat: no-repeat;\\r\\n        mask-size: 1.4em;\\r\\n        mask-position: .2em center;*/ }\\n  #cabecera.alert {\\n    border-bottom: 4px solid #f0bb34;\\n    background-image: url(\" + escape(require(\"../img/warning.svg\")) + \"); }\\n  #cabecera.error {\\n    border-bottom: 4px solid #6b1414;\\n    background-image: url(\" + escape(require(\"../img/error.svg\")) + \"); }\\n\\n#cli {\\n  padding: .7em;\\n  border: 1px solid #dbdbdb;\\n  border-radius: .3em; }\\n\\n.aspa {\\n  position: absolute;\\n  top: 0.5em;\\n  right: 0.7em;\\n  padding: 0.7em 0 0 0.7em;\\n  background-image: url(\" + escape(require(\"../img/cross.svg\")) + \");\\n  background-size: cover;\\n  background-repeat: no-repeat;\\n  background-position: center;\\n  cursor: pointer;\\n  transition: background-color 0.3s ease;\\n  border-radius: .7em; }\\n  .aspa:hover {\\n    background-color: #999;\\n    border: 1px solid #dbdbdb; }\\n\\n.detail {\\n  word-break: break-word;\\n  padding: .9em; }\\n\\n.botonera {\\n  display: flex;\\n  justify-content: flex-end;\\n  padding: .2em .7em; }\\n  .botonera .aceptar {\\n    font: inherit;\\n    color: inherit;\\n    outline: none;\\n    padding: .2em .7em;\\n    border-radius: 0.1em;\\n    background-image: linear-gradient(#f9f9f9, #f1f1f1);\\n    border: 1px solid #bdbdbd;\\n    box-shadow: #787a74 0px 2px 1px -1px, white 0px 1px 0px 0px inset;\\n    cursor: pointer;\\n    transition: opacity 0.3s ease;\\n    position: relative; }\\n    .botonera .aceptar:hover {\\n      opacity: .7; }\\n\", \"\"]);\n\n// exports\n","module.exports = \"<div class='cuerpo'><div class='manejador collapsed'></div><div class='txt'></div></div>\\r\\n<div class='children collapsed'></div>\";","module.exports = \"<div class='cuerpo'>\\r\\n        <div class='manejador collapsed'></div>\\r\\n        <div class='doc'>\\r\\n            <div class='documento'></div>\\r\\n            <div class='help'></div>\\r\\n            <div class='obl'>\\r\\n                <div class='obli'></div>\\r\\n                <div class='firma'></div>\\r\\n            </div>\\r\\n            <div class='archivo'></div>\\r\\n            <div class='incorporado'></div>\\r\\n            <div class='estado'></div>\\r\\n            <div class='acciones'>\\r\\n                <div class='ancla'>\\r\\n                    <div class='cap'></div>\\r\\n                </div>\\r\\n                <div class='menu'></div>\\r\\n            </div>\\r\\n        </div>\\r\\n</div>\\r\\n<div class='children collapsed'></div>\";","module.exports = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48cGF0aCBmaWxsPSIjYmVkNzAwIiBkPSJNNTA0IDM3bC0yMi0yM2MtMTUtMTQtMzctMTQtNTIgMEwxNjYgMjk2IDkwIDE1NGMtMTItMTgtMzQtMjYtNDgtMTVsLTI2IDE1QzIgMTY4LTIgMTkwIDUgMjA4bDk5IDE4N2MwIDMgMyAxMSA4IDE1bDggMTRjOCAxMSAxNCAxNCAyNiAxOCAxMSA4IDI4IDMgMzYtOGwxOC0yM0w1MDEgOTNjMTctMTYgMTctNDIgMy01NnoiLz48L3N2Zz4=\"","module.exports = \"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiCnZpZXdCb3g9IjAgMCA0MCA0MCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgNDAgNDAiIHhtbDpzcGFjZT0icHJlc2VydmUiPgogIDxwYXRoIG9wYWNpdHk9IjAuMiIgZmlsbD0iIzAwMCIgZD0iTTIwLjIwMSw1LjE2OWMtOC4yNTQsMC0xNC45NDYsNi42OTItMTQuOTQ2LDE0Ljk0NmMwLDguMjU1LDYuNjkyLDE0Ljk0NiwxNC45NDYsMTQuOTQ2CiAgICBzMTQuOTQ2LTYuNjkxLDE0Ljk0Ni0xNC45NDZDMzUuMTQ2LDExLjg2MSwyOC40NTUsNS4xNjksMjAuMjAxLDUuMTY5eiBNMjAuMjAxLDMxLjc0OWMtNi40MjUsMC0xMS42MzQtNS4yMDgtMTEuNjM0LTExLjYzNAogICAgYzAtNi40MjUsNS4yMDktMTEuNjM0LDExLjYzNC0xMS42MzRjNi40MjUsMCwxMS42MzMsNS4yMDksMTEuNjMzLDExLjYzNEMzMS44MzQsMjYuNTQxLDI2LjYyNiwzMS43NDksMjAuMjAxLDMxLjc0OXoiLz4KICA8cGF0aCBmaWxsPSIjMDAwIiBkPSJNMjYuMDEzLDEwLjA0N2wxLjY1NC0yLjg2NmMtMi4xOTgtMS4yNzItNC43NDMtMi4wMTItNy40NjYtMi4wMTJoMHYzLjMxMmgwCiAgICBDMjIuMzIsOC40ODEsMjQuMzAxLDkuMDU3LDI2LjAxMywxMC4wNDd6Ij4KICAgIDxhbmltYXRlVHJhbnNmb3JtIGF0dHJpYnV0ZVR5cGU9InhtbCIKICAgICAgYXR0cmlidXRlTmFtZT0idHJhbnNmb3JtIgogICAgICB0eXBlPSJyb3RhdGUiCiAgICAgIGZyb209IjAgMjAgMjAiCiAgICAgIHRvPSIzNjAgMjAgMjAiCiAgICAgIGR1cj0iMC41cyIKICAgICAgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiLz4KICAgIDwvcGF0aD4KICA8L3N2Zz4KCg==\"","module.exports = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48cGF0aCBmaWxsPSIjNWM1MjU1IiBkPSJNMjI2IDMzNmgyODZ2LTMwSDIyNnptMC02MGgyODZ2LTMwSDIyNnptMC02MGgyODZ2LTMxSDIyNnptMC05MXYzMGgyODZ2LTMwek05MCAyMzFsOTEtMTA2SDB6Ii8+PC9zdmc+\"","module.exports = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE5LjEuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSIyNHB4IgoJIGhlaWdodD0iMjRweCIgdmlld0JveD0iMCAwIDI0IDI0IiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAyNCAyNCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxnIGlkPSJCb3VuZGluZ19Cb3hlcyI+Cgk8ZyBpZD0idWlfeDVGX3NwZWNfeDVGX2hlYWRlcl9jb3B5XzMiIGRpc3BsYXk9Im5vbmUiPgoJPC9nPgoJPHBhdGggZmlsbD0ibm9uZSIgZD0iTTAsMGgyNHYyNEgwVjB6Ii8+CjwvZz4KPGcgaWQ9IlJvdW5kZWRfMV8iPgoJPGcgaWQ9InVpX3g1Rl9zcGVjX3g1Rl9oZWFkZXJfY29weV82IiBkaXNwbGF5PSJub25lIj4KCTwvZz4KCTxwYXRoIGQ9Ik0xOC4zLDUuNzFMMTguMyw1LjcxYy0wLjM5LTAuMzktMS4wMi0wLjM5LTEuNDEsMEwxMiwxMC41OUw3LjExLDUuN2MtMC4zOS0wLjM5LTEuMDItMC4zOS0xLjQxLDBsMCwwCgkJYy0wLjM5LDAuMzktMC4zOSwxLjAyLDAsMS40MUwxMC41OSwxMkw1LjcsMTYuODljLTAuMzksMC4zOS0wLjM5LDEuMDIsMCwxLjQxaDBjMC4zOSwwLjM5LDEuMDIsMC4zOSwxLjQxLDBMMTIsMTMuNDFsNC44OSw0Ljg5CgkJYzAuMzksMC4zOSwxLjAyLDAuMzksMS40MSwwbDAsMGMwLjM5LTAuMzksMC4zOS0xLjAyLDAtMS40MUwxMy40MSwxMmw0Ljg5LTQuODlDMTguNjgsNi43MywxOC42OCw2LjA5LDE4LjMsNS43MXoiLz4KPC9nPgo8L3N2Zz4K\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAIAAABLixI0AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAEKSURBVEhLY3j+9Cm1EFXNWjyzp7+xEBMBxdGUEkQMQG1oQhCESxwPwmkWGQhhFuWeRZgFZ6AhXOKYiLBZxCMsZpHtWSxmwRloCJc4HJFj1sYdAQ/uX4KLwxEJZsHRlIXMs5eLnzk/G02cSLOeXLm6Yc/BgrVb3ZeuNwSaBUEbdvgjOxCah4AsXGbduLlvyXoDuH40hOxARN7GatatWwdmLhVE04+MgGadPj8LopiAWeu2ec1aJrp9b9KJMxMuXFx68dLyU+emww3asN3vwf2LcMUIszA9C0S7DmQ/eXwXzoUgNOfAEZbyC9ksZAQXR3MOHJFjFi6ExSyceWgGoTyExqcEjZpFCnr6FADg2/4RO3JaIQAAAABJRU5ErkJggg==\"","module.exports = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgLTMyIDUxMiA1MTIiPjxwYXRoIGZpbGw9IiM2YjE0MTQiIGQ9Ik0zNzQgMjIybDEyOCAxMjhjMTMgMTUgMTIgMjkgMCA0MGwtNzggNzljLTggOC0yNyA5LTQwIDBMMjU2IDM0MSAxMjggNDY5Yy0xMyAxNC0yOSAxMy00MCAwbC03OC03OWMtOC04LTEwLTI3IDAtNDBsMTI4LTEyOEwxMCA5NGMtMTMtMTEtOC0zMiAwLTQwbDc4LTc4YzgtOCAyNC0xMyAzOCAwbDEyOCAxMjhMMzgyLTI0YzEyLTEzIDMyLTggNDAgMGw3OSA3OGM4IDggMTMgMjQgMCA0MHoiLz48L3N2Zz4=\"","module.exports = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgLTMyIDUxMiA1MTIiPjxwYXRoIGZpbGw9IiNiMjM3MzciIGQ9Ik0xMDUgMjh2MzBoMTIxVjI4em0xODEgNjBIMTA1djMxaDE4MXptLTMwIDYxSDEwNXYzMGgxNTF6bS0xNTEgOTBoOTF2LTMwaC05MXpNNzUgMzYwaDMwdi0zMUg3NXpNMjU2LTJ2NjBoNjB2NjFoMzBWNThjMCAzLTkwLTkwLTkwLTkwSDQ1djM2MWgzMFYtMnptNDUgMTUxTDEzNiAzMTRsMTY1IDE2NiAxNjYtMTY2em0xNSAyNDFoLTMwdi0zMGgzMHptLTMwLTYxdi05MGgzMHY5MHoiLz48L3N2Zz4=\"","module.exports = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgLTMyIDUxMiA1MTIiPjxwYXRoIGZpbGw9JyM1NTU1NTUnIGQ9Ik00NzUgMzAwTDI1NiA0ODAgMzcgMzAwVjE3MWwyMTkgMTgwIDIxOS0xODB6bTAtMjAzTDI1NiAyNzcgMzcgOTdWLTMybDIxOSAxODBMNDc1LTMyeiIvPjwvc3ZnPg==\"","module.exports = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgLTMyIDUxMiA1MTIiPjxwYXRoIGZpbGw9IiNiZWQ3MDAiIGQ9Ik0yNTYtMzJDMTE1LTMyIDAgODMgMCAyMjRzMTE1IDI1NiAyNTYgMjU2IDI1Ni0xMTUgMjU2LTI1NlMzOTctMzIgMjU2LTMyem0yOSAzODJjMCA3LTIgMTMtMyAxOC0yIDUtNSA4LTggMTEtNCAzLTggNS0xMyA3LTUgMS0xMCAxLTE1IDFoLTFjLTUgMC0xMCAwLTE1LTEtNC0yLTktNC0xMi03LTQtMy03LTYtOC0xMS0yLTUtNC0xMC00LTE4di0zYzAtMTQgNC0yNCAxMi0yOSA4LTQgMTYtOCAyNy04aDFjNSAwIDEwIDAgMTUgMnM5IDMgMTMgNmMzIDQgNiA3IDggMTIgMSA0IDMgMTEgMyAxN3ptNzItMTkyYzAgMTgtMyAzMS0xMCA0NC02IDExLTE2IDIwLTMyIDMwbC0xMyA4Yy0xMSA2LTE5IDEzLTI0IDE4LTQgNC02IDExLTYgMjB2N2MwIDUtMyA4LTExIDhoLTM3Yy02IDAtMTEtMy0xMS0xMHYtMTFjMC0xMCAwLTE2IDEtMjIgMC03IDItMTIgNS0xNiAyLTUgNy04IDEwLTEzIDUtMyA5LTggMTctMTNsMTItNmM5LTcgMTctMTIgMjAtMTYgNC01IDUtMTIgNS0xOHYtMmMwLTE2LTktMjUtMzAtMjVoLTJjLTggMC0xNyAxLTI3IDMtMTAgMy0xOSA1LTI5IDgtMyAyLTYgMi05IDAtMi0yLTUtMy03LThsLTgtMjdjMC0yLTEtMy0xLTV2LTVjMC01IDMtOSA5LTExIDUtMiAxMC01IDE2LTYgNy0yIDEzLTQgMjEtNSA2LTIgMTQtMyAyMS0zIDgtMiAxNC0yIDIxLTJoM2MzMCAwIDUzIDYgNjkgMThzMjQgMzAgMjQgNTR6Ii8+PC9zdmc+\"","module.exports = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgLTMyIDUxMiA1MTIiPjxwYXRoIGZpbGw9IiNlNTc5MGUiIGQ9Ik0yNTYgMTY2cy0xMjgtMTctMTI4IDEwM2MwIDEzNCAxMjggMTE3IDEyOCAxMTctMyAwIDEwMiAxNCAxMjUtNjMgMTctNTQgMjktNzMgNjItNjIgMjMgOCA0MCAxMSAzNCA2Mi0xMSA1MS02OSAxNTQtMjE5IDE1N0M1OCA0ODAgMzggMzA2IDM4IDI2OVMzOCA3NSAyNTggNzVjMyAwIDAtNjUgMC05NCAwLTE1IDExLTE4IDMzIDAgMzQgMzMgMTI1IDEyNSAxMjUgMTI1czExIDE0IDAgMzNjLTE4IDIzLTEyNSAxNTQtMTI1IDE1NHMtMzMgMC0zMy0zNGMwLTMzLTItOTMtMi05M3oiLz48L3N2Zz4=\"","module.exports = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgLTMyIDUxMiA1MTIiPjxwYXRoIGZpbGw9IiNmZmZmZmYiIGQ9Ik0yNTYgMTY2cy0xMjgtMTctMTI4IDEwM2MwIDEzNCAxMjggMTE3IDEyOCAxMTctMyAwIDEwMiAxNCAxMjUtNjMgMTctNTQgMjktNzMgNjItNjIgMjMgOCA0MCAxMSAzNCA2Mi0xMSA1MS02OSAxNTQtMjE5IDE1N0M1OCA0ODAgMzggMzA2IDM4IDI2OVMzOCA3NSAyNTggNzVjMyAwIDAtNjUgMC05NCAwLTE1IDExLTE4IDMzIDAgMzQgMzMgMTI1IDEyNSAxMjUgMTI1czExIDE0IDAgMzNjLTE4IDIzLTEyNSAxNTQtMTI1IDE1NHMtMzMgMC0zMy0zNGMwLTMzLTItOTMtMi05M3oiLz48L3N2Zz4=\"","module.exports = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgLTMyIDUxMiA1MTIiPjxwYXRoIGZpbGw9IiM1NDI2Y2EiIGQ9Ik0yNTYtMzJDMTE1LTMyIDAgODMgMCAyMjRzMTE1IDI1NiAyNTYgMjU2IDI1Ni0xMTUgMjU2LTI1NlMzOTctMzIgMjU2LTMyem0tNjQgNDI3Yy0yMSAwLTM1LTktMzUtMzAgMC0yNyAxOS03NCAyMi04M2w0MC0xMDBjMy05LTEtMTYtNi0xNi0yMSAwLTQ4IDUwLTU4IDUwLTMgMC04LTMtOC04IDAtMTAgMjYtMzQgMzItNDIgMjMtMjAgNTEtMzggODUtMzggMjQgMCA1MCAxNCAzMCA2OWwtMzggMTEyYy0zIDgtMTAgMjItMTAgMzIgMCAzIDIgOCA3IDggMTcgMCA0OC00OCA1Ni00OCAzIDAgNiAzIDYgOCAwIDE2LTY1IDg2LTEyMyA4NnptOTgtMjg2Yy0yMyAwLTM5LTE2LTM5LTM5IDAtMjUgMjEtNDQgNDctNDQgMjIgMCAzOCAxNCAzOCAzOCAwIDI2LTIxIDQ1LTQ2IDQ1eiIvPjwvc3ZnPg==\"","module.exports = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE5LjEuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSIyNHB4IgoJIGhlaWdodD0iMjRweCIgdmlld0JveD0iMCAwIDI0IDI0IiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAyNCAyNCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxnIGlkPSJCb3VuZGluZ19Cb3hlcyI+Cgk8ZyBpZD0idWlfeDVGX3NwZWNfeDVGX2hlYWRlcl9jb3B5XzMiIGRpc3BsYXk9Im5vbmUiPgoJPC9nPgoJPHBhdGggZmlsbD0ibm9uZSIgZD0iTTAsMGgyNHYyNEgwVjB6Ii8+CjwvZz4KPGcgaWQ9IlJvdW5kZWRfMV8iPgoJPGcgaWQ9InVpX3g1Rl9zcGVjX3g1Rl9oZWFkZXJfY29weV82IiBkaXNwbGF5PSJub25lIj4KCTwvZz4KCTxwYXRoIGQ9Ik0xOCwxM0g2Yy0wLjU1LDAtMS0wLjQ1LTEtMXYwYzAtMC41NSwwLjQ1LTEsMS0xaDEyYzAuNTUsMCwxLDAuNDUsMSwxdjBDMTksMTIuNTUsMTguNTUsMTMsMTgsMTN6Ii8+CjwvZz4KPC9zdmc+Cg==\"","module.exports = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgLTMyIDUxMiA1MTIiPjxwYXRoIGZpbGw9IiNjYWNhYzciIGQ9Ik0yNTYgMTY2cy0xMjgtMTctMTI4IDEwM2MwIDEzNCAxMjggMTE3IDEyOCAxMTctMyAwIDEwMiAxNCAxMjUtNjMgMTctNTQgMjktNzMgNjItNjIgMjMgOCA0MCAxMSAzNCA2Mi0xMSA1MS02OSAxNTQtMjE5IDE1N0M1OCA0ODAgMzggMzA2IDM4IDI2OVMzOCA3NSAyNTggNzVjMyAwIDAtNjUgMC05NCAwLTE1IDExLTE4IDMzIDAgMzQgMzMgMTI1IDEyNSAxMjUgMTI1czExIDE0IDAgMzNjLTE4IDIzLTEyNSAxNTQtMTI1IDE1NHMtMzMgMC0zMy0zNGMwLTMzLTItOTMtMi05M3oiLz48L3N2Zz4=\"","module.exports = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE5LjEuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSIyNHB4IgoJIGhlaWdodD0iMjRweCIgdmlld0JveD0iMCAwIDI0IDI0IiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAyNCAyNCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxnIGlkPSJCb3VuZGluZ19Cb3hlcyI+Cgk8ZyBpZD0idWlfeDVGX3NwZWNfeDVGX2hlYWRlcl9jb3B5XzMiIGRpc3BsYXk9Im5vbmUiPgoJPC9nPgoJPHBhdGggZmlsbD0ibm9uZSIgZD0iTTAsMGgyNHYyNEgwVjB6Ii8+CjwvZz4KPGcgaWQ9IlJvdW5kZWRfMV8iPgoJPGcgaWQ9InVpX3g1Rl9zcGVjX3g1Rl9oZWFkZXJfY29weV82IiBkaXNwbGF5PSJub25lIj4KCTwvZz4KCTxwYXRoIGQ9Ik0xOCwxM2gtNXY1YzAsMC41NS0wLjQ1LDEtMSwxaDBjLTAuNTUsMC0xLTAuNDUtMS0xdi01SDZjLTAuNTUsMC0xLTAuNDUtMS0xdjBjMC0wLjU1LDAuNDUtMSwxLTFoNVY2YzAtMC41NSwwLjQ1LTEsMS0xaDAKCQljMC41NSwwLDEsMC40NSwxLDF2NWg1YzAuNTUsMCwxLDAuNDUsMSwxdjBDMTksMTIuNTUsMTguNTUsMTMsMTgsMTN6Ii8+CjwvZz4KPC9zdmc+Cg==\"","module.exports = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48cGF0aCBmaWxsPSIjMDA4MGZmIiBkPSJNMzQ2IDM5N2wtNC0zYy02LTQtNDgtMjMtNjItNTUtNi04LTYtMjItOC0zNyAwLTgtMy0xOS02LTI1LTQgMy03IDYtOCAxMS0xNSAxOC0xOCA0MC0yNiA1NC0xMSAxOC0xNCAzMi0yOSAyOS0xNC0zLTE5LTI5LTE5LTYyIDMtNDMtNi03Ny0xNC05MSAwIDMtNCA2LTcgMTEtMjIgNjktNDggMTEzLTQ4IDExM2wtMzIgODQgMy05MmM0LTM2IDgtNzMgMC0xMDgtMTkgNjItNDAgMTI4LTYyIDEyNC04IDAtMTgtMjItMjItNDBsMTcgMTVjMTUtMTEgNDgtMTE0IDY5LTE5MSAzLTYgNi0yMiAxOS0xOSAxNSAzIDE1IDI5IDggMTY4IDctMTEgMTUtNTEgMTktNjUgOC0yNiAyMC0zNyAzNy0zNCAzMiA2IDMyIDg4IDI5IDEyOCA2LTggMjItMzIgMzItNDMgMTEtMTUgMjYtMjkgNDAtMjMgMTggNyAyMiAyOSAyNiA1NSAzIDExIDMgMjIgNiAzMiA4IDE3IDMyIDMyIDQ1IDQwbDE2MC0yOSA2IDI5eiIvPjwvc3ZnPg==\"","module.exports = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgLTMyIDUxMiA1MTIiPjxwYXRoIGQ9Ik0xNDQgMzg0aDk2VjE2MGgtOTZ6bTMyLTE5MmgzMnYxNjBoLTMyem05NiA2NGg5NnYtOTZoLTk2em0zMi02NGgzMnYzMmgtMzJ6bS0zMiAxOTJoOTZ2LTk2aC05NnptMzItNjRoMzJ2MzJoLTMyem0zMi0zNTJIODBDNjEtMzIgNDgtMTkgNDggMHY0NDhjMCAxOSAxMyAzMiAzMiAzMmgzNTJjMTkgMCAzMi0xMyAzMi0zMlY5NnptOTYgNDgwSDgwVjBoMjI0djEyOGgxMjh6Ii8+PC9zdmc+\"","module.exports = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgLTMyIDUxMiA1MTIiPjxwYXRoIGZpbGw9IiNmMGJiMzQiIGQ9Ik00ODggMzgwQzQ3NyAzNjAgMjk3IDU3IDI4NyA0MGMtMTYtMjYtNDYtMjctNjIgMEMyMTEgNjQgMzIgMzY2IDI0IDM4MGMtMTQgMjYtMTMgNDYgMzEgNDYgMTMgMCAzODEgMiA0MDAgMiA0NiAwIDQ4LTIwIDMzLTQ4em0tMjEwIDdjLTcgNi0xNCA5LTIyIDlzLTE1LTMtMjItOWMtNi01LTktMTMtOS0yMyAwLTggMy0xNSA5LTIyIDYtNiAxMy05IDIyLTkgOCAwIDE2IDMgMjIgOSA2IDcgOSAxNCA5IDIyIDAgMTAtMyAxOC05IDIzem0tNy0xMTZjLTExIDM3LTIzIDM1LTM0LTEtMTEtMzUtMTYtMTEzLTEyLTEzNyA1LTI2IDUzLTM4IDYyIDAgNiAyOC01IDEwMC0xNiAxMzh6Ii8+PC9zdmc+\"","/*const urlRewrite = (url, get) =>{\r\n    const p = window.location.pathname.split(',')[1]||\"\"\r\n    const [path, query] = url.split('?')\r\n    const v = path.substring(path.lastIndexOf('/')+1)\r\n    let dana = ',' + p + ',SSL,' + (get?'':'dom=1,') + 'CT=sxml+' + v\r\n    const path2 = path.substring(0, path.lastIndexOf('/')+1)\r\n    return path2 + dana + (query?\"?\"+query:\"\")\r\n}*/\r\n/*const urlRewrite = url=>{\r\n    if (typeof(DanaUrl) === 'function'){//Juniper\r\n        url = DanaUrl(url)\r\n    }\r\n    return url\r\n}*/\r\nconst Danaopen = (x, method, url)=>{\r\n    if (typeof(window.DanaMethodOpen) === 'function'){//Juniper\r\n        window.DanaMethodOpen(\"open\", x, method, url, true)\r\n        return\r\n    }\r\n    x.open(method,url, true)\r\n}\r\nconst DanaSetRequestHeader = (x, k, v)=>{\r\n    if (typeof(window.DanaMethodSetRequestHeader) === 'function'){//Juniper\r\n        window.DanaMethodSetRequestHeader(\"setRequestHeader\", x, k, v)\r\n        return\r\n    }\r\n    x.setRequestHeader(k, v)\r\n}\r\nconst fetch2 = (url, options={})=>{\r\n    options.method = options.method || 'GET'\r\n    options.body = options.body || null\r\n    options.headers = options.headers || new Headers()\r\n    const req = new XMLHttpRequest()\r\n    return new Promise((resolve, reject)=>{\r\n        Danaopen(req, options.method, url)\r\n        //req.open(options.method, url, true)\r\n        for ( const [k, v] of options.headers.entries()){\r\n            DanaSetRequestHeader(req, k, v)\r\n            //req.setRequestHeader(k, v)\r\n        }\r\n        req.onload = function(){\r\n            resolve([this.response, this.getResponseHeader('content-type'),this.status])\r\n        }\r\n        req.onerror = function(e){\r\n            reject(e)\r\n        }\r\n        req.send(options.body)\r\n    })\r\n    \r\n}\r\nlet config = {\r\n    appCode: 'e3',\r\n    appDomine: 'NS',\r\n    tabit: '/tabit/?queryType='\r\n}\r\nconst setAppNEO = ()=>{\r\n    config = {\r\n        appCode: 'e2',\r\n        appDomine: 'NS',\r\n        tabit: '/tabit/'\r\n    }\r\n}\r\nconst toQueryString= o =>{\r\n    const str = []\r\n    Object.entries(o).forEach(([k, v])=>str.push(encodeURIComponent(k) + '=' + encodeURI(v.toString())))\r\n    return str.join('&')\r\n}\r\nconst cacheTabit = {}\r\nconst getTabit = (tab, params={}) => {\r\n    if (cacheTabit[tab]){\r\n        return Promise.resolve(cacheTabit[tab])\r\n    }\r\n    let url = config.tabit + tab\r\n    let peticion\r\n    if (url.indexOf('?')>0){//get\r\n        const query = toQueryString(params)\r\n        url = url + (query? '&' + query: '')\r\n        peticion = http(url)\r\n    }\r\n    else{\r\n        peticion = http(url, params)\r\n    }\r\n    return new Promise((resolve, reject)=>{\r\n        peticion.then(r=>{\r\n            cacheTabit[tab] = r\r\n            resolve(r)\r\n        })\r\n        .catch(reject)\r\n    })\r\n    \r\n}\r\nconst URL_UPLOAD = '/api/1.0/sap/commons/transmission/put'\r\nconst get = (url)=>{\r\n    let headers = new Headers();\r\n    headers.append('Accept', 'application/json')\r\n    headers.append('x-j_gid_cod_app',config.appCode)\r\n    return new Promise((resolve, reject)=>{\r\n        fetch2(url,{credentials: 'same-origin', headers})\r\n        .then(resp=>{\r\n            if (resp [1] && resp[1].indexOf('application/json')>=0){\r\n                let ret = {}\r\n                try{ret = JSON.parse(resp[0])}\r\n                catch(e){reject(['Error de parseo de json', resp[0]]); return;}\r\n                if (resp[2]===200){\r\n                   resolve(ret)\r\n                }\r\n                else{\r\n                    reject([ret.operationMessage || `Error haciendo get de ${url}, ${resp[2]}`, ret]) \r\n                }\r\n            }\r\n            else{\r\n                console.warn(`${url} devolvió content-type: ${resp[1]}`)\r\n                if (resp[2]===200){\r\n                    resolve(resp[0])\r\n                }\r\n                else{\r\n                    reject([`Error haciendo get de ${url}, ${resp[2]}`, resp[0]]) \r\n                }\r\n            }\r\n        })\r\n        .catch(e=>{\r\n            reject([\"Error de comunicaciones\", `Error haciendo get de ${url}, ${e}`])\r\n        })\r\n    })\r\n}\r\nconst post = (url, data)=>{\r\n    let headers = new Headers();\r\n    headers.append('Accept', 'application/json')\r\n    headers.append('Content-Type', 'application/json;charset=UTF-8')\r\n    headers.append('x-j_gid_cod_app',config.appCode)\r\n    return new Promise((resolve, reject)=>{\r\n        fetch2(url,{credentials: 'same-origin', method: 'post', body: JSON.stringify(data), headers})\r\n        .then(resp=>{\r\n            if (resp [1] && resp[1].indexOf('application/json')>=0){\r\n                let ret = {}\r\n                try{ret = JSON.parse(resp[0])}\r\n                catch(e){reject(['Error de parseo de json', resp[0]]); return;}\r\n                if (resp[2]===200){\r\n                   resolve(ret)\r\n                }\r\n                else{\r\n                    reject([ret.operationMessage || `Error haciendo post de ${url}, ${resp[2]}`, ret]) \r\n                }\r\n            }\r\n            else{\r\n                console.warn(`${url} devolvió content-type: ${resp[1]}`)\r\n                if (resp[2]===200){\r\n                    resolve(resp[0])\r\n                }\r\n                else{\r\n                    reject([`Error haciendo post de ${url}, ${resp[2]}`, resp[0]]) \r\n                }\r\n            }\r\n        })\r\n        .catch(e=>{\r\n            reject([\"Error de comunicaciones\", `Error haciendo post de ${url}, ${e}`])\r\n        })\r\n    })\r\n}\r\nconst descargaFichero = (url, nombre = \"sin_nombre\") =>{\r\n    let ext = '.bin'\r\n    try{\r\n        const tmp = url + '?'\r\n        const posPunto = tmp.lastIndexOf('.')\r\n        const fin = tmp.lastIndexOf('?')\r\n        ext = tmp.substring(posPunto, fin)\r\n    }\r\n    catch(e){console.warn('Imposible obtener la extensión');}\r\n    return getBlob(url).then(blob=>{\r\n        let frame = document.querySelector('#frame_descarga_docs')\r\n        if (!frame) {\r\n            frame = document.createElement('div')\r\n            frame.id = 'frame_descarga_docs'\r\n            frame.style.display = 'none'\r\n            frame.innerHTML =  '<a>sad</a>'\r\n            document.body.appendChild(frame)\r\n        }\r\n        const a = frame.querySelector('a')\r\n        a.setAttribute('download', nombre + ext)\r\n        a.setAttribute('href', blob)\r\n        const clickevent = document.createEvent(\"MouseEvent\")\r\n        clickevent.initEvent(\"click\", true, true)\r\n        a.dispatchEvent(clickevent)\r\n        setTimeout(()=>URL.revokeObjectURL(blob), 10000)\r\n        return true\r\n    })\r\n}\r\nconst getBlob = (url)=>{\r\n    url = url + (url.indexOf('?')>0?'&':'?') + 'x-j_gid_cod_app=' + config.appCode\r\n    //url = urlRewrite(url)\r\n    /*console.log(urlRewrite(url, true))\r\n    if (typeof(DanaOrigUrl) === 'function'){//Juniper\r\n        url = urlRewrite(url, true)\r\n    }*/\r\n    return new Promise((resolve, reject)=>{\r\n\t\tconst xhr = new XMLHttpRequest()\r\n        Danaopen(xhr, 'GET', url)\r\n        //xhr.open('GET', url, true)\r\n        xhr.responseType = 'blob'\r\n        DanaSetRequestHeader(xhr, 'x-j_gid_cod_app',config.appCode)\r\n\t\t//xhr.setRequestHeader('x-j_gid_cod_app',config.appCode)\r\n\t\txhr.onload = function(e) {\r\n\t\t  if (this.status == 200) {\r\n\t\t\tconst blob = new Blob([this.response], {type: 'application/content-stream'})\r\n\t\t\tresolve(window.URL.createObjectURL(blob))\r\n\t\t  }\r\n\t\t  else{\r\n\t\t\t  reject([\"Error en la petición - cod: \" + String(this.status), this.statusText])\r\n\t\t  }\r\n        }\r\n        xhr.onerror = function(e) {\r\n            reject([\"Error descargando fichero\", e])\r\n        }\r\n\t\txhr.send();\r\n\t})\r\n}\r\nconst subirFichero = file =>{\r\n    if (file.size >= 25242880) {\r\n        return Promise.reject([\"El tamaño del fichero excede 24 MB\", \"El tamaño del fichero excede 24 MB\"])\r\n    }\r\n    const formData = new FormData()\r\n    formData.append('file', file)\r\n    formData.append('server', 'iplusput')\r\n    let headers = new Headers();\r\n    headers.append('x-j_gid_cod_app', config.appCode)\r\n    return new Promise((resolve, reject)=>{\r\n        fetch2(URL_UPLOAD, {credentials: 'same-origin', method: 'post', body: formData, headers})\r\n        .then(resp=>{\r\n            if (resp [1] && resp[1].indexOf('application/json')>=0){\r\n                let ret = {}\r\n                try{ret = JSON.parse(resp[0])}\r\n                catch(e){reject(['Error de parseo de json', resp[0]]); return;}\r\n                if (resp[2]===200){\r\n                   resolve(ret)\r\n                }\r\n                else{\r\n                    reject([\"Error subiendo fichero\", ret]) \r\n                }\r\n            }\r\n            else{\r\n                console.warn(`${url} devolvió content-type: ${resp[1]}`)\r\n                if (resp[2]===200){\r\n                    resolve(resp[0])\r\n                }\r\n                else{\r\n                    reject([\"Error subiendo fichero\", resp[0]]) \r\n                }\r\n            }\r\n        })\r\n        .catch(e=>{\r\n            reject([\"Error de comunicaciones\", e])\r\n        })\r\n    })\r\n}\r\nconst http = (url, data) => data? post(url, data): get(url)\r\nexport {setAppNEO, http, descargaFichero, subirFichero, getTabit}","function doesStyleCreateStackingCtx(el) \r\n{    \r\n    if (el.nodeType !== 1){\r\n        return false\r\n    }\r\n    const styles = window.getComputedStyle(el)\r\n    if (styles.opacity < 1){return true;}\r\n    if (styles.transform !== 'none') {return true;}\r\n    if (styles.transformStyle === 'preserve-3d') {return true;}\r\n    if (styles.perspective !== 'none') {return true;}\r\n    if (styles.flowFrom !== 'none' && styles.content !== 'normal') {return true;}\r\n    if (styles.position === 'fixed') {return true;}\r\n    if (styles.position !== 'static' && styles.zIndex !== 'auto'){return true;}\r\n    if (el.tagName==='HTML'){return true;}\r\n    return false\r\n}\r\nfunction z(el){\r\n    return window.getComputedStyle(el).zIndex\r\n}\r\nfunction getStackingContext(el){\r\n    if (el.tagName==='HTML'){\r\n        return el\r\n    }\r\n    let parent = el.parentNode || el.host\r\n    while (!doesStyleCreateStackingCtx(parent)){\r\n        parent = parent.parentNode || parent.host\r\n    }\r\n    return parent\r\n}\r\nfunction getZEfectivoEnBody(el){\r\n    const tmp = []\r\n    let sC = getStackingContext(el)\r\n    while (sC.tagName !== 'HTML'){\r\n        tmp.unshift(sC)\r\n        sC = getStackingContext(sC)\r\n    }\r\n    if (tmp.length == 0){\r\n        return 'auto'\r\n    }\r\n    else{\r\n        return z(tmp[0])\r\n    }\r\n}\r\nexport default getZEfectivoEnBody","import {aside} from './Aside'\r\nimport {http, getTabit} from './servicios'\r\nimport {popupi, dialogMsg} from './Modal'\r\n//import getZEfectivoEnBody from './stacking'\r\nlet sec = 0\r\nconst uniq = ()=>{\r\n    return String(sec++)\r\n}\r\nconst resetSec = () =>{\r\n    sec = 0\r\n}\r\nlet secMulti = 0\r\nconst uniqMulti = ()=>{\r\n    return String(secMulti++)\r\n}\r\nconst resetSecMulti = () =>{\r\n    secMulti = 0\r\n}\r\nconst accionesPermitidas = ['AN', 'AD', 'VI', 'IM', 'EM', 'DE', 'DP', 'EP', 'IP', 'VP', 'AF', 'VD','EX']\r\nfunction filterAndAdjust(documentos){\r\n    const ret = documentos.filter(it=>it.identificadorSubtipoDocumento!=\" \")\r\n    .map(it=>{\r\n        const st = it.instanciasSubtipoDocumentos || it.instanciasSubtipoDocuments\r\n        return {...it, instanciasSubtipoDocumentos: st, id: uniq(), acciones: it.acciones.filter(a=>esAccionGestoria(a.codigoAccion))}\r\n    })\r\n    return ret\r\n}\r\nfunction documentosPendientes(docs){\r\n    let documentosTotales = 0\r\n    let documentosEnExpediente = 0\r\n    docs.forEach(doc=>{\r\n        doc.indicadorObligatoriedad && (documentosTotales += 1)\r\n        doc.codigoEstado === 'EE' && doc.indicadorObligatoriedad && (documentosEnExpediente += 1)\r\n    })\r\n    return documentosTotales - documentosEnExpediente\r\n}\r\nfunction esAccionGestoria(codigo) {\r\n    return accionesPermitidas.indexOf(codigo) !== -1;\r\n}\r\nconst EVENT = {\r\n    SHOW_LOADING_EXPEDIENTE:\"LoadingViewExpediente\",\r\n    HIDE_LOADING_EXPEDIENTE:\"hideLoadingViewExpediente\",\r\n    NOTIFY_PENDING:\"eventPendingDocuments\"\r\n}\r\nconst URLS = {\r\n    GESTIONARDOCUMENTOSGESTORIAS: '/api/1.0/extranet/extranet/gestionarDocumentosGestorias',\r\n    OBTENERMOTIVOEXCEPTUACION: '/api/1.0/extranet/ObtenerMotivoExceptuacionSBP/1.0',\r\n    INFO: '/api/1.0/extranet/saps/informacionDocumento',\r\n    MODIFICARDOCUMENTO: '/api/1.0/extranet/ModificarDocumentoSBP/1.0',\r\n    EXCEPTUARDOCUMENTO: '/api/1.0/extranet/ExceptuarDocumentoSBP/1.0',\r\n}\r\nconst templateli = document.createElement('template')\r\nconst templateliInput = document.createElement('template')\r\ntemplateli.innerHTML = require('./fragments/li.html')\r\ntemplateliInput.innerHTML = require('./fragments/liInput.html')\r\nconst mapEstado = {NA:'No aportado', NG: 'Pendiente de Firma', BL: 'Pendiente de Firma', GN: 'Pendiente de Firma',\r\n    GS: 'Pendiente de Firma', NE: 'No entregado', NP: 'No aportado por la aplicación', EE: 'En Expediente',\r\n    EO: 'En otra operación', EA: 'Pendiente de Archivo', VE: 'Pendiente de Validación',EF: 'Pendiente de Firma',\r\n    ED: 'Enviar Documento', IC: 'Incorporado por el cliente', IR: 'Incorporado por el cliente', PD: 'Pendiente Digitalización',\r\n    PF: 'Pendiente de Firma', DC: 'Devuelto CTD', EC: 'en CTD', NV: 'Documento no válido', EX: 'Exceptuado',\r\n    ER: 'En Expediente', DD: 'Enviando', EP: 'Firmado', IS: 'Imprimible'}\r\nconst mapAccion = {AN: 'Eliminar', AD: 'Adjuntar', VI: 'Visualizar', IM: 'Imprimir', EM: 'Enviar email', DE: 'Descargar',\r\n    DP: 'Descargar plantilla', EP: 'Enviar plantilla', IP: 'Imprimir plantilla', VP: 'Visualizar plantilla',\r\n    AF: 'Adjuntar firma', VD: 'Ver detalle', EX: 'Exceptuar'}\r\n\r\nfunction is(nodo, selector){\r\n    return nodo.closest(selector)==nodo\r\n  }\r\n\r\nconst toQueryString= o =>{\r\n    const str = []\r\n    Object.entries(o).forEach(([k, v])=>str.push(encodeURIComponent(k) + '=' + encodeURI(v.toString())))\r\n    return str.join('&')\r\n}\r\nconst MSGS = {\r\n    IMPORTEINSUFICIENTE: 'El importe disponible de provisión de fondos no es suficiente para abonar esta factura, <b>debes solicitar autorización para el cargo</b> en la Tarea de Ampliación de Provisión de Fondos.',\r\n    MODOADVERTENCIAANULAR: 'No es posible anular el pago ya que no hay saldo suficiente en la cuenta de la gestoría. Se le notificará a la gestoría que la anulación no es posible.',\r\n}\r\nconst mostrarInfoDoc = (doc, e, indicadorConsulta)=>{\r\n    if (doc.txtinformacionDocumento){\r\n        const p = document.createElement('p')\r\n        p.innerHTML = doc.txtinformacionDocumento\r\n        const style = require('./fragments/info.scss')\r\n        aside(e, e.composedPath()[0], p, style)\r\n        return\r\n    }\r\n    const listaInstancias = doc.instanciasSubtipoDocumentos.map(it=>it.identificadorInstanciaSubtipoDocumento)\r\n    const tipoFase = doc.codigoFase=='POST-FORMALIZACIÓN'?'POST':(doc.codigoFase=='FORMALIZACIÓN'?'FOR':'')\r\n    const model = {\r\n        tipoFase: tipoFase,\r\n        codFase: doc.codigoFase,\r\n        idDocGestorDoc: doc.identificadorDocumentoGestorDocumental,\r\n        codSubproceso: doc.codigoSubproceso,\r\n        indicadorFichero: 'N',\r\n        listaInstanciasSbtipoDoc: listaInstancias,\r\n        indicadorConsulta: indicadorConsulta,\r\n        tipoFichero: '',\r\n        tipoFirma: ''\r\n    };\r\n    const query = '?' + toQueryString(model)\r\n    const target = e.composedPath()[0]\r\n    target.style.cursor = 'progress'\r\n    http(URLS.INFO + query).then(data=>{\r\n        doc.txtinformacionDocumento = data.informacionDocumento\r\n        const p = document.createElement('p')\r\n        p.innerHTML = data.informacionDocumento\r\n        const style = require('./fragments/info.scss')\r\n        target.style.removeProperty('cursor')\r\n        aside(e, target, p, style)\r\n    })\r\n    .catch((e)=>{mostrarError(e); target.style.removeProperty('cursor');})\r\n}\r\nconst mostrarMenuAcciones = (doc, e, node)=>{\r\n    const onclick = (e)=>{\r\n        const target = e.composedPath()[0]\r\n        const li = target.closest('li')\r\n        if (e.type==\"click\" && is(target, 'input')){\r\n            target.value=\"\"\r\n            return\r\n        }\r\n        if ( is(target, 'p') && li.hasAttribute('data-id')){\r\n            node.dispatchEvent(new CustomEvent('bk-click',{\r\n                detail: {accion: li.getAttribute('data-id')}, bubbles: true\r\n            }))\r\n            close()\r\n        }\r\n        else if (e.type=='change' && is(target, 'input') && li.hasAttribute('data-id') && target.files[0]){\r\n            node.dispatchEvent(new CustomEvent('bk-click',{\r\n                detail: {\r\n                    accion: li.getAttribute('data-id'),\r\n                    file: target.files[0]\r\n                }, bubbles: true\r\n            }))\r\n            close()\r\n        }\r\n    }\r\n    const clean = (e)=>{\r\n        ul.removeEventListener('bk-clean', clean)\r\n        ul.removeEventListener('click', onclick)\r\n    }\r\n    let acciones = doc.acciones.map(a=>a.codigoAccion)\r\n    acciones.shift()\r\n    acciones = acciones.reduce((a, it)=>{\r\n            return {...a, [it]: mapAccion[it]}\r\n        },{})\r\n    const ul = document.createElement('ul')\r\n    Object.keys(acciones).forEach(it=>{\r\n        const li = ['AD', 'AF'].includes(it)?\r\n            templateliInput.content.cloneNode(true):\r\n            templateli.content.cloneNode(true)\r\n        li.querySelector('p').innerText = acciones[it]\r\n        li.querySelector('li').setAttribute('data-id', it)\r\n        ul.appendChild(li/*.querySelector('li')*/)\r\n    })\r\n    \r\n    const style = require('./fragments/menu.scss')\r\n    const close = aside(e, e.composedPath()[0], ul, style, 11, true, true)\r\n    /*const kk = ul.querySelector('li')\r\n    console.log(getZEfectivoEnBody(kk))*/\r\n    ul.addEventListener('click', onclick)\r\n    ul.addEventListener('change', onclick)\r\n    ul.addEventListener('bk-clean', clean)\r\n    //console.log(doc, e, acciones)\r\n}\r\nconst mostrarError = e=>{\r\n    console.log(e)\r\n    console.trace()\r\n    const handle = ()=>{\r\n        json.classList.toggle('oculto')\r\n    }\r\n    const clean = ()=>{\r\n        manejador.removeEventListener('click', handle)\r\n        aspa.removeEventListener('click', close)\r\n        aceptar.removeEventListener('click', close)\r\n        markup.removeEventListener('bk-clean', clean)\r\n    }\r\n    if (!Array.isArray(e) || e.length != 2)\r\n    {\r\n        e = [\"Error general\", e]\r\n    }\r\n    const style = require('./fragments/error.scss')\r\n    const html = require('./fragments/error.html')\r\n    const markup = document.createElement('div')\r\n    markup.innerHTML = html\r\n    markup.querySelector('.txt').innerText = e[0]\r\n    const json = markup.querySelector('.json')\r\n    json.innerText = JSON.stringify(e[1], null, 4)\r\n    const manejador = markup.querySelector('.manejador')\r\n    manejador.addEventListener('click', handle)\r\n    const aspa = markup.querySelector('.aspa')\r\n    const close = popupi(markup, style)\r\n    aspa.addEventListener('click', close)\r\n    const aceptar = markup.querySelector('.aceptar')\r\n    aceptar.addEventListener('click', close)\r\n    markup.addEventListener('bk-clean', clean)\r\n}\r\nconst acciones = {\r\n    consultarDocumento: (doc, cfg, sb)=>{\r\n        const listaInstancias = doc.instanciasSubtipoDocumentos.map(inst=>inst.identificadorInstanciaSubtipoDocumento)\r\n        var model = {\r\n            datosExpedienteConsultar: {\r\n                codFase: doc.codigoFase,\r\n                idDocGestorDoc: doc.identificadorDocumentoGestorDocumental,\r\n                listaInstanciasSbtipoDoc: listaInstancias,\r\n                codSubproceso: doc.codigoSubproceso,\r\n                indicadorFichero: 'S',\r\n                indicadorConsulta: cfg.indicadorConsulta\r\n            }\r\n        }\r\n        return new Promise((resolve, reject)=>{\r\n            sb.sendEvent('consultarDocumentoExpedienteDocumental', model)\r\n            .when('VisualizarDocumentoIUViewIU', response => {\r\n                const ficheroInyectado = response.ficheroInyectado\r\n                resolve('/api/1.0/sap/commons/transmission/get/iplusget/' + ficheroInyectado.ficheros[0].localizadorFichero)\r\n            })\r\n            .error(reject)\r\n        })\r\n    },\r\n    generarPlantilla: (doc, cfg, sb)=>{\r\n        const listaInstancias = doc.instanciasSubtipoDocumentos.map(inst=>inst.identificadorInstanciaSubtipoDocumento)\r\n        var model = {\r\n            datosExpedientePlantilla: {\r\n                idInstanciaDocumento: listaInstancias[0],\r\n                codFase: doc.codigoFase,\r\n                codSubproceso: doc.codigoSubproceso,\r\n                idInstanciaProceso: cfg.tarea.identificadorExpedienteDocumental,\r\n                codIdioma: 'ES',\r\n                opcionImpresion: 'CO01',\r\n                numCopias: '0001',\r\n                opcionGeneracion: '02',\r\n                indFirmaDigital: 'N',\r\n                datosImpresion: ''\r\n            }\r\n        }\r\n        return new Promise((resolve, reject)=>{\r\n            sb.sendEvent('generarPlantillaGestorDocumental', model)\r\n            .when('MostrarPlantillaIUView', response => {\r\n                resolve(response.localizadorFichero)\r\n            })\r\n            .error(reject)\r\n        })\r\n    },\r\n    adjuntarDocumento: (doc, cfg, sb, loc)=>{\r\n        var model = {\r\n            datosExpedienteAdjuntar: {\r\n                codigoFase: doc.codigoFase,\r\n                codigoSubproceso: doc.codigoSubproceso,\r\n                atributosnombreDocumento: [{ nombre: ' ', orden: ' ', valor: ' ' }],\r\n                instanciasSubtipoDocument: doc.instanciasSubtipoDocumentos,\r\n                localizadorFichero: loc,\r\n                identificadorPropuesta: cfg.propuesta.identificadorPropuesta,\r\n                identificadorContratoExpedienteActivo: cfg.propuesta.identificadorExpediente,\r\n                codigoFamiliaProducto: cfg.propuesta.codigoFamiliaProducto,\r\n                codigoGrupoProducto: cfg.propuesta.codigoGrupoProducto,\r\n                codigoLineaNegocio: cfg.propuesta.codigoLineaDeNegocio,\r\n                identificadorSubtipoDocumento: doc.identificadorSubtipoDocumento \r\n            }\r\n        };\r\n        return new Promise((resolve, reject)=>{\r\n            sb.sendEvent('adjuntarDocumentoEnGestorDocumental', model)\r\n            .when('MostrarDocumentosGestoriasIU', response => {\r\n                resolve(response)\r\n            })\r\n            .error(reject)\r\n        })\r\n    },\r\n    adjuntarFirma: (doc, cfg, sb, loc)=>{\r\n        var model = {\r\n            datosExpedienteAdjuntar: {\r\n                codigoFase: doc.codigoFase,\r\n                codigoSubproceso: doc.codigoSubproceso,\r\n                atributosnombreDocumento: [{ nombre: ' ', orden: ' ', valor: ' ' }],\r\n                instanciasSubtipoDocument: doc.instanciasSubtipoDocumentos,\r\n                localizadorFichero: loc,\r\n                identificadorPropuesta: cfg.propuesta.identificadorPropuesta,\r\n                identificadorContratoExpedienteActivo: cfg.propuesta.identificadorExpediente,\r\n                codigoFamiliaProducto: cfg.propuesta.codigoFamiliaProducto,\r\n                codigoGrupoProducto: cfg.propuesta.codigoGrupoProducto,\r\n                codigoLineaNegocio: cfg.propuesta.codigoLineaDeNegocio,\r\n                identificadorSubtipoDocumento: doc.identificadorSubtipoDocumento \r\n            }\r\n        };\r\n        return new Promise((resolve, reject)=>{\r\n            const cerrar = () =>{\r\n                close()\r\n                resolve(false)\r\n            }\r\n            const clean = ()=>{\r\n                resolve(false)\r\n                aspa.removeEventListener('click', cerrar)\r\n                cancelar.removeEventListener('click', cerrar)\r\n                markup.removeEventListener('bk-clean', clean)\r\n                aceptar.removeEventListener('click', handle)\r\n                date.removeEventListener('bkInput', handleChange)\r\n            }\r\n            const handle = ()=>{\r\n                if (aceptar.hasAttribute('disabled')){\r\n                    return\r\n                }\r\n                aceptar.setAttribute('disabled', true)\r\n                error.innerText = \"\"\r\n                model.datosExpedienteAdjuntar.fechaFirma = date.value.toISOString().replace(':', '.').replace(':', '.').replace('T', '-').replace('Z', '')\r\n                aceptar.classList.add('progress')\r\n                sb.sendEvent('adjuntarDocumentoEnGestorDocumental', model, true)\r\n                .when('MostrarDocumentosGestoriasIU', response => {\r\n                    aceptar.classList.remove('progress')\r\n                    resolve(true)\r\n                    close()\r\n                })\r\n                .error(e=>{\r\n                    console.log(e)\r\n                    aceptar.classList.remove('progress')\r\n                    error.innerText = \"Error en la operación\"\r\n                    aceptar.removeAttribute('disabled')\r\n                })\r\n            }\r\n            const handleChange = ()=>{\r\n                if (date.validity.valid){\r\n                    aceptar.removeAttribute('disabled') \r\n                }\r\n                else{\r\n                    aceptar.setAttribute('disabled', '')\r\n                }\r\n            }\r\n            const style = require('./fragments/adjuntarFirma.scss')\r\n            const html = require('./fragments/adjuntarFirma.html')\r\n            const markup = document.createElement('div')\r\n            markup.innerHTML = html\r\n            const aspa = markup.querySelector('.aspa')\r\n            aspa.addEventListener('click', cerrar)\r\n            const cancelar = markup.querySelector('.cancelar')\r\n            cancelar.addEventListener('click', cerrar)\r\n            const aceptar = markup.querySelector('.aceptar')\r\n            aceptar.addEventListener('click', handle)\r\n            markup.addEventListener('bk-clean', clean)\r\n            const date = markup.querySelector('bk-wc-ui-date')\r\n            date.addEventListener('bkInput', handleChange)\r\n            const error = markup.querySelector('.error')\r\n            const close = popupi(markup, style)\r\n        })\r\n    },\r\n    eliminarDocumento: (doc,sb)=>{\r\n        const listaInstancias = doc.instanciasSubtipoDocumentos.map(inst=>inst.identificadorInstanciaSubtipoDocumento)\r\n        var model = {\r\n            datosExpedienteEliminar: {\r\n                codFase: doc.codigoFase,\r\n                idDocGestorDoc: doc.identificadorDocumentoGestorDocumental,\r\n                listaInstanciasSbtipoDoc: listaInstancias,\r\n                codSubproceso: doc.codigoSubproceso,\r\n                indicadorFichero: 'S'\r\n            }\r\n        }\r\n        return new Promise((resolve, reject)=>{\r\n            sb.sendEvent('eliminarDocumentoEnGestorDocumental', model)\r\n            .when('MostrarDocumentosGestoriasIU', resolve)\r\n            .error(reject)\r\n        })\r\n    },\r\n    obtenerMotivoExceptuacion: (doc, cfg)=>{\r\n        const listaInstancias = doc.instanciasSubtipoDocumentos.map(inst=>inst.identificadorInstanciaSubtipoDocumento)\r\n        var model = {\r\n            codigoFase: doc.codigoFase,\r\n            documentoExceptuacion: listaInstancias[0],\r\n            codigoSubproceso: doc.codigoSubproceso,\r\n            indConsulta: cfg.indicadorConsulta,\r\n            idDocGestor: doc.identificadorDocumentoGestorDocumental\r\n        }\r\n        let datos = undefined\r\n        return http(URLS.OBTENERMOTIVOEXCEPTUACION, model)\r\n        .then(data=>{\r\n            datos = data.data\r\n            return atenderErroresyAvisos(data.data)\r\n        })\r\n        .then(tf=>{\r\n            //datos.codMotivoExceptuacion = 'ER'\r\n            if (!tf || !datos.codMotivoExceptuacion){\r\n                return false\r\n            }\r\n            else{\r\n                return openModalExceptuar(doc, datos);\r\n            }\r\n        })\r\n        .then(tf=>{\r\n            if (!datos.codigoError && !datos.avisos && !datos.codMotivoExceptuacion){\r\n                return new Promise((resolve, reject)=>{\r\n                    dialogMsg({type: 'info', message: 'Información', detail: \"Sin errores, avisos ni formulario de exceptuación\", textoOk: 'Aceptar'})\r\n                    .then(()=>resolve(false))\r\n                })\r\n            }\r\n            return tf;\r\n        })\r\n        .catch(mostrarError)\r\n    },\r\n    exceptuarDocumento: (doc)=>{\r\n        return openModalExceptuar(doc, {}, true);\r\n    }\r\n}\r\nconst openModalExceptuar = (doc, datos, nuevo)=>{\r\n    const listaInstancias = doc.instanciasSubtipoDocumentos.map(inst=>inst.identificadorInstanciaSubtipoDocumento)\r\n    return new Promise((resolve, reject)=>{\r\n        const handle_change = ()=>{\r\n            if (select.value == '-1'){\r\n                select.classList.add('req')\r\n                modificar.setAttribute('disabled', true)\r\n            }\r\n            else{\r\n                select.classList.remove('req')\r\n                modificar.removeAttribute('disabled')\r\n            }\r\n        }\r\n        const handle = ()=>{\r\n            if (modificar.hasAttribute('disabled')){\r\n                return\r\n            }\r\n            error.innerText = \"\"\r\n            modificar.setAttribute('disabled', true)\r\n            var model = {\r\n                codMotivoExceptuacion: select.value,\r\n                documentoExceptuacion: listaInstancias[0],\r\n                observaciones: textarea.value\r\n            }\r\n            return http(nuevo? URLS.EXCEPTUARDOCUMENTO: URLS.MODIFICARDOCUMENTO, model)\r\n            .then(data=>{\r\n                modificar.removeAttribute('disabled')\r\n                if (data.data && data.data.codigoError && data.data.resolucion){\r\n                    error.innerText = data.data.resolucion\r\n                }\r\n                else{\r\n                    resolve(true)\r\n                    close()\r\n                }\r\n            })\r\n            .catch(e=>{\r\n                console.log(e)\r\n                error.innerText = \"Error en la operación\"\r\n                modificar.removeAttribute('disabled')\r\n            })\r\n        }\r\n        const cerrar = () =>{\r\n            close()\r\n            resolve(false)\r\n        }\r\n        const clean = ()=>{\r\n            resolve(false)\r\n            aspa.removeEventListener('click', cerrar)\r\n            cancelar.removeEventListener('click', cerrar)\r\n            markup.removeEventListener('bk-clean', clean)\r\n            modificar.removeEventListener('click', handle)\r\n            select.removeEventListener('change', handle_change)\r\n        }\r\n        const style = require('./fragments/modalExceptuar.scss')\r\n        const html = require('./fragments/modalExceptuar.html')\r\n        const markup = document.createElement('div')\r\n        markup.innerHTML = html\r\n        const aspa = markup.querySelector('.aspa')\r\n        aspa.addEventListener('click', cerrar)\r\n        const cancelar = markup.querySelector('.cancelar')\r\n        cancelar.addEventListener('click', cerrar)\r\n        const modificar = markup.querySelector('.modificar')\r\n        nuevo && (modificar.innerText = \"Aceptar\")\r\n        modificar.addEventListener('click', handle)\r\n        markup.addEventListener('bk-clean', clean)\r\n        const select = markup.querySelector('select')\r\n        select.addEventListener('change', handle_change)\r\n        const textarea = markup.querySelector('textarea')\r\n        const error = markup.querySelector('.error')\r\n        getTabit('ObtenerMotivosExceptuacionDocumentoDYDA')\r\n        .then(data=>{\r\n            data.forEach(option=>{\r\n                const op = document.createElement('option')\r\n                op.innerText = option.DESLARGA\r\n                op.value = option.CODIGO\r\n                select.appendChild(op)\r\n           })\r\n           if (nuevo){\r\n                const op = document.createElement('option')\r\n                op.innerText = \"Seleccione una opción\"\r\n                op.value = \"-1\"\r\n                if (data.length >0){\r\n                    select.insertBefore(op,select.firstChild)\r\n                    select.classList.add('req')\r\n                }\r\n                else{\r\n                    select.appendChild(op)\r\n                }\r\n           }\r\n           select.value = datos.codMotivoExceptuacion || \"-1\"\r\n           markup.querySelector('.message').innerText = doc.nombreTipoDocumento || \"\"\r\n           textarea.value = datos.observaciones? datos.observaciones: ''\r\n           handle_change()\r\n        })\r\n        const close = popupi(markup, style)\r\n    })\r\n}\r\nconst atenderErroresyAvisos = data =>{\r\n    //data.codigoError = 'TN99991E'\r\n    return new Promise((resolve, reject)=>{\r\n        if (data.codigoError){\r\n            let cfg = {type: 'error', message: 'ERROR', detail: data.resolucion, textoOk: 'Aceptar'}\r\n            if (data.codigoError == 'TN99991E'){\r\n                cfg = {type: 'alert', message: 'Importe insuficiente', detail: MSGS.IMPORTEINSUFICIENTE, textoOk: 'Aceptar'}\r\n            }\r\n            /*else if (data.codigoError == 'TN99992E'){\r\n                cfg = { type: 'info', message: '', detail: 'msg', textoOk: 'Aceptar' }\r\n            }*/\r\n            else if (data.codigoError == 'TN00030E'){\r\n               cfg = {type: 'alert', message: 'Saldo insuficiente', detail: MSGS.MODOADVERTENCIAANULAR, textoOk: 'Aceptar'}\r\n            }\r\n            dialogMsg(cfg).then(out => resolve(false))\r\n        }\r\n        else if(data.avisos){\r\n            const mensaje = data.avisos.join('<br/>')\r\n            dialogMsg({type: 'alert', message: 'Aviso', detail: mensaje, textoOk: 'Aceptar'}).then(out=> resolve(true))\r\n        }\r\n        else{\r\n            resolve(true)\r\n        }\r\n    })\r\n}\r\nconst obtenerMultiArchivo = (node, doc, indicadorConsulta, subprocesoInyeccion)=>{\r\n    if(node.querySelector('.children').innerHTML !== \"\"){return Promise.resolve(true)}\r\n    const listaInstancias = doc.instanciasSubtipoDocumentos.map(it=>it.identificadorInstanciaSubtipoDocumento)\r\n    const model = {\r\n        'datosExpedienteConsultar': {\r\n            'codFase': doc.codigoFase,\r\n            'idDocGestorDoc': doc.identificadorDocumentoGestorDocumental,\r\n            'listaInstanciasSbtipoDoc': listaInstancias,\r\n            'codSubproceso': doc.codigoSubproceso,\r\n            'indicadorConsulta': indicadorConsulta,\r\n            'indicadorFichero': 'N'\r\n        }\r\n    };\r\n    return new Promise((resolve, reject)=>{\r\n        subprocesoInyeccion.sendEvent('consultarDocumentoExpedienteDocumental', model)\r\n        .when('VisualizarDocumentoIUViewIU', data=>{\r\n            const ficheros = data.ficheroInyectado.ficheros.filter(d=>d.nombrefichero != ' ')\r\n            const multidocs = ficheros.map(d=>{\r\n               const acciones = d.acciones.filter(a=>esAccionGestoria(a)).map(a=>({codigoAccion: a}))\r\n               return {\r\n                    nombreSubtipoDocumento: d.nombrefichero,\r\n                    codigoEstado: d.estadoFichero,\r\n                    identificadorDocumentoGestorDocumental: d.idDocGestorDocOut,\r\n                    id: uniqMulti(),\r\n                    parentId: doc.id,\r\n                    indicadorOriginalCopia: doc.indicadorOriginalCopia,\r\n                    indicadorObligatoriedad: doc.indicadorObligatoriedad,\r\n                    indicadorRequiereFirma: doc.indicadorRequiereFirma,\r\n                    acciones,\r\n                    codigoFase: doc.codigoFase,\r\n                    instanciasSubtipoDocumentos: doc.instanciasSubtipoDocumentos,\r\n                    codigoSubproceso: doc.codigoSubproceso\r\n                }\r\n            })\r\n            resolve(multidocs)\r\n        })\r\n        .error(reject)\r\n    })\r\n    \r\n    \r\n}\r\nexport {mostrarInfoDoc, mostrarMenuAcciones, mapEstado, mapAccion, is, acciones, mostrarError, EVENT, URLS,\r\nfilterAndAdjust, documentosPendientes, esAccionGestoria, uniq, resetSec, obtenerMultiArchivo}\r\n","import 'ui-date-wc'\r\nimport Modal, {popup, popupi} from './components/Modal';\r\nimport GestDoc from './components/GestDoc';\r\nimport GestDocTree from './components/GestDocTree';\r\nimport {setAppNEO, http} from './components/servicios';\r\nimport Subprocess from './components/Subprocess'\r\nimport Aside, {aside} from './components/Aside';\r\nimport Progress, {progress} from './components/Progress';\r\nimport {mostrarError} from './components/utilGestDoc'\r\nwindow.customElements.define('priv-modal', Modal);\r\nwindow.customElements.define('bk-wc-gest-doc', GestDoc);\r\nwindow.customElements.define('bk-wc-aside', Aside);\r\nwindow.customElements.define('bk-wc-progress', Progress);\r\nwindow.customElements.define('bk-wc-gest-doc-tree', GestDocTree);\r\n\r\nexport {popup, popupi, setAppNEO, http, Subprocess, aside, progress, mostrarError};"],"sourceRoot":""}